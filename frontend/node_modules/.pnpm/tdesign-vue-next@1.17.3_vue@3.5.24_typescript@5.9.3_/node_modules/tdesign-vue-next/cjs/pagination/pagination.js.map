{"version":3,"file":"pagination.js","sources":["../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isNaN.js","../../../components/pagination/pagination.tsx"],"sourcesContent":["import isNumber from './isNumber.js';\n\n/**\n * Checks if `value` is `NaN`.\n *\n * **Note:** This method is based on\n * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n * `undefined` and other non-number values.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n * @example\n *\n * _.isNaN(NaN);\n * // => true\n *\n * _.isNaN(new Number(NaN));\n * // => true\n *\n * isNaN(undefined);\n * // => true\n *\n * _.isNaN(undefined);\n * // => false\n */\nfunction isNaN(value) {\n  // An `NaN` primitive is the only value that is not equal to itself.\n  // Perform the `toStringTag` check first to avoid errors with some\n  // ActiveX objects in IE.\n  return isNumber(value) && value != +value;\n}\n\nexport default isNaN;\n","import { defineComponent, computed, ref, watch, toRefs, getCurrentInstance, nextTick } from 'vue';\nimport { isNaN, isObject } from 'lodash-es';\nimport {\n  PageFirstIcon as TdPageFirstIcon,\n  PageLastIcon as TdPageLastIcon,\n  ChevronLeftIcon as TdChevronLeftIcon,\n  ChevronRightIcon as TdChevronRightIcon,\n  ChevronLeftDoubleIcon as TdChevronLeftDoubleIcon,\n  ChevronRightDoubleIcon as TdChevronRightDoubleIcon,\n  EllipsisIcon as TdEllipsisIcon,\n} from 'tdesign-icons-vue-next';\nimport {\n  useConfig,\n  useVModel,\n  useTNodeJSX,\n  useGlobalIcon,\n  usePrefixClass,\n  useDefaultValue,\n} from '@tdesign/shared-hooks';\n\nimport TInputNumber from '../input-number';\nimport { Select } from '../select';\nimport TInputAdornment from '../input-adornment';\nimport props from './props';\nimport { usePaginationClasses, useMoreAction } from './hooks';\n\nimport type { PageInfo, TdPaginationProps } from '../pagination/type';\n\nconst min = 1;\n\ntype PageChangeType = 'prevPage' | 'nextPage' | 'prevMorePage' | 'nextMorePage';\n\nexport default defineComponent({\n  name: 'TPagination',\n  props,\n\n  setup(props: TdPaginationProps) {\n    const { emit } = getCurrentInstance();\n\n    const { modelValue, pageSize, current } = toRefs(props);\n    const renderTNodeJSX = useTNodeJSX();\n    const [innerCurrent, setInnerCurrent] = useVModel(\n      current,\n      modelValue,\n      props.defaultCurrent,\n      props.onCurrentChange,\n      'current',\n    );\n\n    const [innerPageSize, setInnerPageSize] = useDefaultValue(\n      pageSize,\n      props.defaultPageSize,\n      props.onPageSizeChange,\n      'pageSize',\n    );\n\n    const { t, globalConfig } = useConfig('pagination');\n    const COMPONENT_NAME = usePrefixClass('pagination');\n    const {\n      PageFirstIcon,\n      PageLastIcon,\n      ChevronLeftIcon,\n      ChevronRightIcon,\n      ChevronLeftDoubleIcon,\n      ChevronRightDoubleIcon,\n      EllipsisIcon,\n    } = useGlobalIcon({\n      PageFirstIcon: TdPageFirstIcon,\n      PageLastIcon: TdPageLastIcon,\n      ChevronLeftIcon: TdChevronLeftIcon,\n      ChevronRightIcon: TdChevronRightIcon,\n      ChevronLeftDoubleIcon: TdChevronLeftDoubleIcon,\n      ChevronRightDoubleIcon: TdChevronRightDoubleIcon,\n      EllipsisIcon: TdEllipsisIcon,\n    });\n\n    const { pageCount, ...CLASS_MAP } = usePaginationClasses(props, innerCurrent, innerPageSize, COMPONENT_NAME);\n\n    const { prevMore, isPrevMoreShow, curPageLeftCount, nextMore, isNextMoreShow, curPageRightCount } = useMoreAction(\n      props,\n      pageCount,\n      innerCurrent,\n    );\n\n    const jumpIndex = ref(innerCurrent.value);\n\n    const isFolded = computed(() => pageCount.value > props.maxPageBtn);\n\n    const sizeOptions = computed<Array<{ label: string; value: number }>>(() => {\n      const pageSizeOptions = props.pageSizeOptions as TdPaginationProps['pageSizeOptions'];\n      const options = pageSizeOptions.map((option) =>\n        isObject(option)\n          ? option\n          : {\n              label: t(globalConfig.value.itemsPerPage, { size: option }),\n              value: Number(option),\n            },\n      );\n      return options.sort((a, b) => a.value - b.value);\n    });\n\n    const isMidEllipsis = computed(() => {\n      return props.pageEllipsisMode === 'mid';\n    });\n\n    const pages = computed(() => {\n      const array = [];\n      let start;\n      let end;\n\n      if (isFolded.value) {\n        if (isPrevMoreShow.value && isNextMoreShow.value) {\n          start = innerCurrent.value - curPageLeftCount.value;\n          end = innerCurrent.value + curPageRightCount.value;\n        } else {\n          const foldedStart = isMidEllipsis.value ? 2 : 1;\n          const foldedEnd = isMidEllipsis.value ? pageCount.value - 1 : pageCount.value;\n          if (isPrevMoreShow.value) {\n            // 保证前面还有一页展示\n            start = Math.min(innerCurrent.value - 1, pageCount.value - props.foldedMaxPageBtn + 1);\n          } else {\n            start = foldedStart;\n          }\n\n          if (isNextMoreShow.value) {\n            // 保证后面还有一页展示\n            end = Math.max(innerCurrent.value + 1, props.foldedMaxPageBtn);\n          } else {\n            end = foldedEnd;\n          }\n        }\n      } else {\n        start = 1;\n        end = pageCount.value;\n      }\n\n      for (let i = start; i <= end; i++) {\n        array.push(i);\n      }\n      return array;\n    });\n\n    watch(\n      () => innerCurrent.value,\n      (val) => (jumpIndex.value = val),\n    );\n\n    const toPage: (pageIndex: number, pageInfo?: PageInfo) => void = (pageIndex, pageInfo) => {\n      if (props.disabled) {\n        return;\n      }\n      let current = pageIndex;\n      if (pageIndex < min) {\n        current = min;\n      } else if (pageIndex > pageCount.value) {\n        current = pageCount.value;\n      }\n      if (innerCurrent.value !== current) {\n        const prev = innerCurrent.value;\n        pageInfo = pageInfo || {\n          current,\n          previous: prev,\n          pageSize: innerPageSize.value,\n        };\n        if (pageInfo) {\n          setInnerCurrent(current, pageInfo);\n          props.onChange?.(pageInfo);\n        } else {\n          // 非主动更改时应仅更新modelValue不触发onCurrentChange事件\n          emit('update:modelValue', current);\n        }\n      }\n    };\n\n    const handlePageChange = (type: PageChangeType) => {\n      const pageChangeMap = {\n        prevPage: () => toPage(innerCurrent.value - 1),\n        nextPage: () => toPage(innerCurrent.value + 1),\n        prevMorePage: () => toPage(Math.max(2, innerCurrent.value - props.foldedMaxPageBtn)),\n        nextMorePage: () => toPage(Math.min(innerCurrent.value + props.foldedMaxPageBtn, pageCount.value - 1)),\n      };\n      pageChangeMap[type]();\n    };\n\n    const onSelectorChange = (val: string | number) => {\n      if (props.disabled) return;\n\n      const pageSize = Number(val);\n      const newPageCount = pageSize > 0 ? Math.max(Math.ceil(props.total / pageSize), 1) : 1;\n      const indexExceeds = innerCurrent.value > newPageCount;\n      // 用户自主控制\n      const userControlled = current.value != null && current.value < newPageCount;\n\n      // 初始 pageInfo（用于 setInnerPageSize 时传参）\n      const initialPageInfo = {\n        current: indexExceeds ? newPageCount : innerCurrent.value,\n        previous: innerCurrent.value,\n        pageSize,\n      };\n\n      setInnerPageSize(pageSize, initialPageInfo);\n\n      nextTick(() => {\n        if (indexExceeds) {\n          // 当当前页索引超过新页数时，需要跳转到合适页\n          const pageCurrent = userControlled ? newPageCount : innerCurrent.value;\n          const pageInfo = {\n            current: pageCurrent,\n            previous: initialPageInfo.current,\n            pageSize,\n          };\n          toPage(pageCurrent, pageInfo);\n        } else {\n          const pageInfo = {\n            current: innerCurrent.value,\n            previous: initialPageInfo.current,\n            pageSize,\n          };\n          // 如果在 setInnerPageSize 后 current 被外部受控修改，则触发 currentChange 事件\n          if (innerCurrent.value !== pageInfo.previous) {\n            emit('currentChange', innerCurrent.value, pageInfo);\n          }\n          props.onChange?.(pageInfo);\n        }\n      });\n    };\n\n    const onJumperChange = (val: number) => {\n      const currentIndex = Math.trunc(+val);\n      if (isNaN(currentIndex)) return;\n      jumpIndex.value = currentIndex;\n      toPage(currentIndex);\n    };\n\n    return () => {\n      const { total, pageSizeOptions, size, disabled, showPageSize } = props;\n      if (pageCount.value < 1) return null;\n\n      const Jumper = (\n        <div class={CLASS_MAP.jumperClass.value}>\n          {t(globalConfig.value.jumpTo)}\n          <TInputAdornment append={`/ ${pageCount.value} ${t(globalConfig.value.page)}`}>\n            <TInputNumber\n              class={CLASS_MAP.jumperInputClass.value}\n              v-model={jumpIndex.value}\n              onBlur={onJumperChange}\n              onEnter={onJumperChange}\n              max={pageCount.value}\n              min={min}\n              size={size}\n              disabled={disabled}\n              theme=\"normal\"\n              placeholder=\"\"\n            />\n          </TInputAdornment>\n        </div>\n      );\n\n      return (\n        <div class={CLASS_MAP.paginationClass.value}>\n          {/* 数据统计区 */}\n          {renderTNodeJSX(\n            'totalContent',\n            <div class={CLASS_MAP.totalClass.value}>{t(globalConfig.value.total, total)}</div>,\n          )}\n          {/* 分页器 */}\n          {showPageSize && pageSizeOptions.length > 0 && (\n            <Select\n              size={size}\n              value={innerPageSize}\n              disabled={disabled}\n              class={CLASS_MAP.sizerClass.value}\n              autoWidth={true}\n              onChange={onSelectorChange}\n              options={sizeOptions.value}\n              {...props.selectProps}\n            />\n          )}\n          {/* 首页按钮 */}\n          {props.showFirstAndLastPageBtn ? (\n            <div class={CLASS_MAP.preBtnClass.value} onClick={() => toPage(1)}>\n              <PageFirstIcon />\n            </div>\n          ) : null}\n          {/* 向前按钮 */}\n          {props.showPreviousAndNextBtn ? (\n            <div class={CLASS_MAP.preBtnClass.value} onClick={() => handlePageChange('prevPage')}>\n              <ChevronLeftIcon />\n            </div>\n          ) : null}\n          {/* 常规版 */}\n          {props.showPageNumber && props.theme === 'default' ? (\n            <ul class={CLASS_MAP.btnWrapClass.value}>\n              {isFolded.value && isMidEllipsis.value && (\n                <li class={CLASS_MAP.getButtonClass(1)} onClick={() => toPage(min)}>\n                  {min}\n                </li>\n              )}\n              {isFolded.value && isPrevMoreShow.value && isMidEllipsis.value ? (\n                <li\n                  class={CLASS_MAP.btnMoreClass.value}\n                  onClick={() => handlePageChange('prevMorePage')}\n                  onMouseover={() => (prevMore.value = true)}\n                  onMouseout={() => (prevMore.value = false)}\n                >\n                  {prevMore.value ? <ChevronLeftDoubleIcon /> : <EllipsisIcon />}\n                </li>\n              ) : null}\n              {pages.value.map((i) => (\n                <li class={CLASS_MAP.getButtonClass(i)} key={i} onClick={() => toPage(i)}>\n                  {i}\n                </li>\n              ))}\n              {isFolded.value && isNextMoreShow.value && isMidEllipsis.value ? (\n                <li\n                  class={CLASS_MAP.btnMoreClass.value}\n                  onClick={() => handlePageChange('nextMorePage')}\n                  onMouseover={() => (nextMore.value = true)}\n                  onMouseout={() => (nextMore.value = false)}\n                >\n                  {nextMore.value ? <ChevronRightDoubleIcon /> : <EllipsisIcon />}\n                </li>\n              ) : null}\n              {isFolded.value && isMidEllipsis.value ? (\n                <li class={CLASS_MAP.getButtonClass(pageCount.value)} onClick={() => toPage(pageCount.value)}>\n                  {pageCount.value}\n                </li>\n              ) : null}\n            </ul>\n          ) : null}\n          {/* 极简版 */}\n          {props.theme === 'simple' && Jumper}\n          {/* 向后按钮 */}\n          {props.showPreviousAndNextBtn ? (\n            <div class={CLASS_MAP.nextBtnClass.value} onClick={() => handlePageChange('nextPage')}>\n              <ChevronRightIcon />\n            </div>\n          ) : null}\n          {/* 尾页按钮 */}\n          {props.showFirstAndLastPageBtn ? (\n            <div class={CLASS_MAP.nextBtnClass.value} onClick={() => toPage(pageCount.value)}>\n              <PageLastIcon />\n            </div>\n          ) : null}\n          {/* 快速跳转 */}\n          {props.theme === 'default' && props.showJumper && Jumper}\n        </div>\n      );\n    };\n  },\n});\n"],"names":["isNaN","value","isNumber","min","defineComponent","name","props","setup","_getCurrentInstance","getCurrentInstance","emit","_toRefs","toRefs","modelValue","pageSize","current","renderTNodeJSX","useTNodeJSX","_useVModel","useVModel","defaultCurrent","onCurrentChange","_useVModel2","_slicedToArray","innerCurrent","setInnerCurrent","_useDefaultValue","useDefaultValue","defaultPageSize","onPageSizeChange","_useDefaultValue2","innerPageSize","setInnerPageSize","_useConfig","useConfig","t","globalConfig","COMPONENT_NAME","usePrefixClass","_useGlobalIcon","useGlobalIcon","PageFirstIcon","TdPageFirstIcon","PageLastIcon","TdPageLastIcon","ChevronLeftIcon","TdChevronLeftIcon","ChevronRightIcon","TdChevronRightIcon","ChevronLeftDoubleIcon","TdChevronLeftDoubleIcon","ChevronRightDoubleIcon","TdChevronRightDoubleIcon","EllipsisIcon","TdEllipsisIcon","_usePaginationClasses","usePaginationClasses","pageCount","CLASS_MAP","_objectWithoutProperties","_excluded","_useMoreAction","useMoreAction","prevMore","isPrevMoreShow","curPageLeftCount","nextMore","isNextMoreShow","curPageRightCount","jumpIndex","ref","isFolded","computed","maxPageBtn","sizeOptions","pageSizeOptions","options","map","option","isObject","label","itemsPerPage","size","Number","sort","a","b","isMidEllipsis","pageEllipsisMode","pages","array","start","end","foldedStart","foldedEnd","Math","foldedMaxPageBtn","max","i","push","watch","val","toPage","pageIndex","pageInfo","disabled","prev","previous","_props2$onChange","onChange","handlePageChange","type","pageChangeMap","prevPage","nextPage","prevMorePage","nextMorePage","onSelectorChange","newPageCount","ceil","total","indexExceeds","userControlled","initialPageInfo","nextTick","pageCurrent","_props2$onChange2","onJumperChange","currentIndex","trunc","showPageSize","Jumper","_createVNode","jumperClass","jumpTo","TInputAdornment","concat","page","jumperInputClass","onUpdateModelValue","$event","paginationClass","totalClass","length","Select","_mergeProps","sizerClass","selectProps","showFirstAndLastPageBtn","preBtnClass","onClick","showPreviousAndNextBtn","showPageNumber","theme","btnWrapClass","getButtonClass","btnMoreClass","onMouseover","onMouseout","nextBtnClass","showJumper"],"mappings":"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"}