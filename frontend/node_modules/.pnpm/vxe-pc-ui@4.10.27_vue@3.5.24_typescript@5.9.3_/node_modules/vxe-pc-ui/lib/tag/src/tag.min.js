"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vue=require("vue"),_comp=require("../../ui/src/comp"),_xeUtils=_interopRequireDefault(require("xe-utils")),_ui=require("../../ui");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default=exports.default=(0,_comp.defineVxeComponent)({name:"VxeTag",props:{border:{type:Boolean,default:()=>(0,_ui.getConfig)().tag.border},visible:{type:Boolean,default:null},status:String,title:[String,Number],icon:String,closeIcon:{type:String,default:()=>(0,_ui.getConfig)().tag.closeIcon},content:[String,Number],round:Boolean,closable:{type:Boolean,default:()=>(0,_ui.getConfig)().tag.closable},color:String,loading:Boolean,size:{type:String,default:()=>(0,_ui.getConfig)().tag.size||(0,_ui.getConfig)().size}},emits:["click","dblclick","close","update:visible"],setup(s,e){const{slots:u,emit:o}=e;var t=_xeUtils.default.uniqueId();const c=(0,_ui.useSize)(s)["computeSize"],g=(0,_vue.ref)(),d=(0,_vue.reactive)({showTag:!1!==s.visible}),i={refElem:g},l={},v={xID:t,props:s,context:e,reactData:d,getRefMaps:()=>i,getComputeMaps:()=>l},n=(e,t,i)=>{o(e,(0,_ui.createEvent)(i,{$tag:v},t))};t={dispatchEvent:n};const a=()=>{d.showTag=!1!==s.visible},_=e=>{var t=s["loading"];t||n("click",{},e)},p=e=>{var t=s["loading"];t||n("dblclick",{},e)},f=e=>{var t=s["loading"];t||(t=!d.showTag,d.showTag=t,o("update:visible",t),n("close",{visible:t},e))};Object.assign(v,t,{});return(0,_vue.watch)(()=>s.visible,()=>{a()}),a(),v.renderVN=()=>{var{status:e,color:t,title:i,round:o,border:l,loading:n}=s,a=d["showTag"],r=c.value;return a?(0,_vue.h)("span",{ref:g,class:["vxe-tag",{["size--"+r]:r,["theme--"+e]:e&&!t,["color--"+t]:t&&!e,"is--round":o,"is--border":l,"is--loading":n}],title:i,onClick:_,onDblclick:p},(()=>{var{icon:e,content:t,closable:i,closeIcon:o,loading:l}=s,n=u.default,a=u.icon,r=u.closeIcon||u["close-icon"];return[a||e?(0,_vue.h)("span",{class:"vxe-tag--icon"},a?a({}):[(0,_vue.h)("i",{class:e})]):(0,_ui.renderEmptyElement)(v),(0,_vue.h)("span",{class:"vxe-tag--content"},n?n({}):_xeUtils.default.toValueString(t)),l||i?(0,_vue.h)("span",{class:l?"vxe-tag--loading":"vxe-tag--close",onClick:f},!l&&r?r({}):[(0,_vue.h)("i",{class:l?(0,_ui.getIcon)().TAG_LOADING:o||(0,_ui.getIcon)().TAG_CLOSE})]):(0,_ui.renderEmptyElement)(v)]})()):(0,_ui.renderEmptyElement)(v)},v},render(){return this.renderVN()}});