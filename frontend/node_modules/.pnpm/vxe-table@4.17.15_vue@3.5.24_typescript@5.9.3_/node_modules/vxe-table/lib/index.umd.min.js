((e,t)=>{"object"==typeof exports&&"object"==typeof module?module.exports=t(require("vue"),require("@vxe-ui/core"),require("xe-utils")):"function"==typeof define&&define.amd?define([,"@vxe-ui/core","xe-utils"],t):"object"==typeof exports?exports.VxeUITable=t(require("vue"),require("@vxe-ui/core"),require("xe-utils")):e.VxeUITable=t(e.Vue,e.VxeUI,e.XEUtils)})("undefined"!=typeof self?self:this,function(jt,Gt,Ut){{var Wt={9274:function(e){e.exports=jt},4345:function(e){e.exports=Gt},8871:function(e){e.exports=Ut},9306:function(e,t,r){var l=r(4901),o=r(6823),a=TypeError;e.exports=function(e){if(l(e))return e;throw new a(o(e)+" is not a function")}},679:function(e,t,r){var l=r(1625),o=TypeError;e.exports=function(e,t){if(l(t,e))return e;throw new o("Incorrect invocation")}},8551:function(e,t,r){var l=r(34),o=String,a=TypeError;e.exports=function(e){if(l(e))return e;throw new a(o(e)+" is not an object")}},9617:function(e,t,r){function l(i){return function(e,t,r){var l=s(e),o=c(l);if(0!==o){var a,n=d(r,o);if(i&&t!=t){for(;n<o;)if((a=l[n++])!=a)return!0}else for(;n<o;n++)if((i||n in l)&&l[n]===t)return i||n||0}return!i&&-1}}var s=r(5397),d=r(5610),c=r(6198);e.exports={includes:l(!0),indexOf:l(!1)}},4527:function(e,t,r){var l=r(3724),o=r(4376),a=TypeError,n=Object.getOwnPropertyDescriptor,r=l&&!function(){if(void 0!==this)return 1;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=r?function(e,t){if(o(e)&&!n(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},6319:function(e,t,r){var o=r(8551),a=r(9539);e.exports=function(t,e,r,l){try{return l?e(o(r)[0],r[1]):e(r)}catch(e){a(t,"throw",e)}}},2195:function(e,t,r){var r=r(9504),l=r({}.toString),o=r("".slice);e.exports=function(e){return o(l(e),8,-1)}},6955:function(e,t,r){var l=r(2140),o=r(4901),a=r(2195),n=r(8227)("toStringTag"),i=Object,s="Arguments"===a(function(){return arguments}());e.exports=l?a:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=((e,t)=>{try{return e[t]}catch(e){}})(e=i(e),n))?t:s?a(e):"Object"===(t=a(e))&&o(e.callee)?"Arguments":t}},7740:function(e,t,r){var s=r(9297),d=r(5031),c=r(7347),u=r(4913);e.exports=function(e,t,r){for(var l=d(t),o=u.f,a=c.f,n=0;n<l.length;n++){var i=l[n];s(e,i)||r&&s(r,i)||o(e,i,a(t,i))}}},2211:function(e,t,r){r=r(9039);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},2529:function(e){e.exports=function(e,t){return{value:e,done:t}}},6699:function(e,t,r){var l=r(3724),o=r(4913),a=r(6980);e.exports=l?function(e,t,r){return o.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},6980:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4659:function(e,t,r){var l=r(3724),o=r(4913),a=r(6980);e.exports=function(e,t,r){l?o.f(e,t,a(0,r)):e[t]=r}},2106:function(e,t,r){var l=r(283),o=r(4913);e.exports=function(e,t,r){return r.get&&l(r.get,t,{getter:!0}),r.set&&l(r.set,t,{setter:!0}),o.f(e,t,r)}},6840:function(e,t,r){var n=r(4901),i=r(4913),s=r(283),d=r(9433);e.exports=function(e,t,r,l){var o=(l=l||{}).enumerable,a=void 0!==l.name?l.name:t;if(n(r)&&s(r,a,l),l.global)o?e[t]=r:d(t,r);else{try{l.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return e}},6279:function(e,t,r){var o=r(6840);e.exports=function(e,t,r){for(var l in t)o(e,l,t[l],r);return e}},9433:function(e,t,r){var l=r(4576),o=Object.defineProperty;e.exports=function(t,r){try{o(l,t,{value:r,configurable:!0,writable:!0})}catch(e){l[t]=r}return r}},3724:function(e,t,r){r=r(9039);e.exports=!r(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:function(e,t,r){var l=r(4576),r=r(34),o=l.document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},6837:function(e){var t=TypeError;e.exports=function(e){if(9007199254740991<e)throw t("Maximum allowed index exceeded");return e}},8727:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2839:function(e,t,r){r=r(4576).navigator,r=r&&r.userAgent;e.exports=r?String(r):""},9519:function(e,t,r){var l,o,a=r(4576),r=r(2839),n=a.process,a=a.Deno,n=n&&n.versions||a&&a.version,a=n&&n.v8;!(o=a?0<(l=a.split("."))[0]&&l[0]<4?1:+(l[0]+l[1]):o)&&r&&(!(l=r.match(/Edge\/(\d+)/))||74<=l[1])&&(l=r.match(/Chrome\/(\d+)/))&&(o=+l[1]),e.exports=o},6518:function(e,t,r){var d=r(4576),c=r(7347).f,u=r(6699),p=r(6840),g=r(9433),h=r(7740),v=r(2796);e.exports=function(e,t){var r,l,o,a=e.target,n=e.global,i=e.stat,s=n?d:i?d[a]||g(a,{}):d[a]&&d[a].prototype;if(s)for(r in t){if(l=t[r],o=e.dontCallGetSet?(o=c(s,r))&&o.value:s[r],!v(n?r:a+(i?".":"#")+r,e.forced)&&void 0!==o){if(typeof l==typeof o)continue;h(l,o)}(e.sham||o&&o.sham)&&u(l,"sham",!0),p(s,r,l,e)}}},9039:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},6080:function(e,t,r){var l=r(7476),o=r(9306),a=r(616),n=l(l.bind);e.exports=function(e,t){return o(e),void 0===t?e:a?n(e,t):function(){return e.apply(t,arguments)}}},616:function(e,t,r){r=r(9039);e.exports=!r(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},9565:function(e,t,r){var r=r(616),l=Function.prototype.call;e.exports=r?l.bind(l):function(){return l.apply(l,arguments)}},350:function(e,t,r){var l=r(3724),r=r(9297),o=Function.prototype,a=l&&Object.getOwnPropertyDescriptor,r=r(o,"name"),n=r&&"something"===function(){}.name,l=r&&(!l||a(o,"name").configurable);e.exports={EXISTS:r,PROPER:n,CONFIGURABLE:l}},7476:function(e,t,r){var l=r(2195),o=r(9504);e.exports=function(e){if("Function"===l(e))return o(e)}},9504:function(e,t,r){var r=r(616),l=Function.prototype,o=l.call,l=r&&l.bind.bind(o,o);e.exports=r?l:function(e){return function(){return o.apply(e,arguments)}}},7751:function(e,t,r){var l=r(4576),o=r(4901);e.exports=function(e,t){return arguments.length<2?(r=l[e],o(r)?r:void 0):l[e]&&l[e][t];var r}},1767:function(e){e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},851:function(e,t,r){var l=r(6955),o=r(5966),a=r(4117),n=r(6269),i=r(8227)("iterator");e.exports=function(e){if(!a(e))return o(e,i)||o(e,"@@iterator")||n[l(e)]}},81:function(e,t,r){var l=r(9565),o=r(9306),a=r(8551),n=r(6823),i=r(851),s=TypeError;e.exports=function(e,t){t=arguments.length<2?i(e):t;if(o(t))return a(l(t,e));throw new s(n(e)+" is not iterable")}},5966:function(e,t,r){var l=r(9306),o=r(4117);e.exports=function(e,t){e=e[t];return o(e)?void 0:l(e)}},4576:function(e,t,r){function l(e){return e&&e.Math===Math&&e}e.exports=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof r.g&&r.g)||l("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,r){var l=r(9504),o=r(8981),a=l({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(o(e),t)}},421:function(e){e.exports={}},397:function(e,t,r){r=r(7751);e.exports=r("document","documentElement")},5917:function(e,t,r){var l=r(3724),o=r(9039),a=r(4055);e.exports=!l&&!o(function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},7055:function(e,t,r){var l=r(9504),o=r(9039),a=r(2195),n=Object,i=l("".split);e.exports=o(function(){return!n("z").propertyIsEnumerable(0)})?function(e){return"String"===a(e)?i(e,""):n(e)}:n},3706:function(e,t,r){var l=r(9504),o=r(4901),r=r(7629),a=l(Function.toString);o(r.inspectSource)||(r.inspectSource=function(e){return a(e)}),e.exports=r.inspectSource},1181:function(e,t,r){var l,o,a,n,i=r(8622),s=r(4576),d=r(34),c=r(6699),u=r(9297),p=r(7629),g=r(6119),r=r(421),h="Object already initialized",v=s.TypeError,s=s.WeakMap,m=i||p.state?((a=p.state||(p.state=new s)).get=a.get,a.has=a.has,a.set=a.set,l=function(e,t){if(a.has(e))throw new v(h);return t.facade=e,a.set(e,t),t},o=function(e){return a.get(e)||{}},function(e){return a.has(e)}):(r[n=g("state")]=!0,l=function(e,t){if(u(e,n))throw new v(h);return t.facade=e,c(e,n,t),t},o=function(e){return u(e,n)?e[n]:{}},function(e){return u(e,n)});e.exports={set:l,get:o,has:m,enforce:function(e){return m(e)?o(e):l(e,{})},getterFor:function(t){return function(e){if(d(e)&&(e=o(e)).type===t)return e;throw new v("Incompatible receiver, "+t+" required")}}}},4209:function(e,t,r){var l=r(8227),o=r(6269),a=l("iterator"),n=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||n[a]===e)}},4376:function(e,t,r){var l=r(2195);e.exports=Array.isArray||function(e){return"Array"===l(e)}},4901:function(e){var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},2796:function(e,t,r){function l(e,t){return(e=s[i(e)])===c||e!==d&&(a(t)?o(t):!!t)}var o=r(9039),a=r(4901),n=/#|\.prototype\./,i=l.normalize=function(e){return String(e).replace(n,".").toLowerCase()},s=l.data={},d=l.NATIVE="N",c=l.POLYFILL="P";e.exports=l},4117:function(e){e.exports=function(e){return null==e}},34:function(e,t,r){var l=r(4901);e.exports=function(e){return"object"==typeof e?null!==e:l(e)}},6395:function(e){e.exports=!1},757:function(e,t,r){var l=r(7751),o=r(4901),a=r(1625),r=r(7040),n=Object;e.exports=r?function(e){return"symbol"==typeof e}:function(e){var t=l("Symbol");return o(t)&&a(t.prototype,n(e))}},2652:function(e,t,r){function f(e,t){this.stopped=e,this.result=t}var x=r(6080),b=r(9565),C=r(8551),w=r(6823),y=r(4209),T=r(6198),E=r(1625),R=r(81),S=r(851),F=r(9539),D=TypeError,I=f.prototype;e.exports=function(e,t,r){function l(e){return a&&F(a,"normal",e),new f(!0,e)}function o(e){return p?(C(e),v?m(e[0],e[1],l):m(e[0],e[1])):v?m(e,l):m(e)}var a,n,i,s,d,c,u=r&&r.that,p=!(!r||!r.AS_ENTRIES),g=!(!r||!r.IS_RECORD),h=!(!r||!r.IS_ITERATOR),v=!(!r||!r.INTERRUPTED),m=x(t,u);if(g)a=e.iterator;else if(h)a=e;else{if(!(r=S(e)))throw new D(w(e)+" is not iterable");if(y(r)){for(n=0,i=T(e);n<i;n++)if((s=o(e[n]))&&E(I,s))return s;return new f(!1)}a=R(e,r)}for(d=(g?e:a).next;!(c=b(d,a)).done;){try{s=o(c.value)}catch(e){F(a,"throw",e)}if("object"==typeof s&&s&&E(I,s))return s}return new f(!1)}},9539:function(e,t,r){var a=r(9565),n=r(8551),i=r(5966);e.exports=function(e,t,r){var l,o;n(e);try{if(!(l=i(e,"return"))){if("throw"===t)throw r;return r}l=a(l,e)}catch(e){o=!0,l=e}if("throw"===t)throw r;if(o)throw l;return n(l),r}},9462:function(e,t,r){function l(l){var o=d.getterFor(l?v:h);return i(n(u),{next:function(){var t=o(this);if(l)return t.nextHandler();try{var e=t.done?void 0:t.nextHandler();return p(e,t.done)}catch(e){throw t.done=!0,e}},return:function(){var e,t=o(this),r=t.iterator;if(t.done=!0,l)return(e=c(r,"return"))?a(e,r):p(void 0,!0);if(t.inner)try{g(t.inner.iterator,"normal")}catch(e){return g(r,"throw",e)}return r&&g(r,"normal"),p(void 0,!0)}})}var a=r(9565),n=r(2360),o=r(6699),i=r(6279),s=r(8227),d=r(1181),c=r(5966),u=r(7657).IteratorPrototype,p=r(2529),g=r(9539),r=s("toStringTag"),h="IteratorHelper",v="WrapForValidIterator",m=d.set,f=l(!0),x=l(!1);o(x,r,"Iterator Helper"),e.exports=function(r,l){function e(e,t){t?(t.iterator=e.iterator,t.next=e.next):t=e,t.type=l?v:h,t.nextHandler=r,t.counter=0,t.done=!1,m(this,t)}return e.prototype=l?f:x,e}},713:function(e,t,r){var l=r(9565),o=r(9306),a=r(8551),n=r(1767),i=r(9462),s=r(6319),d=i(function(){var e=this.iterator,t=a(l(this.next,e));if(!(this.done=!!t.done))return s(e,this.mapper,[t.value,this.counter++],!0)});e.exports=function(e){return a(this),o(e),new d(n(this),{mapper:e})}},7657:function(e,t,r){var l,o,a=r(9039),n=r(4901),i=r(34),s=r(2360),d=r(2787),c=r(6840),u=r(8227),r=r(6395),p=u("iterator"),u=!1;[].keys&&("next"in(o=[].keys())?(d=d(d(o)))!==Object.prototype&&(l=d):u=!0),!i(l)||a(function(){var e={};return l[p].call(e)!==e})?l={}:r&&(l=s(l)),n(l[p])||c(l,p,function(){return this}),e.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:u}},6269:function(e){e.exports={}},6198:function(e,t,r){var l=r(8014);e.exports=function(e){return l(e.length)}},283:function(e,t,r){var l=r(9504),o=r(9039),a=r(4901),n=r(9297),i=r(3724),s=r(350).CONFIGURABLE,d=r(3706),r=r(1181),c=r.enforce,u=r.get,p=String,g=Object.defineProperty,h=l("".slice),v=l("".replace),m=l([].join),f=i&&!o(function(){return 8!==g(function(){},"length",{value:8}).length}),x=String(String).split("String"),r=e.exports=function(e,t,r){"Symbol("===h(p(t),0,7)&&(t="["+v(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!n(e,"name")||s&&e.name!==t)&&(i?g(e,"name",{value:t,configurable:!0}):e.name=t),f&&r&&n(r,"arity")&&e.length!==r.arity&&g(e,"length",{value:r.arity});try{r&&n(r,"constructor")&&r.constructor?i&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}r=c(e);return n(r,"source")||(r.source=m(x,"string"==typeof t?t:"")),e};Function.prototype.toString=r(function(){return a(this)&&u(this).source||d(this)},"toString")},741:function(e){var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){e=+e;return(0<e?r:t)(e)}},2360:function(e,t,r){function l(){}function o(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t}var a,n=r(8551),i=r(6801),s=r(8727),d=r(421),c=r(397),u=r(4055),r=r(6119),p=">",g="<",h="prototype",v="script",m=r("IE_PROTO"),f=function(e){return g+v+p+e+g+"/"+v+p},x=function(){try{a=new ActiveXObject("htmlfile")}catch(e){}x="undefined"==typeof document||document.domain&&a?o(a):(e=u("iframe"),t="java"+v+":",e.style.display="none",c.appendChild(e),e.src=String(t),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F);for(var e,t,r=s.length;r--;)delete x[h][s[r]];return x()};d[m]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(l[h]=n(e),r=new l,l[h]=null,r[m]=e):r=x(),void 0===t?r:i.f(r,t)}},6801:function(e,t,r){var l=r(3724),o=r(8686),i=r(4913),s=r(8551),d=r(5397),c=r(1072);t.f=l&&!o?Object.defineProperties:function(e,t){s(e);for(var r,l=d(t),o=c(t),a=o.length,n=0;n<a;)i.f(e,r=o[n++],l[r]);return e}},4913:function(e,t,r){var l=r(3724),o=r(5917),a=r(8686),n=r(8551),i=r(6969),s=TypeError,d=Object.defineProperty,c=Object.getOwnPropertyDescriptor,u="enumerable",p="configurable",g="writable";t.f=l?a?function(e,t,r){var l;return n(e),t=i(t),n(r),"function"==typeof e&&"prototype"===t&&"value"in r&&g in r&&!r[g]&&(l=c(e,t))&&l[g]&&(e[t]=r.value,r={configurable:(p in r?r:l)[p],enumerable:(u in r?r:l)[u],writable:!1}),d(e,t,r)}:d:function(e,t,r){if(n(e),t=i(t),n(r),o)try{return d(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new s("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7347:function(e,t,r){var l=r(3724),o=r(9565),a=r(8773),n=r(6980),i=r(5397),s=r(6969),d=r(9297),c=r(5917),u=Object.getOwnPropertyDescriptor;t.f=l?u:function(e,t){if(e=i(e),t=s(t),c)try{return u(e,t)}catch(e){}if(d(e,t))return n(!o(a.f,e,t),e[t])}},8480:function(e,t,r){var l=r(1828),o=r(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return l(e,o)}},3717:function(e,t){t.f=Object.getOwnPropertySymbols},2787:function(e,t,r){var l=r(9297),o=r(4901),a=r(8981),n=r(6119),r=r(2211),i=n("IE_PROTO"),s=Object,d=s.prototype;e.exports=r?s.getPrototypeOf:function(e){var t,e=a(e);return l(e,i)?e[i]:(t=e.constructor,o(t)&&e instanceof t?t.prototype:e instanceof s?d:null)}},1625:function(e,t,r){r=r(9504);e.exports=r({}.isPrototypeOf)},1828:function(e,t,r){var l=r(9504),n=r(9297),i=r(5397),s=r(9617).indexOf,d=r(421),c=l([].push);e.exports=function(e,t){var r,l=i(e),o=0,a=[];for(r in l)!n(d,r)&&n(l,r)&&c(a,r);for(;t.length>o;)!n(l,r=t[o++])||~s(a,r)||c(a,r);return a}},1072:function(e,t,r){var l=r(1828),o=r(8727);e.exports=Object.keys||function(e){return l(e,o)}},8773:function(e,t){var r={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,o=l&&!r.call({1:2},1);t.f=o?function(e){e=l(this,e);return!!e&&e.enumerable}:r},4270:function(e,t,r){var o=r(9565),a=r(4901),n=r(34),i=TypeError;e.exports=function(e,t){var r,l;if("string"===t&&a(r=e.toString)&&!n(l=o(r,e)))return l;if(a(r=e.valueOf)&&!n(l=o(r,e)))return l;if("string"!==t&&a(r=e.toString)&&!n(l=o(r,e)))return l;throw new i("Can't convert object to primitive value")}},5031:function(e,t,r){var l=r(7751),o=r(9504),a=r(8480),n=r(3717),i=r(8551),s=o([].concat);e.exports=l("Reflect","ownKeys")||function(e){var t=a.f(i(e)),r=n.f;return r?s(t,r(e)):t}},7750:function(e,t,r){var l=r(4117),o=TypeError;e.exports=function(e){if(l(e))throw new o("Can't call method on "+e);return e}},6119:function(e,t,r){var l=r(5745),o=r(3392),a=l("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},7629:function(e,t,r){var l=r(6395),o=r(4576),r=r(9433),a="__core-js_shared__",e=e.exports=o[a]||r(a,{});(e.versions||(e.versions=[])).push({version:"3.39.0",mode:l?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,r){var l=r(7629);e.exports=function(e,t){return l[e]||(l[e]=t||{})}},4495:function(e,t,r){var l=r(9519),o=r(9039),a=r(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!o(function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&l&&l<41})},5610:function(e,t,r){var l=r(1291),o=Math.max,a=Math.min;e.exports=function(e,t){e=l(e);return e<0?o(e+t,0):a(e,t)}},5397:function(e,t,r){var l=r(7055),o=r(7750);e.exports=function(e){return l(o(e))}},1291:function(e,t,r){var l=r(741);e.exports=function(e){e=+e;return e!=e||0==e?0:l(e)}},8014:function(e,t,r){var l=r(1291),o=Math.min;e.exports=function(e){e=l(e);return 0<e?o(e,9007199254740991):0}},8981:function(e,t,r){var l=r(7750),o=Object;e.exports=function(e){return o(l(e))}},2777:function(e,t,r){var l=r(9565),o=r(34),a=r(757),n=r(5966),i=r(4270),r=r(8227),s=TypeError,d=r("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var r=n(e,d);if(r){if(r=l(r,e,t=void 0===t?"default":t),!o(r)||a(r))return r;throw new s("Can't convert object to primitive value")}return i(e,t=void 0===t?"number":t)}},6969:function(e,t,r){var l=r(2777),o=r(757);e.exports=function(e){e=l(e,"string");return o(e)?e:e+""}},2140:function(e,t,r){var l={};l[r(8227)("toStringTag")]="z",e.exports="[object z]"===String(l)},6823:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},3392:function(e,t,r){var r=r(9504),l=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++l+o,36)}},7040:function(e,t,r){r=r(4495);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,r){var l=r(3724),r=r(9039);e.exports=l&&r(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},8622:function(e,t,r){var l=r(4576),r=r(4901),l=l.WeakMap;e.exports=r(l)&&/native code/.test(String(l))},8227:function(e,t,r){var l=r(4576),o=r(5745),a=r(9297),n=r(3392),i=r(4495),r=r(7040),s=l.Symbol,d=o("wks"),c=r?s.for||s:s&&s.withoutSetter||n;e.exports=function(e){return a(d,e)||(d[e]=i&&a(s,e)?s[e]:c("Symbol."+e)),d[e]}},4114:function(e,t,r){var l=r(6518),a=r(8981),n=r(6198),i=r(4527),s=r(6837);l({target:"Array",proto:!0,arity:1,forced:r(9039)(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!(()=>{try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}})()},{push:function(e){var t=a(this),r=n(t),l=arguments.length;s(r+l);for(var o=0;o<l;o++)t[r]=arguments[o],r++;return i(t,r),r}})},8111:function(e,t,r){function l(){if(i(this,m),c(this)===m)throw new C("Abstract class Iterator not directly constructable")}function o(t,e){f?u(m,t,{configurable:!0,get:function(){return e},set:function(e){if(s(this),this===m)throw new C("You can't redefine this property");h(this,t)?this[t]=e:p(this,t,e)}}):m[t]=e}var a=r(6518),n=r(4576),i=r(679),s=r(8551),d=r(4901),c=r(2787),u=r(2106),p=r(4659),g=r(9039),h=r(9297),v=r(8227),m=r(7657).IteratorPrototype,f=r(3724),r=r(6395),x="constructor",b="Iterator",v=v("toStringTag"),C=TypeError,w=n[b],n=r||!d(w)||w.prototype!==m||!g(function(){w({})});h(m,v)||o(v,b),!n&&h(m,x)&&m[x]!==Object||o(x,l),l.prototype=m,a({global:!0,constructor:!0,forced:n},{Iterator:l})},1148:function(e,t,r){var l=r(6518),o=r(2652),a=r(9306),n=r(8551),i=r(1767);l({target:"Iterator",proto:!0,real:!0},{every:function(r){n(this),a(r);var e=i(this),l=0;return!o(e,function(e,t){if(!r(e,l++))return t()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},2489:function(e,t,r){var l=r(6518),o=r(9565),a=r(9306),n=r(8551),i=r(1767),s=r(9462),d=r(6319),r=r(6395),c=s(function(){for(var e,t=this.iterator,r=this.predicate,l=this.next;;){if(e=n(o(l,t)),this.done=!!e.done)return;if(d(t,r,[e=e.value,this.counter++],!0))return e}});l({target:"Iterator",proto:!0,real:!0,forced:r},{filter:function(e){return n(this),a(e),new c(i(this),{predicate:e})}})},116:function(e,t,r){var l=r(6518),o=r(2652),a=r(9306),n=r(8551),i=r(1767);l({target:"Iterator",proto:!0,real:!0},{find:function(r){n(this),a(r);var e=i(this),l=0;return o(e,function(e,t){if(r(e,l++))return t(e)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},7588:function(e,t,r){var l=r(6518),o=r(2652),a=r(9306),n=r(8551),i=r(1767);l({target:"Iterator",proto:!0,real:!0},{forEach:function(t){n(this),a(t);var e=i(this),r=0;o(e,function(e){t(e,r++)},{IS_RECORD:!0})}})},1701:function(e,t,r){var l=r(6518),o=r(713);l({target:"Iterator",proto:!0,real:!0,forced:r(6395)},{map:o})},8237:function(e,t,r){var l=r(6518),a=r(2652),n=r(9306),i=r(8551),s=r(1767),d=TypeError;l({target:"Iterator",proto:!0,real:!0},{reduce:function(t){i(this),n(t);var e=s(this),r=arguments.length<2,l=r?void 0:arguments[1],o=0;if(a(e,function(e){l=r?(r=!1,e):t(l,e,o),o++},{IS_RECORD:!0}),r)throw new d("Reduce of empty iterator with no initial value");return l}})},3579:function(e,t,r){var l=r(6518),o=r(2652),a=r(9306),n=r(8551),i=r(1767);l({target:"Iterator",proto:!0,real:!0},{some:function(r){n(this),a(r);var e=i(this),l=0;return o(e,function(e,t){if(r(e,l++))return t()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1806:function(e,t,r){var l=r(6518),o=r(8551),a=r(2652),n=r(1767),i=[].push;l({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return a(n(o(this)),i,{that:e,IS_RECORD:!0}),e}})},8992:function(e,t,r){r(8111)},3215:function(e,t,r){r(1148)},4520:function(e,t,r){r(2489)},2577:function(e,t,r){r(116)},3949:function(e,t,r){r(7588)},1454:function(e,t,r){r(1701)},8872:function(e,t,r){r(8237)},7550:function(e,t,r){r(3579)},1795:function(e,t,r){r(1806)}},qt={};function Dt(e){var t=qt[e];return void 0!==t||(t=qt[e]={exports:{}},Wt[e].call(t.exports,t,t.exports,Dt)),t.exports}Dt.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Dt.d(t,{a:t}),t},Dt.d=function(e,t){for(var r in t)Dt.o(t,r)&&!Dt.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},Dt.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),Dt.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Dt.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},Dt.p="";var Xt={},Kt=(Dt.r(Xt),Dt.d(Xt,{Colgroup:function(){return ce},Column:function(){return se},Grid:function(){return yt},Table:function(){return Et},Toolbar:function(){return St},VXETable:function(){return X},VxeColgroup:function(){return de},VxeColumn:function(){return ie},VxeGrid:function(){return wt},VxeTable:function(){return Tt},VxeToolbar:function(){return Rt},VxeUI:function(){return lo.VxeUI},_t:function(){return j},clipboard:function(){return A},commands:function(){return T},config:function(){return P},default:function(){return ba},formats:function(){return y},getConfig:function(){return n},getI18n:function(){return u},getIcon:function(){return s},getTheme:function(){return o},globalEvents:function(){return v},globalResize:function(){return m},hooks:function(){return L},install:function(){return xa},interceptor:function(){return O},log:function(){return $},menus:function(){return w},modal:function(){return Q},print:function(){return Z},readFile:function(){return Y},renderer:function(){return f},saveFile:function(){return K},setConfig:function(){return a},setI18n:function(){return c},setIcon:function(){return i},setLanguage:function(){return d},setTheme:function(){return r},setup:function(){return _},t:function(){return z},use:function(){return H},validators:function(){return C},version:function(){return t}}),{}),lo=(Dt.r(Kt),Dt.d(Kt,{Colgroup:function(){return ce},Column:function(){return se},Grid:function(){return yt},Table:function(){return Et},Toolbar:function(){return St},VXETable:function(){return X},VxeColgroup:function(){return de},VxeColumn:function(){return ie},VxeGrid:function(){return wt},VxeTable:function(){return Tt},VxeToolbar:function(){return Rt},VxeUI:function(){return lo.VxeUI},_t:function(){return j},clipboard:function(){return A},commands:function(){return T},config:function(){return P},formats:function(){return y},getConfig:function(){return n},getI18n:function(){return u},getIcon:function(){return s},getTheme:function(){return o},globalEvents:function(){return v},globalResize:function(){return m},hooks:function(){return L},install:function(){return xa},interceptor:function(){return O},log:function(){return $},menus:function(){return w},modal:function(){return Q},print:function(){return Z},readFile:function(){return Y},renderer:function(){return f},saveFile:function(){return K},setConfig:function(){return a},setI18n:function(){return c},setIcon:function(){return i},setLanguage:function(){return d},setTheme:function(){return r},setup:function(){return _},t:function(){return z},use:function(){return H},validators:function(){return C},version:function(){return t}}),"undefined"!=typeof window&&(It=(It=window.document.currentScript)&&It.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(Dt.p=It[1]),Dt(8992),Dt(3949),Dt(4345)),It=Dt(8871),oo=Dt.n(It),Yt=null,Zt=null,Qt=null,Jt="z-index-manage",er=null,tr="z-index-style",rr={m:1e3,s:1e3};function lr(){return Yt||"undefined"!=typeof document&&(Yt=document),Yt}function or(){return Zt=Yt&&!Zt?Yt.body||Yt.getElementsByTagName("body")[0]:Zt}function ar(){var e;er||!(e=lr())||(er=e.getElementById(tr))||((er=e.createElement("style")).id=tr,e.getElementsByTagName("head")[0].appendChild(er)),er&&(er.innerHTML=":root{--dom-main"+(e="-z-index")+":"+cr()+";--dom-sub"+e+":"+hr()+"}")}function nr(){var e,t;return Qt||(e=lr())&&!(Qt=e.getElementById(Jt))&&(t=or())&&((Qt=e.createElement("div")).id=Jt,Qt.style.display="none",t.appendChild(Qt),sr(rr.m),pr(rr.s)),Qt}function ir(r){return function(e){var t;return e&&(e=Number(e),rr[r]=e,t=nr())&&(t.dataset?t.dataset[r]=e+"":t.setAttribute("data-"+r,e+"")),ar(),rr[r]}}var sr=ir("m");function dr(l,o){return function(e){var t=nr(),r=(r=t&&(t=t.dataset?t.dataset[l]:t.getAttribute("data-"+l))?Number(t):r)||rr[l];return e?Number(e)<r?o():e:r}}var cr=dr("m",ur);function ur(){return sr(cr()+1)}var pr=ir("s"),gr=dr("s",vr);function hr(){return cr()+gr()}function vr(){return pr(gr()+1),hr()}var It={setCurrent:sr,getCurrent:cr,getNext:ur,setSubCurrent:pr,getSubCurrent:hr,getSubNext:vr,getMax:function(){var e=0;if(lr()){var t=or();if(t)for(var r=t.getElementsByTagName("*"),l=0;l<r.length;l++){var o=r[l];o&&o.style&&1===o.nodeType&&(o=o.style.zIndex)&&/^\d+$/.test(o)&&(e=Math.max(e,Number(o)))}}return e}},mr=(ar(),It);let l=lo.VxeUI.getConfig;function ao(e){return e&&!1!==e.enabled}function Mt(e){return null==e||""===e}function fr(e){var e=e.name,t=oo().lastIndexOf(e,"."),r=e.substring(t+1,e.length).toLowerCase();return{filename:e.substring(0,t),type:r}}function Ro(){return mr.getNext()}function So(){return mr.getCurrent()}function Fo(e){return e&&e.children&&0<e.children.length}function no(e,t){var r;return oo().eqNull(e)?"":""+((r=l().translate)?r(""+e,t):e)}function io(e,t){return""+(Mt(e)?t?l().emptyCell:"":e)}function so(e){return""===e||oo().eqNull(e)}let t="4.17.15",r=(lo.VxeUI.version=t,lo.VxeUI.tableVersion=t,lo.VxeUI.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},headerTooltipConfig:{enterable:!0},footerTooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{autoOptions:{isCalcHeader:!0,isCalcBody:!0,isCalcFooter:!0},maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},menuConfig:{destroyOnClose:!0},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",storeOptions:{visible:!0,resizable:!0,sort:!0,fixed:!0},modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{destroyOnClose:!0,multiple:!0,showIcon:!0},floatingFilterConfig:{},aggregateConfig:{padding:!0,rowField:"id",parentField:"_X_ROW_PARENT_KEY",childrenField:"_X_ROW_CHILDREN",mapChildrenField:"_X_ROW_CHILD_LIST",indent:20,showIcon:!0,maxGroupSize:4,showAggFuncTitle:!0},treeConfig:{padding:!0,rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0,showRootLine:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isAll:!0,isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{gt:24,preSize:1,oSize:0},virtualYConfig:{gt:100,preSize:1,oSize:0},scrollbarConfig:{x:{visible:!0},y:{visible:!0}}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showLoading:!0,showResponseMsg:!0,showActionMsg:!0,response:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{},gantt:{}}),It="vxe-table-icon-",lo.VxeUI.setIcon({TABLE_SORT_ASC:It+"caret-up",TABLE_SORT_DESC:It+"caret-down",TABLE_FILTER_NONE:It+"funnel",TABLE_FILTER_MATCH:It+"funnel",TABLE_EDIT:It+"edit",TABLE_TITLE_PREFIX:It+"question-circle-fill",TABLE_TITLE_SUFFIX:It+"question-circle-fill",TABLE_TREE_LOADED:It+"spinner roll",TABLE_TREE_OPEN:It+"caret-right rotate90",TABLE_TREE_CLOSE:It+"caret-right",TABLE_EXPAND_LOADED:It+"spinner roll",TABLE_EXPAND_OPEN:It+"arrow-right rotate90",TABLE_EXPAND_CLOSE:It+"arrow-right",TABLE_CHECKBOX_CHECKED:It+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:It+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:It+"checkbox-indeterminate-fill",TABLE_CHECKBOX_DISABLED_UNCHECKED:It+"checkbox-unchecked-fill",TABLE_RADIO_CHECKED:It+"radio-checked-fill",TABLE_RADIO_UNCHECKED:It+"radio-unchecked",TABLE_RADIO_DISABLED_UNCHECKED:It+"radio-unchecked-fill",TABLE_CUSTOM_SORT:It+"drag-handle",TABLE_MENU_OPTIONS:It+"arrow-right",TABLE_MENU_OPTION_LOADING:It+"repeat roll",TABLE_DRAG_ROW:It+"drag-handle",TABLE_DRAG_COLUMN:It+"drag-handle",TABLE_DRAG_STATUS_ROW:It+"sort",TABLE_DRAG_STATUS_SUB_ROW:It+"add-sub",TABLE_DRAG_STATUS_AGG_GROUP:It+"grouping",TABLE_DRAG_STATUS_AGG_VALUES:It+"values",TABLE_DRAG_STATUS_COLUMN:It+"swap",TABLE_DRAG_DISABLED:It+"no-drop",TABLE_ROW_GROUP_OPEN:It+"arrow-right rotate90",TABLE_ROW_GROUP_CLOSE:It+"arrow-right",TABLE_AGGREGATE_GROUPING:It+"grouping",TABLE_AGGREGATE_VALUES:It+"values",TABLE_AGGREGATE_SORT:It+"drag-handle",TABLE_AGGREGATE_DELETE:It+"close",TOOLBAR_TOOLS_REFRESH:It+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:It+"repeat roll",TOOLBAR_TOOLS_IMPORT:It+"upload",TOOLBAR_TOOLS_EXPORT:It+"download",TOOLBAR_TOOLS_PRINT:It+"print",TOOLBAR_TOOLS_FULLSCREEN:It+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:It+"minimize",TOOLBAR_TOOLS_CUSTOM:It+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:It+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:It+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:It+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:It+"fixed-right-fill"}),lo.VxeUI.setTheme),o=lo.VxeUI.getTheme,a=lo.VxeUI.setConfig,n=lo.VxeUI.getConfig,i=lo.VxeUI.setIcon,s=lo.VxeUI.getIcon,d=lo.VxeUI.setLanguage,c=lo.VxeUI.setI18n,u=lo.VxeUI.getI18n,v=lo.VxeUI.globalEvents,m=lo.VxeUI.globalResize,f=lo.VxeUI.renderer,C=lo.VxeUI.validators,w=lo.VxeUI.menus,y=lo.VxeUI.formats,T=lo.VxeUI.commands,O=lo.VxeUI.interceptor,A=lo.VxeUI.clipboard,$=lo.VxeUI.log,L=lo.VxeUI.hooks,H=lo.VxeUI.use,_=e=>lo.VxeUI.setConfig(e),P=(lo.VxeUI.setup=_,e=>lo.VxeUI.setConfig(e)),z=(lo.VxeUI.config=P,(e,t)=>lo.VxeUI.getI18n(e,t)),j=(lo.VxeUI.t=z,(e,t)=>no(e,t)),X=(lo.VxeUI._t=j,lo.VxeUI),K=e=>lo.VxeUI.saveFile(e),Y=e=>lo.VxeUI.readFile(e),Z=e=>lo.VxeUI.print(e),Q={get(e){return lo.VxeUI.modal.get(e)},close(e){return lo.VxeUI.modal.close(e)},open(e){return lo.VxeUI.modal.open(e)},alert(e,t,r){return lo.VxeUI.modal.alert(e,t,r)},confirm(e,t,r){return lo.VxeUI.modal.confirm(e,t,r)},message(e,t){return lo.VxeUI.modal.message(e,t)},notification(e,t,r){return lo.VxeUI.modal.notification(e,t,r)}};var co=Dt(9274),It=co.defineComponent,xr=(Dt(4114),Dt(1454),Dt(8872),Dt(7550),lo.VxeUI.log),br="table v4.17.15";let Hl=xr.create("warn",br),_l=xr.create("error",br),{getI18n:J,formats:ee,renderer:te}=lo.VxeUI;class Ca{constructor(e,t,{renderHeader:r,renderCell:l,renderFooter:o,renderData:a}={}){var n=e.props,i=e.xeGrid,s=e.xeGantt,d=i||s,{field:c,editRender:u,filterRender:p,headerFormatter:g}=t,h=t.colId||oo().uniqueId("col_"),v=t.formatter,m=!oo().isBoolean(t.visible)||t.visible,f=ao(p)?te.get(p.name):null,f=f?f.createTableFilterOptions:null,x=zo(t.filters,h),g=(g&&_l("vxe.error.notProp",["header-formatter"]),["seq","checkbox","radio","expand","html"]);t.type&&-1===g.indexOf(t.type)&&Hl("vxe.error.errProp",["type="+t.type,g.join(", ")]),(oo().isBoolean(t.cellRender)||t.cellRender&&!oo().isObject(t.cellRender))&&Hl("vxe.error.errProp",["column.cell-render="+t.cellRender,"column.cell-render={}"]),(oo().isBoolean(t.editRender)||t.editRender&&!oo().isObject(t.editRender))&&Hl("vxe.error.errProp",["column.edit-render="+t.editRender,"column.edit-render={}"]),"expand"===t.type&&(g=n.treeConfig,n=e.getComputeMaps().computeTreeOpts,n=n.value,g)&&(n.showLine||n.line)&&_l("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"]),v&&(oo().isString(v)?(g=ee.get(v)||oo()[v])&&oo().isFunction(g.tableCellFormatMethod||g.cellFormatMethod)||_l("vxe.error.notFormats",[v]):!oo().isArray(v)||(n=ee.get(v[0])||oo()[v[0]])&&oo().isFunction(n.tableCellFormatMethod||n.cellFormatMethod)||_l("vxe.error.notFormats",[v[0]])),t.aggFunc&&!e.handlePivotTableAggregateData&&!0!==t.aggFunc&&_l("vxe.error.errProp",["column.agg-func="+t.aggFunc,"column.agg-func=true"]),c&&u&&(u.startField&&0<=(""+u.startField).indexOf(c)&&_l("vxe.error.modelConflicts",["field="+c,"edit-render.startField="+u.startField]),u.endField)&&0<=(""+u.endField).indexOf(c)&&_l("vxe.error.modelConflicts",["field="+c,"edit-render.endField="+u.endField]),Object.assign(this,{type:t.type,property:t.field,field:c,title:t.title,width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,resizable:t.resizable,fixed:t.fixed,align:t.align,headerAlign:t.headerAlign,footerAlign:t.footerAlign,showOverflow:t.showOverflow,showHeaderOverflow:t.showHeaderOverflow,showFooterOverflow:t.showFooterOverflow,className:t.className,headerClassName:t.headerClassName,footerClassName:t.footerClassName,formatter:v,headerFormatter:t.headerFormatter,footerFormatter:t.footerFormatter,padding:t.padding,verticalAlign:t.verticalAlign,sortable:t.sortable,sortBy:t.sortBy,sortType:t.sortType,filters:x,filterMultiple:!oo().isBoolean(t.filterMultiple)||t.filterMultiple,filterMethod:t.filterMethod,filterResetMethod:t.filterResetMethod,filterRecoverMethod:t.filterRecoverMethod,filterRender:p,floatingFilters:t.floatingFilters,rowGroupNode:t.rowGroupNode,treeNode:t.treeNode,dragSort:t.dragSort,rowResize:t.rowResize,cellType:t.cellType,cellRender:t.cellRender,editRender:u,contentRender:t.contentRender,headerExportMethod:t.headerExportMethod,exportMethod:t.exportMethod,footerExportMethod:t.footerExportMethod,titleHelp:t.titleHelp,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,aggFunc:t.aggFunc,copyMethod:t.copyMethod,cutMethod:t.cutMethod,pasteMethod:t.pasteMethod,params:t.params,id:h,parentId:null,visible:m,defaultParentId:null,halfVisible:!1,defaultVisible:m,defaultFixed:t.fixed,defaultAggGroup:t.aggGroup,defaultAggFunc:t.aggFunc,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderAggFn:"",renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:r||t.renderHeader,renderCell:l||t.renderCell,renderFooter:o||t.renderFooter,renderData:a,slots:t.slots}),!f||x&&x.length||(this.filters=zo(f({$table:e,column:this}),h)),d&&(g=d.getComputeMaps().computeProxyOpts,(n=g.value).beforeColumn)&&n.beforeColumn({$table:e,$grid:i,$gantt:s,column:this})}getTitle(){return no(this.title||("seq"===this.type?J("vxe.table.seqTitle"):""))}getKey(){var e=this.type;return this.field||(e?"type="+e:null)}update(e,t){"filters"!==e&&("field"===e&&(this.property=t),this[e]=t)}}let re={},le;function Do(){return le||((le=new Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),le}function Io(){return le||Do()}function Cr(e,t){return e?oo().isFunction(e)?e(t):e:""}function wr(e){return re[e]||(re[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),re[e]}function Mo(e){return e&&/^\d+(px)?$/.test(e)}function ko(e){return e&&/^\d+%$/.test(e)}function uo(e,t){return e&&e.className&&e.className.match&&e.className.match(wr(t))}function po(e,t){e&&uo(e,t)&&(e.className=e.className.replace(wr(t),""))}function go(e,t){e&&!uo(e,t)&&(po(e,t),e.className=e.className+" "+t)}function Oo(e){return e.ctrlKey||e.metaKey}function Ao(e,t="px"){return oo().isNumber(e)||/^\d+$/.test(""+e)?""+e+t:""+(e||"")}function kt(e,t){return e?e.querySelector(t):null}function yr(){var e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function Tr(e){return e?e.offsetHeight:0}function $o(e){return e?(e=getComputedStyle(e),oo().toNumber(e.paddingTop)+oo().toNumber(e.paddingBottom)):0}function ho(e,t){e&&(e.scrollTop=t)}function vo(e,t){e&&(e.scrollLeft=t)}function Er(e,t){t="html"===t.type?e.innerText:e.textContent;e.getAttribute("title")!==t&&e.setAttribute("title",t)}function Lo(e,t,r){let l=e;if(t&&t.length)for(var[o,a,n]=t;l;){if(o===l||a&&l===a||n&&l===n)return 1;if(r&&l===r)return;l=l.parentElement}}function mo(e,t,r,l){let o,a=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;a&&a.nodeType&&a!==document;){if(r&&uo(a,r)&&(!l||l(a)))o=a;else if(a===t)return{flag:!r||!!o,container:t,targetElem:o};a=a.parentNode}return{flag:!1}}function Rr(e){var e=e.getBoundingClientRect(),t=e.top,e=e.left,{scrollTop:r,scrollLeft:l,visibleHeight:o,visibleWidth:a}=yr();return{boundingTop:t,top:r+t,boundingLeft:e,left:l+e,visibleHeight:o,visibleWidth:a}}let oe="scrollIntoViewIfNeeded",ae="scrollIntoView";function Ho(){return{tZindex:0,currKeyField:"",isCurrDeepKey:!1,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterGroupFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableFullGroupData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},footerFullDataRowData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeHeaderList:[],mergeHeaderMaps:{},mergeHeaderCellMaps:{},mergeBodyList:[],mergeBodyMaps:{},mergeBodyCellMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},rowGroupExpandedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},cvCacheMaps:{},tHeaderHeight:0,tBodyHeight:0,tFooterHeight:0,teleportToWrapperElem:null,popupToWrapperElem:null,inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1}}let ne=(e,t)=>{let r=[];return e.forEach(e=>{e.parentId=t?t.id:null,e.visible&&(e.children&&e.children.length&&e.children.some(e=>e.visible)?(r.push(e),r.push(...ne(e.children,e))):r.push(e))}),r};function _o(e,t,r){var l=e.internalData;return t||r?(l.intoRunScroll=!1,l.inVirtualScroll=!1,l.inWheelScroll=!1,l.inHeaderScroll=!1,l.inBodyScroll=!1,l.inFooterScroll=!1,l.scrollRenderType="",e.scrollTo(t,r)):e.clearScroll()}function Po(){return oo().uniqueId("row_")}function Bo(e){e=e.internalData.currKeyField;return e}function fo(e,t){var{isCurrDeepKey:e,currKeyField:r}=e.internalData;return t?Sr((e?Fr:Ir)(t,r)):""}function Vo(e){let{isCurrDeepKey:t,currKeyField:r}=e.internalData,l=t?Dr:Mr;return{rowKey:r,handleUpdateRowId(e){return e?l(e,r):""}}}function xo(e){let{isCurrDeepKey:t,currKeyField:r}=e.internalData,l=t?Fr:Ir;return{rowKey:r,handleGetRowId(e){return e?Sr(l(e,r)):""}}}function Sr(e){return oo().eqNull(e)?"":encodeURIComponent(e)}function Fr(e,t){return oo().get(e,t)}function Dr(e,t){let r=Sr(Fr(e,t));return so(r)&&(r=Po(),oo().set(e,t,r)),r}function Ir(e,t){return e[t]}function Mr(e,t){let r=Sr(e[t]);return so(r)&&(r=Po(),e[t]=r),r}function bo(e,t){return t?oo().isString(t)||oo().isNumber(t)?e.getColumnByField(""+t):t:null}function No(e,t){return t?(t=oo().isString(t)||oo().isNumber(t)?t:fo(e,t),e.getRowById(t)):null}function Co(e,t,r,l){return e.resizeHeight||t.height||r.height||e.height||l}function kr(e){return e?(e=getComputedStyle(e),oo().toNumber(e.paddingLeft)+oo().toNumber(e.paddingRight)):0}function Or(e){var t,r;return e?(r=getComputedStyle(e),t=oo().toNumber(r.marginLeft),r=oo().toNumber(r.marginRight),e.offsetWidth+t+r):0}function zo(e,a){return e&&(oo().isArray(e)?e.map(({label:e,value:t,data:r,resetValue:l,checked:o})=>({label:e,value:t,data:r,resetValue:l,checked:!!o,_checked:!!o,_colId:a})):[])}function jo(e){return e.map((e,t)=>t%2==0?Number(e)+1:".").join("")}function wo(e,t){return oo().get(e,t.field)}function yo(e,t,r){oo().set(e,t.field,r)}function To(e){if(e){e=e.value;if(e)return e.$el||e}return null}function Go(e){return"unset"!==e&&e||0}function Uo(e){var{$table:t,column:r,cell:l}=e,o=t.props,a=t.internalData,t=t.getComputeMaps().computeResizableOpts,t=t.value.minWidth;if(t){e=oo().isFunction(t)?t(e):t;if("auto"!==e)return Math.max(1,oo().toNumber(e))}var n,i,s,d,t=a.elemStore,e=o.showHeaderOverflow,{showHeaderOverflow:a,minWidth:o}=r,r=oo().isUndefined(a)||oo().isNull(a)?e:a,e="title"===r||(!0===r||"tooltip"===r)||"ellipsis"===r;let c=oo().floor(1.8*(oo().toNumber(getComputedStyle(l).fontSize)||14))+(kr(l)+kr(kt(l,".vxe-cell")));if(e&&(a=Or(kt(l,".vxe-cell--drag-handle")),r=Or(kt(l,".vxe-cell--checkbox")),e=Or(kt(l,".vxe-cell--required-icon")),n=Or(kt(l,".vxe-cell--edit-icon")),i=Or(kt(l,".vxe-cell-title-prefix-icon")),s=Or(kt(l,".vxe-cell-title-suffix-icon")),d=Or(kt(l,".vxe-cell--sort")),l=Or(kt(l,".vxe-cell--filter")),c+=a+r+e+n+i+s+l+d),o){a=To(t["main-body-scroll"]);if(a){if(ko(o))return r=(a.clientWidth-1)/100,Math.max(c,Math.floor(oo().toInteger(o)*r));if(Mo(o))return Math.max(c,oo().toInteger(o))}}return c}function Ar(e){return e&&(e.constructor===Ca||e instanceof Ca)}function Wo(e){let t=[];return e.forEach(e=>{t.push(...e.children&&e.children.length?Wo(e.children):[e])}),t}function $r(r,e,l){Object.keys(e).forEach(t=>{(0,co.watch)(()=>e[t],e=>{l.update(t,e),r&&("filters"===t?(r.setFilter(l,e),r.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(t)&&r.handleRefreshColumnQueue())})})}function Lr(e,t,r,l){var e=e.reactData,o=e.staticColumns,a=t.parentNode,l=l?l.columnConfig:null,n=l?l.children:o;a&&n&&(r.defaultParentId=l?l.id:null,n.splice(oo().arrayIndexOf(a.children,t),0,r),e.staticColumns=o.slice(0))}function Hr(e,t){var e=e.reactData,r=e.staticColumns,l=oo().findTree(r,e=>e.id===t.id,{children:"children"});l&&l.items.splice(l.index,1),e.staticColumns=r.slice(0)}function qo(e,t){var e=e.internalData,r=e.fullColumnIdData;if(!t)return null;let l=t.parentId;for(;r[l];){let e=r[l].column;if(!(l=e.parentId))return e}return t}function Xo(e){var t=e.children;return t&&t.length?function e(t){var r=t.children;return r&&r.length?e(oo().first(r)):t}(oo().last(t)):e}function Ko(e){e.clearFilter&&e.clearFilter();var t=e,{props:e,internalData:r}=t,r=(r.initStatus=!1,[t.clearSort(),t.clearCurrentRow(),t.clearCurrentColumn(),t.clearRadioRow(),t.clearRadioReserve(),t.clearCheckboxRow(),t.clearCheckboxReserve(),t.clearRowExpand(),t.clearTreeExpand(),t.clearTreeExpandReserve(),t.clearPendingRow()]);return t.clearFilter&&r.push(t.clearFilter()),t.clearSelected&&(e.keyboardConfig||e.mouseConfig)&&r.push(t.clearSelected()),t.clearCellAreas&&e.mouseConfig&&r.push(t.clearCellAreas(),t.clearCopyCellArea()),Promise.all(r).then(()=>t.clearScroll())}function Yo(e,t){var r=e.props,l=e.reactData,o=e.internalData,{computeLeftFixedWidth:a,computeRightFixedWidth:n,computeRowOpts:i,computeCellOpts:s,computeDefaultRowHeight:d}=e.getComputeMaps(),r=r.showOverflow,{scrollYLoad:l,scrollYTop:c}=l,{elemStore:o,afterFullData:u,fullAllDataRowIdData:p,isResizeCellHeight:g}=o,i=i.value,s=s.value,d=d.value,a=a.value,n=n.value,o=To(o["main-body-scroll"]),h=fo(e,t);if(o){var v=o.clientHeight,m=o.scrollTop,o=o.querySelector(`[rowid="${h}"]`);if(o){var c=o.offsetTop+(l?c:0),o=o.clientHeight;if(c<m||m+v<c)return e.scrollTo(null,c);if(v+m<=c+o)return e.scrollTo(null,m+o)}else if(l)return g||s.height||i.height||!r?(o=(c=p[h]||{}).resizeHeight||s.height||i.height||c.height||d,(l=c.oTop)<m?e.scrollTo(null,l-a-1):e.scrollTo(null,l+o-(v-n-1))):e.scrollTo(null,(e.findRowIndexOf(u,t)-1)*d)}return Promise.resolve()}function Zo(r,l,t){var o=r.reactData,a=r.internalData,{computeLeftFixedWidth:n,computeRightFixedWidth:i}=r.getComputeMaps(),{scrollXLoad:o,scrollXLeft:s}=o,{elemStore:a,visibleColumn:d}=a,n=n.value,i=i.value,a=To(a["main-body-scroll"]);if(!l.fixed&&a){var c=a.clientWidth,u=a.scrollLeft;let e=null;if(t&&(t=fo(r,t),e=a.querySelector(`[rowid="${t}"] .`+l.id)),e=e||a.querySelector("."+l.id)){t=e.offsetLeft+(o?s:0),a=e.clientWidth;if(t<u+n)return r.scrollTo(t-n-1);if(c-i<t+a-u)return r.scrollTo(t+a-(c-i-1))}else if(o){let t=0;s=l.renderWidth;for(let e=0;e<d.length;e++){var p=d[e];if(p===l||p.id===l.id)break;t+=p.renderWidth}return t<u?r.scrollTo(t-n-1):r.scrollTo(t+s-(c-i-1))}}return Promise.resolve()}function Ot(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function _r(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function Pr(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function Eo(e){return null==e?[]:oo().isArray(e)?e:[e]}Dt(3215);let{getI18n:R,getIcon:S,renderer:F,renderEmptyElement:b}=lo.VxeUI;function Br(t){let{$table:r,column:e}=t;var l=r.context,l=l.slots,o=e.slots,a=r.props.dragConfig,n=r.getComputeMaps().computeRowDragOpts,{icon:n,trigger:i,disabledMethod:s}=n.value,s=s||(a?a.rowDisabledMethod:null);let d=s&&s(t);s=(o?o.rowDragIcon||o["row-drag-icon"]:null)||l.rowDragIcon||l["row-drag-icon"],o={};return"cell"!==i&&(o.onMousedown=e=>{d||r.handleCellDragMousedownEvent(e,t)},o.onMouseup=r.handleCellDragMouseupEvent),(0,co.h)("span",{key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":d}],...o},s?r.callSlot(s,t):[(0,co.h)("i",{class:n||(a?a.rowIcon:"")||S().TABLE_DRAG_ROW})])}function At(e,t){var{$table:r,column:l,level:o}=e,l=l.dragSort,{treeConfig:a,dragConfig:n}=r.props,{computeRowOpts:r,computeRowDragOpts:i,computeTreeOpts:s}=r.getComputeMaps(),r=r.value,i=i.value,s=s.value,{showIcon:i,isPeerDrag:d,isCrossDrag:c,visibleMethod:u}=i,u=u||(n?n.rowVisibleMethod:null),p=[];return l&&r.drag&&(i||n&&n.showRowIcon)&&(!u||u(e))&&(!a||s.transform&&(d||c||!o))&&p.push(Br(e)),p.concat(oo().isArray(t)?t:[t])}function Vr(e,t){return[(t=>{let{$table:r,column:e}=t,l=e.titlePrefix||e.titleHelp;return l?(0,co.h)("span",{class:["vxe-cell-title-prefix-icon",l.iconStatus?"theme--"+l.iconStatus:""],onMouseenter(e){r.triggerHeaderTitleEvent(e,l,t)},onMouseleave(e){r.handleTargetLeaveEvent(e)}},[(0,co.h)("i",{class:l.icon||S().TABLE_TITLE_PREFIX})]):b(r)})(e),(r=>{let{$table:l,column:e}=r;var o=(o=l.context).slots,a=e.slots,{computeColumnOpts:n,computeColumnDragOpts:i}=l.getComputeMaps(),n=n.value,{showIcon:i,icon:s,trigger:d,isPeerDrag:t,isCrossDrag:c,visibleMethod:u,disabledMethod:p}=i.value;if(!n.drag||!i||u&&!u(r)||e.fixed||!t&&!c&&e.parentId)return b(l);{let t=p&&p(r);n=(a?a.columnDragIcon||a["column-drag-icon"]:null)||o.columnDragIcon||o["column-drag-icon"],i={};return"cell"!==d&&(i.onMousedown=e=>{t||l.handleHeaderCellDragMousedownEvent(e,r)},i.onMouseup=l.handleHeaderCellDragMouseupEvent),(0,co.h)("span",{key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":t}],...i},n?l.callSlot(n,r):[(0,co.h)("i",{class:s||S().TABLE_DRAG_COLUMN})])}})(e),...oo().isArray(t)?t:[t],(t=>{let{$table:r,column:e}=t,l=e.titleSuffix;return l?(0,co.h)("span",{class:["vxe-cell-title-suffix-icon",l.iconStatus?"theme--"+l.iconStatus:""],onMouseenter(e){r.triggerHeaderTitleEvent(e,l,t)},onMouseleave(e){r.handleTargetLeaveEvent(e)}},[(0,co.h)("i",{class:l.icon||S().TABLE_TITLE_SUFFIX})]):b(r)})(e)]}function Nr(t,e){let{$table:r,column:l}=t;var o=r.props;let a=r.reactData;var n=r.getComputeMaps().computeHeaderTooltipOpts,o=o.showHeaderOverflow,i=a.isRowGroupStatus,{showHeaderOverflow:s,slots:d}=l,d=d?d.title:null;let c=n.value.showAll;n=oo().eqNull(s)?o:s;let u="title"===n,p=!0===n||"tooltip"===n;o={},(u||p||c)&&(o.onMouseenter=e=>{a.isDragResize||(u?Er(e.currentTarget,l):(p||c)&&r.triggerHeaderTooltipEvent(e,t))}),(p||c)&&(o.onMouseleave=e=>{a.isDragResize||(p||c)&&r.handleTargetLeaveEvent(e)}),s=l,n=e,e="html"===s.type&&oo().isString(n)?(0,co.h)("span",{key:"ch",innerHTML:n}):(0,co.h)("span",{key:"ct"},Eo(n));return[(0,co.h)("span",{class:"vxe-cell--title",...o},i&&l.aggFunc&&r.getPivotTableAggregateRenderColTitles?r.getPivotTableAggregateRenderColTitles(l,e):d?r.callSlot(d,t):[e])]}function zr(e){var{$table:e,row:t,column:r}=e;return io(e.getCellLabel(t,r),1)}function jr(e){var{column:t,row:r,$table:l}=e,o=l.props,a=l.reactData.isRowGroupStatus,o=o.editConfig,{type:n,treeNode:i,rowGroupNode:s,editRender:d}=t,{computeEditOpts:l,computeCheckboxOpts:c,computeAggregateOpts:u}=l.getComputeMaps(),u=u.value.mode,p=c.value,c=l.value,g=i||a&&("column"===u?t.field===r.groupField:s);switch(n){case"seq":return g?h.renderDeepIndexCell(e):h.renderSeqCell(e);case"radio":return g?h.renderDeepRadioCell(e):h.renderRadioCell(e);case"checkbox":return p.checkField?g?h.renderDeepSelectionCellByProp(e):h.renderCheckboxCellByProp(e):g?h.renderDeepSelectionCell(e):h.renderCheckboxCell(e);case"expand":return h.renderExpandCell(e);case"html":return g?h.renderDeepHTMLCell(e):h.renderHTMLCell(e)}return o&&ao(c)&&d?"cell"===c.mode?g?h.renderDeepCellEdit(e):h.renderCellEdit(e):g?h.renderDeepRowEdit(e):h.renderRowEdit(e):g?h.renderDeepCell(e):h.renderDefaultCell(e)}function Gr(e){var{column:t,$table:r}=e,l=r.props,r=r.getComputeMaps().computeEditOpts,l=l.editConfig,r=r.value,{type:t,filters:o,sortable:a,editRender:n}=t;switch(t){case"seq":return h.renderSeqHeader(e);case"radio":return h.renderRadioHeader(e);case"checkbox":return h.renderCheckboxHeader(e);case"html":if(o&&a)return h.renderSortAndFilterHeader(e);if(a)return h.renderSortHeader(e);if(o)return h.renderFilterHeader(e)}return l&&ao(r)&&n?h.renderEditHeader(e):o&&a?h.renderSortAndFilterHeader(e):a?h.renderSortHeader(e):o?h.renderFilterHeader(e):h.renderDefaultHeader(e)}function Ur(e){return h.renderDefaultFooter(e)}let h={createColumn(e,t){var r=t.type,l={renderHeader:Gr,renderCell:jr,renderFooter:Ur};return"expand"===r&&(l.renderData=h.renderExpandData),r=e,e=l,Ar(l=t)?l:(0,co.reactive)(new Ca(r,l,e))},renderHeaderTitle(e){var{$table:t,column:r}=e,{slots:l,editRender:o,cellRender:a}=r,o=o||a,a=l?l.header:null;if(a)return Nr(e,t.callSlot(a,e));if(o){l=F.get(o.name);if(l){t=l.renderTableHeader||l.renderHeader;if(t)return Nr(e,Eo(t(o,e)))}}return Nr(e,io(r.getTitle(),1))},renderDefaultHeader(e){return Vr(e,h.renderHeaderTitle(e))},renderDefaultCell(e){var{$table:t,row:r,column:l}=e,o=t.props,a=t.reactData.isRowGroupStatus,o=o.editConfig,{field:n,slots:i,editRender:s,cellRender:d,rowGroupNode:c,aggFunc:u,formatter:p}=l,o=o&&ao(s)?s:ao(d)?d:null,d=i?i.default:null,i=i?i.groupContent||i["group-content"]:null;let g="";if(a&&n&&r.isAggregate){var a=r,h=t.internalData.fullColumnFieldData,v=t.getComputeMaps().computeAggregateOpts,v=v.value,{mode:m,showTotal:f,totalMethod:x,countFields:b,contentMethod:C,mapChildrenField:w}=v,v=v.calcValuesMethod||v.countMethod||v.aggregateMethod,y=a.groupField,T=a.groupContent,w=w&&a[w]||[],E=a.childCount,h=h[y]||{},h={$table:t,groupField:y,groupColumn:h?h.column:null,column:l,groupValue:T,childList:w,childCount:E,aggValue:null,children:w,totalValue:E};if(i)return At(e,t.callSlot(i,Object.assign({groupField:y,groupContent:T,childList:w,childCount:E},e)));("column"===m?n===a.groupField:c)?(g=T,C&&(g=""+C(h)),f&&(g=R("vxe.table.rowGroupContentTotal",[g,x?x(h):E,E]))):t.getPivotTableAggregateCellAggValue?g=t.getPivotTableAggregateCellAggValue(e):(!0===u||b&&b.includes(n))&&v&&(h.aggValue=E,g=""+v(h))}else{if(d)return At(e,t.callSlot(d,e));if(o&&!p){i=F.get(o.name);if(i){y=i.renderTableCell||i.renderCell,w=i.renderTableDefault||i.renderDefault,m=s?y:w;if(m)return At(e,Eo(m(o,Object.assign({$type:s?"edit":"cell"},e))))}}g=t.getCellLabel(r,l)}a=s?s.placeholder:"";return At(e,[(0,co.h)("span",{class:"vxe-cell--label"},[s&&so(g)?(0,co.h)("span",{class:"vxe-cell--placeholder"},io(no(a),1)):(0,co.h)("span",io(g,1))])])},renderDeepCell(e){return h.renderDeepNodeBtn(e,h.renderDefaultCell(e))},renderDefaultFooter(e){var{$table:t,column:r,row:l}=e,{slots:o,editRender:a,cellRender:n}=r,a=a||n;if(n=o?o.footer:null)return t.callSlot(n,e);if(o=t.getFooterCellLabel(l,r),a){n=F.get(a.name);if(n){t=n.renderTableFooter||n.renderFooter;if(t)return Eo(t(a,Object.assign(e,{cellValue:o,itemValue:o})))}}return[(0,co.h)("span",{class:"vxe-cell--label"},io(o,1))]},renderRowGroupBtn(t,e){let r=t.$table;var l=r.reactData,o=r.internalData,{row:a,level:n}=t,i=r.getComputeMaps().computeAggregateOpts,l=l.rowGroupExpandedFlag,o=o.rowGroupExpandedMaps,{mode:i,padding:s,indent:d}=i.value,c=fo(r,a),l=!!l&&!!o[c];return(0,co.h)("div",{class:["vxe-row-group--tree-node",{"is--expanded":l}],style:"column"!==i&&s&&d?{paddingLeft:n*d+"px"}:void 0},[a.isAggregate?(0,co.h)("span",{class:"vxe-row-group--node-btn",onClick(e){r.triggerRowGroupExpandEvent(e,t)}},[(0,co.h)("i",{class:l?S().TABLE_ROW_GROUP_OPEN:S().TABLE_ROW_GROUP_CLOSE})]):b(r),(0,co.h)("div",{class:"vxe-row-group-cell"},e)])},renderTreeNodeBtn(t,e){let{$table:r,isHidden:l}=t;var o=r.reactData,a=r.internalData,{row:n,column:i,level:s}=t,i=i.slots,i=i?i.icon:null;if(i)return r.callSlot(i,t);var i=r.getComputeMaps().computeTreeOpts,o=o.treeExpandedFlag,{fullAllDataRowIdData:a,treeExpandedMaps:d,treeExpandLazyLoadedMaps:c}=a,i=i.value,{padding:u,indent:p,lazy:g,trigger:h,iconLoaded:v,showIcon:m,iconOpen:f,iconClose:x}=i,b=i.children||i.childrenField,i=i.hasChild||i.hasChildField,b=n[b],b=b&&b.length;let C=!1,w=!1,y=!1,T=!1;var E,R={};return l||(E=fo(r,n),w=!!o&&!!d[E],g&&(o=a[E],y=!!c[E],C=n[i],T=!!o.treeLoaded)),h&&"default"!==h||(R.onClick=e=>{r.triggerTreeExpandEvent(e,t)}),(0,co.h)("div",{class:["vxe-cell--tree-node",{"is--active":w}],style:u&&p?{paddingLeft:s*p+"px"}:void 0},[m&&(!g||T?b:b||C)?[(0,co.h)("div",{class:"vxe-cell--tree-btn",...R},[(0,co.h)("i",{class:y?v||S().TABLE_TREE_LOADED:w?f||S().TABLE_TREE_OPEN:x||S().TABLE_TREE_CLOSE})])]:null,(0,co.h)("div",{class:"vxe-tree-cell"},e)])},renderDeepNodeBtn(e,t){var{$table:r,row:l,column:o}=e,a=o.rowGroupNode,n=r.reactData.rowGroupList;if(n.length){n=r.getComputeMaps().computeAggregateOpts,r=n.value.mode;if("column"===r?o.field===l.groupField:a)return[h.renderRowGroupBtn(e,t)]}return[h.renderTreeNodeBtn(e,t)]},renderSeqHeader(e){var{$table:t,column:r}=e,l=r.slots,l=l?l.header:null;return Vr(e,Nr(e,l?t.callSlot(l,e):io(r.getTitle(),1)))},renderSeqCell(e){var{$table:t,column:r}=e,l=t.props.treeConfig,o=t.getComputeMaps().computeSeqOpts,o=o.value,r=r.slots,r=r?r.default:null;return r?At(e,t.callSlot(r,e)):(t=e.seq,r=o.seqMethod,At(e,[(0,co.h)("span",""+io(r?r(e):l?t:(o.startIndex||0)+t,1))]))},renderDeepIndexCell(e){return h.renderDeepNodeBtn(e,h.renderSeqCell(e))},renderRadioHeader(e){var{$table:t,column:r}=e,l=r.slots,o=l?l.header:null,l=l?l.title:null;return Vr(e,Nr(e,o?t.callSlot(o,e):[(0,co.h)("span",{class:"vxe-radio--label"},l?t.callSlot(l,e):io(r.getTitle(),1))]))},renderRadioCell(t){let{$table:r,column:e,isHidden:l}=t;var o=r.reactData,a=r.getComputeMaps().computeRadioOpts,o=o.selectRadioRow,n=e.slots,{labelField:a,checkMethod:i,visibleMethod:s}=a.value,d=t.row,c=n?n.default:null,n=n?n.radio:null,o=r.eqRow(d,o);let u=!s||s({$table:r,row:d}),p=!!i,g;l||(g={onClick(e){!p&&u&&r.triggerRadioRowEvent(e,t)}},i&&(p=!i({$table:r,row:d})));s={...t,checked:o,disabled:p,visible:u};return n?At(t,r.callSlot(n,s)):(i=[],u&&i.push((0,co.h)("span",{class:["vxe-radio--icon",o?S().TABLE_RADIO_CHECKED:p?S().TABLE_RADIO_DISABLED_UNCHECKED:S().TABLE_RADIO_UNCHECKED]})),(c||a)&&i.push((0,co.h)("span",{class:"vxe-radio--label"},c?r.callSlot(c,s):oo().get(d,a))),At(t,[(0,co.h)("span",{class:["vxe-cell--radio",{"is--checked":o,"is--disabled":p}],...g},i)]))},renderDeepRadioCell(e){return h.renderDeepNodeBtn(e,h.renderRadioCell(e))},renderCheckboxHeader(e){let{$table:t,column:r,isHidden:l}=e;var o=t.reactData,{computeIsAllCheckboxDisabled:a,computeCheckboxOpts:n}=t.getComputeMaps();let{isAllSelected:i,isIndeterminate:s}=o,d=a.value;var o=r.slots,a=o?o.header:null,o=o?o.title:null,{checkStrictly:n,showHeader:c,headerTitle:u}=n.value,p=r.getTitle(),g={},h=(l||(g.onClick=e=>{d||t.triggerCheckAllEvent(e,!i)}),{...e,checked:i,disabled:d,indeterminate:s});return Vr(e,Nr(h,a?t.callSlot(a,h):(n?c:!1!==c)?[(0,co.h)("span",{class:["vxe-cell--checkbox",{"is--checked":i,"is--disabled":d,"is--indeterminate":s}],title:oo().eqNull(u)?R("vxe.table.allTitle"):""+(u||""),...g},[(0,co.h)("span",{class:["vxe-checkbox--icon",s?S().TABLE_CHECKBOX_INDETERMINATE:i?S().TABLE_CHECKBOX_CHECKED:d?S().TABLE_CHECKBOX_DISABLED_UNCHECKED:S().TABLE_CHECKBOX_UNCHECKED]})].concat(o||p?[(0,co.h)("span",{class:"vxe-checkbox--label"},o?t.callSlot(o,h):p)]:[]))]:[(0,co.h)("span",{class:"vxe-checkbox--label"},o?t.callSlot(o,h):p)]))},renderCheckboxCell(t){let{$table:r,row:e,column:l,isHidden:o}=t;var a=r.props.treeConfig,{updateCheckboxFlag:n,isRowGroupStatus:i}=r.reactData,{selectCheckboxMaps:s,treeIndeterminateRowMaps:d}=r.internalData,{computeCheckboxOpts:c,computeAggregateOpts:u}=r.getComputeMaps(),u=u.value.mapChildrenField;let{labelField:p,checkMethod:g,visibleMethod:h}=c.value;var c=l.slots,v=c?c.default:null,c=c?c.checkbox:null;let m=!1,f=!1,x=!0,b=!1;var C,w={},s=(o||(C=fo(r,e),f=!!n&&!!s[C],g&&i&&r.isAggregateRecord(e)?(n=e[u||""])&&n.length&&!n.every(e=>!g({$table:r,row:e}))||(b=!0):(x=!h||h({$table:r,row:e}),b=g?!g({$table:r,row:e}):!!g),(a||i)&&(m=!!d[C]),w.onClick=e=>{!b&&x&&r.triggerCheckRowEvent(e,t,!f)}),{...t,checked:f,disabled:b,visible:x,indeterminate:m});return c?At(t,r.callSlot(c,s)):(u=[],x&&u.push((0,co.h)("span",{class:["vxe-checkbox--icon",m?S().TABLE_CHECKBOX_INDETERMINATE:f?S().TABLE_CHECKBOX_CHECKED:b?S().TABLE_CHECKBOX_DISABLED_UNCHECKED:S().TABLE_CHECKBOX_UNCHECKED]})),(v||p)&&u.push((0,co.h)("span",{class:"vxe-checkbox--label"},v?r.callSlot(v,s):oo().get(e,p))),At(t,[(0,co.h)("span",{class:["vxe-cell--checkbox",{"is--checked":f,"is--disabled":b,"is--indeterminate":m,"is--hidden":!x}],...w},u)]))},renderDeepSelectionCell(e){return h.renderDeepNodeBtn(e,h.renderCheckboxCell(e))},renderCheckboxCellByProp(t){let{$table:r,row:e,column:l,isHidden:o}=t;var a=r.props.treeConfig,{updateCheckboxFlag:n,isRowGroupStatus:i}=r.reactData,s=r.internalData.treeIndeterminateRowMaps,{computeCheckboxOpts:d,computeAggregateOpts:c}=r.getComputeMaps(),c=c.value.mapChildrenField,d=d.value;let{labelField:u,checkField:p,checkMethod:g,visibleMethod:h}=d;var d=d.indeterminateField||d.halfField,v=l.slots,m=v?v.default:null,v=v?v.checkbox:null;let f=!1,x=!1,b=!0,C=!1;var w,y={},c=(o||(w=fo(r,e),x=!!n&&oo().get(e,p),g&&i&&r.isAggregateRecord(e)?(n=e[c||""])&&n.length&&!n.every(e=>!g({$table:r,row:e}))||(C=!0):(b=!h||h({$table:r,row:e}),C=g?!g({$table:r,row:e}):!!g),(a||i)&&(f=!!s[w]),y.onClick=e=>{!C&&b&&r.triggerCheckRowEvent(e,t,!x)}),{...t,checked:x,disabled:C,visible:b,indeterminate:f});return v?At(t,r.callSlot(v,c)):(n=[],b&&(n.push((0,co.h)("span",{class:["vxe-checkbox--icon",f?S().TABLE_CHECKBOX_INDETERMINATE:x?S().TABLE_CHECKBOX_CHECKED:C?S().TABLE_CHECKBOX_DISABLED_UNCHECKED:S().TABLE_CHECKBOX_UNCHECKED]})),m||u)&&n.push((0,co.h)("span",{class:"vxe-checkbox--label"},m?r.callSlot(m,c):oo().get(e,u))),At(t,[(0,co.h)("span",{class:["vxe-cell--checkbox",{"is--checked":x,"is--disabled":C,"is--indeterminate":d&&!x?e[d]:f,"is--hidden":!b}],...y},n)]))},renderDeepSelectionCellByProp(e){return h.renderDeepNodeBtn(e,h.renderCheckboxCellByProp(e))},renderExpandCell(t){let{$table:r,isHidden:e,row:l,column:o}=t;var a=r.reactData.isRowGroupStatus,{rowExpandedMaps:n,rowExpandLazyLoadedMaps:i}=r.internalData,s=r.getComputeMaps().computeExpandOpts,{lazy:s,labelField:d,iconLoaded:c,showIcon:u,iconOpen:p,iconClose:g,visibleMethod:h}=s.value,v=o.slots,m=v?v.default:null,v=v?v.icon:null;let f=!1,x=!1;return a&&l.isAggregate?At(t,[]):v?At(t,r.callSlot(v,t)):(e||(a=fo(r,l),f=!!n[a],s&&(x=!!i[a])),At(t,[!u||h&&!h(t)?b(r):(0,co.h)("span",{class:["vxe-table--expanded",{"is--active":f}],onMousedown(e){e.stopPropagation()},onClick(e){r.triggerRowExpandEvent(e,t)}},[(0,co.h)("i",{class:["vxe-table--expand-btn",x?c||S().TABLE_EXPAND_LOADED:f?p||S().TABLE_EXPAND_OPEN:g||S().TABLE_EXPAND_CLOSE]})]),m||d?(0,co.h)("span",{class:"vxe-table--expand-label"},m?r.callSlot(m,t):oo().get(l,d)):b(r)]))},renderExpandData(e){var{$table:t,column:r}=e,{slots:r,contentRender:l}=r,r=r?r.content:null;if(r)return t.callSlot(r,e);if(l){t=F.get(l.name);if(t){r=t.renderTableExpand||t.renderExpand;if(r)return Eo(r(l,e))}}return[]},renderHTMLCell(e){var{$table:t,column:r}=e,r=r.slots,r=r?r.default:null;return At(e,r?t.callSlot(r,e):[(0,co.h)("span",{class:"vxe-cell--html",innerHTML:zr(e)})])},renderDeepHTMLCell(e){return h.renderDeepNodeBtn(e,h.renderHTMLCell(e))},renderSortAndFilterHeader(e){return Vr(e,h.renderHeaderTitle(e).concat(h.renderSortIcon(e).concat(h.renderFilterIcon(e))))},renderSortHeader(e){return Vr(e,h.renderHeaderTitle(e).concat(h.renderSortIcon(e)))},renderSortIcon(e){let{$table:t,column:r}=e;var l=t.getComputeMaps().computeSortOpts,{showIcon:l,allowBtn:o,ascTitle:a,descTitle:n,iconLayout:i,iconAsc:s,iconDesc:d,iconVisibleMethod:c}=l.value,{order:u,slots:p}=r;return!l||c&&!c(e)?[]:(l=p?p.sort:null)?Eo(t.callSlot(l,e)):[(0,co.h)("span",{class:["vxe-cell--sort",`vxe-cell--sort-${i}-layout`]},[(0,co.h)("i",{class:["vxe-sort--asc-btn",s||S().TABLE_SORT_ASC,{"sort--active":"asc"===u}],title:oo().eqNull(a)?R("vxe.table.sortAsc"):""+(a||""),onClick:o?e=>{e.stopPropagation(),t.triggerSortEvent(e,r,"asc")}:void 0}),(0,co.h)("i",{class:["vxe-sort--desc-btn",d||S().TABLE_SORT_DESC,{"sort--active":"desc"===u}],title:oo().eqNull(n)?R("vxe.table.sortDesc"):""+(n||""),onClick:o?e=>{e.stopPropagation(),t.triggerSortEvent(e,r,"desc")}:void 0})])]},renderFilterHeader(e){return Vr(e,h.renderHeaderTitle(e).concat(h.renderFilterIcon(e)))},renderFilterIcon(t){let{$table:r,column:e,hasFilter:l}=t;var o=r.reactData.filterStore,a=r.getComputeMaps().computeFilterOpts,{showIcon:a,iconNone:n,iconMatch:i,iconVisibleMethod:s}=a.value;return!a||s&&!s(t)?[]:[(0,co.h)("span",{class:["vxe-cell--filter",{"is--active":o.visible&&o.column===e}],onClick(e){r.triggerFilterEvent&&r.triggerFilterEvent(e,t.column,t)}},[(0,co.h)("i",{class:["vxe-filter--btn",l?i||S().TABLE_FILTER_MATCH:n||S().TABLE_FILTER_NONE],title:R("vxe.table.filter")})])]},renderEditHeader(e){var{$table:t,column:r}=e,l=t.props,o=t.getComputeMaps().computeEditOpts,{editConfig:l,editRules:a}=l,o=o.value,{sortable:n,filters:i,editRender:s}=r;let d=!1,c=(a&&(a=oo().get(a,r.field))&&(d=a.some(e=>e.required)),[]);return ao(l)&&({showAsterisk:r,showIcon:a,icon:l}=o,c=[d&&r?(0,co.h)("span",{class:"vxe-cell--required-icon"},[(0,co.h)("i")]):b(t),ao(s)&&a?(0,co.h)("span",{class:"vxe-cell--edit-icon"},oo().isFunction(l)?Eo(l({})):[(0,co.h)("i",{class:l||S().TABLE_EDIT})]):b(t)]),Vr(e,c.concat(h.renderHeaderTitle(e)).concat(n?h.renderSortIcon(e):[]).concat(i?h.renderFilterIcon(e):[]))},renderRowEdit(e){var{$table:t,column:r}=e,t=t.reactData.editStore,t=t.actived,r=r.editRender;return h.runRenderer(e,ao(r)&&t&&t.row===e.row)},renderDeepRowEdit(e){return h.renderDeepNodeBtn(e,h.renderRowEdit(e))},renderCellEdit(e){var{$table:t,column:r}=e,t=t.reactData.editStore,t=t.actived,r=r.editRender;return h.runRenderer(e,ao(r)&&t&&t.row===e.row&&t.column===e.column)},renderDeepCellEdit(e){return h.renderDeepNodeBtn(e,h.renderCellEdit(e))},runRenderer(e,t){var{$table:r,row:l,column:o}=e,a=r.reactData.isRowGroupStatus,{slots:o,field:n,editRender:i,formatter:s}=o,d=o?o.default:null,c=o?o.groupContent||o["group-content"]:null,o=o?o.edit:null,u=F.get(i.name),u=u?u.renderTableEdit||u.renderEdit:null,p=Object.assign({$type:"",isEdit:t},e);if(t)return p.$type="edit",o?r.callSlot(o,p):u?Eo(u(i,p)):[];if(a&&n&&l.isAggregate){t=l,o=r.getComputeMaps().computeAggregateOpts,u=o.value.mapChildrenField,i=t.groupField,a=t.groupContent,n=u&&t[u]||[],l=t.childCount;if(c)return At(e,r.callSlot(c,Object.assign({groupField:i,groupContent:a,childList:n,childCount:l},e)))}else if(d)return At(e,r.callSlot(d,p));return s?At(e,[(0,co.h)("span",{class:"vxe-cell--label"},zr(p))]):h.renderDefaultCell(p)}};var Qo=h,xr={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],headerFormatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,floatingFilters:Object,rowGroupNode:Boolean,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,aggFunc:[String,Boolean],copyMethod:Function,cutMethod:Function,pasteMethod:Function,params:Object},Wr=It({name:"VxeColumn",props:xr,setup(e,{slots:t}){let r=(0,co.ref)(),l=(0,co.inject)("$xeTable",null),o=(0,co.inject)("$xeColgroup",null);if(!l)return()=>(0,co.createCommentVNode)();let a=Qo.createColumn(l,e);a.slots=t;var t=()=>(0,co.h)("div",{ref:r}),n={columnConfig:a,renderVN:t};return $r(l,e,a),(0,co.onMounted)(()=>{var e=r.value;e&&Lr(l,e,a,o)}),(0,co.onUnmounted)(()=>{Hr(l,a)}),(0,co.provide)("$xeColumn",n),(0,co.provide)("$xeGrid",null),(0,co.provide)("$xeGantt",null),t}});let ie=Object.assign({},Wr,{install(e){e.component(Wr.name,Wr),e.component("VxeTableColumn",Wr)}}),se=(lo.VxeUI.dynamicApp&&(lo.VxeUI.dynamicApp.component(Wr.name,Wr),lo.VxeUI.dynamicApp.component("VxeTableColumn",Wr)),lo.VxeUI.component(Wr),ie);var qr=It({name:"VxeColgroup",props:xr,setup(e,{slots:t}){let r=(0,co.ref)(),l=(0,co.inject)("$xeTable",null),o=(0,co.inject)("$xeColgroup",null);if(!l)return()=>(0,co.createCommentVNode)();let a=Qo.createColumn(l,e);var n={},n=(t.header&&(n.header=t.header),a.slots=n,a.children=[],$r(l,e,a),(0,co.onMounted)(()=>{var e=r.value;e&&Lr(l,e,a,o)}),(0,co.onUnmounted)(()=>{Hr(l,a)}),{columnConfig:a});return(0,co.provide)("$xeColgroup",n),(0,co.provide)("$xeGrid",null),(0,co.provide)("$xeGantt",null),()=>(0,co.h)("div",{ref:r},t.default?t.default():[])}});let de=Object.assign({},qr,{install(e){e.component(qr.name,qr),e.component("VxeTableColgroup",qr)}}),ce=(lo.VxeUI.dynamicApp&&(lo.VxeUI.dynamicApp.component(qr.name,qr),lo.VxeUI.dynamicApp.component("VxeTableColgroup",qr)),lo.VxeUI.component(qr),de),e=(Dt(4520),lo.VxeUI.getConfig),Gl={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>null},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>e().table.resizable},stripe:{type:Boolean,default:()=>e().table.stripe},border:{type:[Boolean,String],default:()=>e().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>e().table.round},size:{type:String,default:()=>e().table.size||e().size},fit:{type:Boolean,default:()=>e().table.fit},loading:Boolean,align:{type:String,default:()=>e().table.align},headerAlign:{type:String,default:()=>e().table.headerAlign},footerAlign:{type:String,default:()=>e().table.footerAlign},showHeader:{type:Boolean,default:()=>e().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>e().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>e().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>e().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>e().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],showCustomHeader:{type:Boolean,default:()=>e().table.showCustomHeader},mergeHeaderCells:Array,mergeCells:Array,mergeFooterCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>e().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>e().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>e().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>e().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>e().table.emptyText},keepSource:{type:Boolean,default:()=>e().table.keepSource},autoResize:{type:Boolean,default:()=>e().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,aggregateConfig:Object,rowGroupConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,floatingFilterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,headerTooltipConfig:Object,footerTooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>e().table.animat},delayHover:{type:Number,default:()=>e().table.delayHover},params:Object},ue=lo.VxeUI.getConfig,Fe=(br={...Gl,layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>ue().grid.size||ue().size}},["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","columns-change","data-change","footer-data-change","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","clear-all-sort","filter-change","filter-visible","clear-filter","clear-all-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-group-expand","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","row-remove-dragend","row-insert-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","custom-visible-change","custom-visible-all","custom-fixed-change","custom-sort-change","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-extension-fill","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"]),Ul=(xr=[...Fe,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],Dt(1795),"row--drag-move"),Wl="col--drag-move";function Jo(e,t){oo().arrayEach(e,e=>{e.style.transform=`translateY(${t}px)`}),requestAnimationFrame(()=>{oo().arrayEach(e,e=>{go(e,Ul),e.style.transform=""})})}function ea(e,t){oo().arrayEach(e,e=>{e.style.transform=`translateX(${t}px)`}),requestAnimationFrame(()=>{oo().arrayEach(e,e=>{go(e,Wl),e.style.transform=""})})}let ql=(0,co.reactive)({row:null}),{getI18n:pe,renderer:bt,renderEmptyElement:xt}=lo.VxeUI,Ct="body";var ta=It({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(T){let Ze=(0,co.inject)("$xeTable",{}),{xID:E,props:Qe,context:R,reactData:Je,internalData:et}=Ze,{computeEditOpts:tt,computeMouseOpts:rt,computeCellOffsetWidth:lt,computeAreaOpts:ot,computeDefaultRowHeight:at,computeEmptyOpts:S,computeTooltipOpts:nt,computeRadioOpts:e,computeExpandOpts:le,computeTreeOpts:t,computeCheckboxOpts:it,computeCellOpts:st,computeValidOpts:dt,computeRowOpts:ct,computeColumnOpts:ut,computeRowDragOpts:pt,computeResizableOpts:gt,computeVirtualXOpts:ht,computeVirtualYOpts:vt,computeIsBodyRenderOptimize:L}=Ze.getComputeMaps(),F=(0,co.ref)(),D=(0,co.ref)(),I=(0,co.ref)(),M=(0,co.ref)(),k=(0,co.ref)(),O=(0,co.ref)(),A=(0,co.ref)(),$=(0,co.ref)(),mt=()=>{var e=Qe.delayHover,{lastScrollTime:t,isDragResize:r}=Je;return!!(r||t&&Date.now()<t+e)},ft=(o,a,n)=>{var i=a.column,s=Qe.treeConfig,d=st.value,c=ct.value,u=at.value,p=t.value,{slots:i,treeNode:g}=i,h=et.fullAllDataRowIdData;if(s&&g&&(p.showLine||p.line)){if(i&&i.line)return Ze.callSlot(i.line,a);s=h[o];let e=0,t=null,r=null,l="";return(s&&(e=s.level,t=s.items[s.treeIndex-1],r=s.parent),e||p.showRootLine)?(t?(g=h[fo(Ze,t)]||{},l=`${g.lineHeight||0}px`):e&&r&&(i=h[fo(Ze,r)]||{},l=`calc(-1em + ${Math.floor(n/2+Co(i,d,c,u)/2)}px)`),[(0,co.h)("div",{key:"tl",class:"vxe-tree--line-wrapper"},[(0,co.h)("div",{class:"vxe-tree--line",style:{height:l,bottom:`-${Math.floor(n/2)}px`,left:`calc(${e*p.indent}px + 1em)`}})])]):[]}return[]},ae=(H,e,t,_,P,r,B,V,l,o,N,z,j)=>{var a=Ze.xeGrid,n=Ze.xeGantt,{columnKey:G,resizable:i,showOverflow:s,border:U,height:d,treeConfig:W,cellClassName:q,cellStyle:X,align:c,spanMethod:K,mouseConfig:Y,editConfig:Z,editRules:u,tooltipConfig:p,padding:g}=Qe,{tableData:Q,tableColumn:J,dragRow:ee,overflowX:te,overflowY:re,currentColumn:le,scrollXLoad:h,scrollYLoad:oe,mergeBodyFlag:ae,calcCellHeightFlag:v,resizeHeightFlag:m,resizeWidthFlag:ne,editStore:ie,isAllOverflow:se,validErrorMaps:de}=Je,{fullAllDataRowIdData:ce,fullColumnIdData:f,mergeBodyCellMaps:ue,visibleColumn:pe,afterFullData:ge,mergeBodyList:he,scrollXStore:ve,scrollYStore:me}=et,x=st.value,b=dt.value,C=it.value,fe=tt.value,w=nt.value,xe=gt.value,be=ht.value,Ce=vt.value,{isAllColumnDrag:xe,isAllRowDrag:we}=xe,y=ct.value,T=pt.value,ye=at.value,v=v?x.height||y.height:0,{disabledMethod:E,isCrossDrag:Te,isPeerDrag:Ee}=T,Re=ut.value,Se=rt.value,Fe=ot.value,De=lt.value,Fe=Fe.selectCellToRow,{type:Ie,cellRender:Me,editRender:ke,align:Oe,showOverflow:R,className:Ae,treeNode:$e,rowResize:Le,padding:S,verticalAlign:F,slots:He}=o,_e=x.verticalAlign,ie=ie.actived,Pe=ce[e]||{},D=o.id,f=f[D]||{},I=ke||Me,I=I?bt.get(I.name):null,Be=I?I.tableCellClassName||I.cellClassName:null,Ve=I?I.tableCellStyle||I.cellStyle:"";let Ne=w.showAll;var ze=f.index,w=f._index,f=ao(ke),m=m?Pe.resizeHeight:0;let M=te&&(t?o.fixed!==t:!!o.fixed);g=oo().eqNull(S)?null===g?x.padding:g:S,S=oo().eqNull(R)?s:R,s="ellipsis"===S;let k="title"===S,O=!0===S||"tooltip"===S;R=se||k||O||s,S=oo().isBoolean(o.resizable)?o.resizable:Re.resizable||i,i=!!v,v=0<m;let je;m={},Oe=Oe||(I?I.tableCellAlign:"")||c,I=oo().eqNull(F)?_e:F,c=de[e+":"+D],_e=u&&b.showMessage&&("default"===b.message?d||1<Q.length:"inline"===b.message),F={colid:D};let A={$table:Ze,$grid:a,$gantt:n,isEdit:!1,seq:H,rowid:e,row:r,rowIndex:B,$rowIndex:V,_rowIndex:l,column:o,columnIndex:ze,$columnIndex:N,_columnIndex:w,fixed:t,source:"table",type:Ct,isHidden:!!M,level:P,visibleData:ge,data:Q,items:j},$=!1,Ge=!1,L=(($=y.drag?"row"===T.trigger||o.dragSort&&"cell"===T.trigger:$)&&(Ge=!(!E||!E(A))),(k||O||Ne||p)&&(m.onMouseover=e=>{mt()||(k?Er(e.currentTarget,o):(O||Ne)&&Ze.triggerBodyTooltipEvent(e,A)),Ze.dispatchEvent("cell-mouseenter",Object.assign({cell:e.currentTarget},A),e)}),(O||Ne||p)&&(m.onMouseleave=e=>{mt()||(O||Ne)&&Ze.handleTargetLeaveEvent(e),Ze.dispatchEvent("cell-mouseleave",Object.assign({cell:e.currentTarget},A),e)}),($||C.range||Y)&&(m.onMousedown=e=>{Ze.triggerCellMousedownEvent(e,A)}),$&&(m.onMouseup=Ze.triggerCellMouseupEvent),m.onClick=e=>{Ze.triggerCellClickEvent(e,A)},!(m.onDblclick=e=>{Ze.triggerCellDblclickEvent(e,A)})),Ue=1,We=1;if(ae&&he.length){de=ue[l+":"+w];if(de){var{rowspan:u,colspan:d}=de;if(!u||!d)return xt(Ze);1<u&&(L=!0,We=u,F.rowspan=u),1<d&&(L=!0,Ue=d,F.colspan=d)}}else if(K){var{rowspan:a=1,colspan:n=1}=K(A)||{};if(!a||!n)return xt(Ze);1<a&&(L=!0,We=a,F.rowspan=a),1<n&&(L=!0,Ue=n,F.colspan=n)}!(M=M&&L&&(1<F.colspan||1<F.rowspan)?!1:M)&&Z&&(ke||Me)&&(fe.showStatus||fe.showUpdateStatus)&&(je=Ze.isUpdateByRow(r,o.field));H=!R&&(oe||h);let qe=Co(Pe,x,y,ye);B=N===z.length-1,V=!o.resizeWidth&&("auto"===o.minWidth||"auto"===o.width);let Xe=!1;L||ee&&fo(Ze,ee)===e||(re&&oe&&16<Q.length&&!W&&!Ce.immediate&&(l<me.visibleStartIndex-me.preloadSize||l>me.visibleEndIndex+me.preloadSize)||te&&h&&10<J.length&&!be.immediate&&!o.fixed&&(w<ve.visibleStartIndex-ve.preloadSize||w>ve.visibleEndIndex+ve.preloadSize))&&(Xe=!0),1<We&&(j=ge[l+We-1])&&(T=ce[fo(Ze,j)])&&(qe+=T.oTop+Co(T,x,y,ye)-Pe.oTop-Co(Pe,x,y,ye));E={};if(R&&ne){let t=0;if(1<Ue)for(let e=1;e<Ue;e++){var Ke=pe[ze+e];Ke&&(t+=Ke.renderWidth)}E.width=o.renderWidth+t-De+"px"}oe||h||R||i||v?E.height=qe+"px":E.minHeight=qe+"px";p=[];M&&se?p.push((0,co.h)("div",{key:"tc",class:["vxe-cell",{"c--title":k,"c--tooltip":O,"c--ellipsis":s}],style:E})):(W&&p.push(...ft(e,A,qe)),p.push((0,co.h)("div",{key:"tc",class:["vxe-cell",{"c--title":k,"c--tooltip":O,"c--ellipsis":s}],style:E,title:k?Ze.getCellLabel(r,o):null},Xe?[]:[(0,co.h)("div",{colid:D,rowid:e,class:"vxe-cell--wrapper vxe-body-cell--wrapper"},o.renderCell(A))])),_e&&c&&(C=c.rule,ae=He?He.valid:null,he={...A,...c,rule:c},p.push((0,co.h)("div",{key:"tcv",class:["vxe-cell--valid-error-tip",Cr(b.className,he)],style:C&&C.maxWidth?{width:C.maxWidth+"px"}:null},[(0,co.h)("div",{class:"vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-"+(b.theme||"normal")},[ae?Ze.callSlot(ae,he):[(0,co.h)("span",{class:"vxe-cell--valid-error-msg"},c.content)]])]))));let Ye=!1;return Y&&Se.area&&!w&&Fe&&(Ye=!0),!M&&S&&xe&&p.push((0,co.h)("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!U||"none"===U}],onMousedown:e=>Ze.handleColResizeMousedownEvent(e,t,A),onDblclick:e=>Ze.handleColResizeDblclickEvent(e,A)})),(Le||we)&&y.resizable&&p.push((0,co.h)("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:e=>Ze.handleRowResizeMousedownEvent(e,A),onDblclick:e=>Ze.handleRowResizeDblclickEvent(e,A)})),(0,co.h)("td",{class:["vxe-table--column vxe-body--column",D,I?"col--vertical-"+I:"",Oe?"col--"+Oe:"",Ie?"col--"+Ie:"",{"col--last":B,"col--tree-node":$e,"col--edit":f,"col--ellipsis":R,"col--cs-height":i,"col--rs-height":v,"col--to-row":Ye,"col--auto-height":H,"fixed--width":!V,"fixed--hidden":M,"is--padding":g,"is--progress":M&&se||Xe,"is--drag-cell":$&&(Te||Ee||!P),"is--drag-disabled":Ge,"col--dirty":je,"col--active":Z&&f&&ie.row===r&&(ie.column===o||"row"===fe.mode),"col--valid-error":!!c,"col--current":le===o},Cr(Be,A),Cr(Ae,A),Cr(q,A)],key:G||h||oe||Re.useKey||y.useKey||Re.drag?D:N,...F,style:Object.assign({},oo().isFunction(Ve)?Ve(A):Ve,oo().isFunction(X)?X(A):X),...m},_&&M?[]:p)},oe=(m,f,x,b)=>{let C=Ze.xeGrid,w=Ze.xeGantt,{stripe:y,rowKey:T,highlightHoverRow:E,rowClassName:R,rowStyle:S,editConfig:F,treeConfig:D}=Qe,{hasFixedColumn:I,treeExpandedFlag:M,scrollXLoad:k,scrollYLoad:O,isAllOverflow:A,rowExpandedFlag:$,expandColumn:L,selectRadioRow:H,pendingRowFlag:_,rowExpandHeightFlag:P,isRowGroupStatus:B}=Je,{fullAllDataRowIdData:V,fullColumnIdData:N,treeExpandedMaps:z,pendingRowMaps:j,rowExpandedMaps:G}=et,U=it.value,Q=e.value,W=t.value,q=tt.value,X=ct.value,J=ut.value,{transform:K,seqMode:Y}=W,ee=W.children||W.childrenField,Z=[],te=xo(Ze).handleGetRowId,re=D||B;return x.forEach((l,o)=>{let a=te(l);var n=V[a]||{};let i=o,s=0,d=-1,c=-1;var u=B&&l.isAggregate,p={},g=((X.isHover||E)&&(p.onMouseover=e=>{mt()||Ze.triggerHoverEvent(e,{row:l,rowIndex:i})},p.onMouseleave=()=>{mt()||Ze.clearHoverRow()}),n&&(i=n.index,c=n._index,s=n.level,d=n.seq,u||D&&K&&"increasing"===Y?d=n._index+1:D&&"fixed"===Y&&(d=n._tIndex+1)),{$table:Ze,seq:d,rowid:a,fixed:m,type:Ct,level:s,row:l,rowIndex:i,$rowIndex:o,_rowIndex:c}),h=L&&!!$&&!!G[a];let e=!1,t=[],r=!1;F&&(r=Ze.isInsertByRow(l)),!D||O||K||(t=l[ee],e=!!M&&t&&0<t.length&&!!z[a]),!X.drag||B||D&&!K||(p.onDragstart=Ze.handleRowDragDragstartEvent,p.onDragend=Ze.handleRowDragDragendEvent,p.onDragover=Ze.handleRowDragDragoverEvent);var u=["vxe-body--row",re?"row--level-"+s:"",{"row--stripe":y&&(c+1)%2==0,"is--new":r,"is--expand-row":h,"is--expand-tree":e,"row--new":r&&(q.showStatus||q.showInsertStatus),"row--radio":Q.highlight&&Ze.eqRow(H,l),"row--checked":U.highlight&&Ze.isCheckedByCheckboxRow(l),"row--pending":!!_&&!!j[a],"row--group":u},Cr(R,g)],v=b.map((e,t)=>ae(d,a,m,f,s,l,i,o,c,e,t,b,x));if(Z.push((0,co.h)("tr",{class:u,rowid:a,style:S?oo().isFunction(S)?S(g):S:null,key:T||k||O||X.useKey||X.drag||J.drag||B||D?a:o,...p},v)),h){var{height:u,padding:g,mode:p}=le.value;if("fixed"===p)Z.push((0,co.h)("tr",{class:"vxe-body--row-expanded-place",key:"expand_"+a,rowid:a},[(0,co.h)("td",{class:"vxe-body--row-expanded-place-column",colspan:b.length,style:{height:`${P?n.expandHeight||u:0}px`}})]));else{v={},h=(u&&(v.height=u+"px"),D&&(v.paddingLeft=s*W.indent+30+"px"),L||{}).showOverflow,p=L.id,n=N[p]||{},p=oo().eqNull(h)?A:h;let e=-1,t=-1,r=-1;n&&(e=n.index,t=n.$index,r=n._index);h={$table:Ze,$grid:C,$gantt:w,seq:d,column:L,columnIndex:e,$columnIndex:t,_columnIndex:r,fixed:m,source:"table",type:Ct,level:s,row:l,rowid:a,rowIndex:i,$rowIndex:o,_rowIndex:c,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};Z.push((0,co.h)("tr",{class:["vxe-body--expanded-row",{"is--padding":g}],key:"expand_"+a},[(0,co.h)("td",{class:["vxe-body--expanded-column",{"fixed--hidden":m&&!I,"col--ellipsis":p}],colspan:b.length},[(0,co.h)("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":u}],style:v},[L.renderData(h)])])]))}}e&&Z.push(...oe(m,f,t,b))}),Z};(0,co.onMounted)(()=>{(0,co.nextTick)(()=>{var e=T.fixedType,t=et.elemStore,e=`${e||"main"}-body-`;t[e+"wrapper"]=F,t[e+"scroll"]=D,t[e+"table"]=I,t[e+"colgroup"]=M,t[e+"list"]=k,t[e+"xSpace"]=O,t[e+"ySpace"]=A,t[e+"emptyBlock"]=$})}),(0,co.onUnmounted)(()=>{var e=T.fixedType,t=et.elemStore,e=`${e||"main"}-body-`;t[e+"wrapper"]=null,t[e+"scroll"]=null,t[e+"table"]=null,t[e+"colgroup"]=null,t[e+"list"]=null,t[e+"xSpace"]=null,t[e+"ySpace"]=null,t[e+"emptyBlock"]=null});return()=>{var e=R.slots,t=Ze.xeGrid,r=Ze.xeGantt;let{fixedColumn:l,fixedType:o,tableColumn:a}=T;var n=Qe.mouseConfig,{isGroup:i,tableData:s,isColLoading:d,overflowX:c,scrollXLoad:u,scrollYLoad:p,dragRow:g,dragCol:h}=Je,{visibleColumn:v,fullAllDataRowIdData:m,fullColumnIdData:f}=et,x=S.value,b=rt.value;let C=s,w=a;s=L.value;d||!o&&c||(w=v),o&&s&&(w=l||[]),p&&g&&2<C.length&&(d=m[fo(Ze,g)])&&(c=d._index,v=C[0],p=C[C.length-1],d=m[fo(Ze,v)],v=m[fo(Ze,p)],d)&&v&&(m=d._index,p=v._index,c<m?C=[g].concat(C):p<c&&(C=C.concat([g]))),o||i||u&&h&&2<w.length&&(d=f[h.id])&&(v=d._index,m=w[0],p=w[w.length-1],c=f[m.id],g=f[p.id],c)&&g&&(i=c._index,u=g._index,v<i?w=[h].concat(w):u<v&&(w=w.concat([h])));let y;d=e?e.empty:null,m={$table:Ze,$grid:t,$gantt:r};return y=d?Ze.callSlot(d,m):(p=(f=x.name?bt.get(x.name):null)?f.renderTableEmpty||f.renderTableEmptyView||f.renderEmpty:null)?Eo(p(x,m)):Qe.emptyText||pe("vxe.table.emptyText"),(0,co.h)("div",{ref:F,class:["vxe-table--body-wrapper",o?`fixed-${o}--wrapper`:"body--wrapper"],xid:E},[(0,co.h)("div",{ref:D,class:"vxe-table--body-inner-wrapper",onScroll(e){Ze.triggerBodyScrollEvent(e,o)}},[o?xt(Ze):(0,co.h)("div",{ref:O,class:"vxe-body--x-space"}),(0,co.h)("div",{ref:A,class:"vxe-body--y-space"}),(0,co.h)("table",{ref:I,class:"vxe-table--body",xid:E,cellspacing:0,cellpadding:0,border:0,xvm:s?"1":null},[(0,co.h)("colgroup",{ref:M},w.map((e,t)=>(0,co.h)("col",{name:e.id,key:t,style:{width:e.renderWidth+"px"}}))),(0,co.h)("tbody",{ref:k},oe(o,s,C,w))]),(0,co.h)("div",{class:"vxe-table--checkbox-range"}),n&&b.area?(0,co.h)("div",{class:"vxe-table--cell-area",xid:E},[(0,co.h)("span",{class:"vxe-table--cell-main-area"},b.extension?[(0,co.h)("span",{class:"vxe-table--cell-main-area-btn",onMousedown(e){Ze.triggerCellAreaExtendMousedownEvent&&Ze.triggerCellAreaExtendMousedownEvent(e,{$table:Ze,fixed:o,type:Ct})}})]:[]),(0,co.h)("span",{class:"vxe-table--cell-clip-area"}),(0,co.h)("span",{class:"vxe-table--cell-extend-area"}),(0,co.h)("span",{class:"vxe-table--cell-multi-area"}),(0,co.h)("span",{class:"vxe-table--cell-active-area"}),(0,co.h)("span",{class:"vxe-table--cell-row-status-area"})]):xt(Ze),o?xt(Ze):(0,co.h)("div",{class:"vxe-table--empty-block",ref:$},[(0,co.h)("div",{class:"vxe-table--empty-content"},y)])])])}}});let{renderer:ge,renderEmptyElement:fe}=lo.VxeUI,xe="header";var ra=It({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(v){let pe=(0,co.inject)("$xeTable",{}),{xID:m,props:f,reactData:x,internalData:b}=pe,{computeColumnOpts:r,computeColumnDragOpts:l,computeCellOpts:o,computeMouseOpts:C,computeHeaderCellOpts:a,computeDefaultRowHeight:n,computeVirtualXOpts:i,computeFloatingFilterOpts:w,computeIsHeaderRenderOptimize:y}=pe.getComputeMaps(),T=(0,co.ref)([]),E=(0,co.ref)(),R=(0,co.ref)(),S=(0,co.ref)(),F=(0,co.ref)(),D=(0,co.ref)(),I=(0,co.ref)(),s=(0,co.ref)(),d=()=>{var e=f.showCustomHeader,{collectColumn:t,visibleColumn:r}=b,l=v.tableGroupColumn,o=x.isGroup;let a=o?(e=>{let t=1,l=(r,e)=>{if(e&&(r.level=e.level+1,t<r.level)&&(t=r.level),r.children&&r.children.length&&r.children.some(e=>e.visible)){let t=0;r.children.forEach(e=>{e.visible&&(l(e,r),t+=e.colSpan)}),r.colSpan=t}else r.colSpan=1},r=(e.forEach(e=>{e.level=1,l(e)}),[]);for(let e=0;e<t;e++)r.push([]);return ne(e).forEach(e=>{e.children&&e.children.length&&e.children.some(e=>e.visible)?e.rowSpan=1:e.rowSpan=t-e.level+1,r[e.level-1].push(e)}),r})(l):[],n=[];e&&1<a.length&&(n=(t=>{var r=t.length,a=t[0].reduce((e,t)=>e+t.colSpan,0),n=[],i=[];for(let e=0;e<r;e++){var l=[],o=[];for(let e=0;e<a;e++)l.push(!1),o.push("");n.push(l),i.push(o)}for(let o=0;o<r;o++){let e=0;for(var s of t[o]){var{colSpan:d,rowSpan:c}=s;let l=-1;for(let r=e;r<=a-d;r++){let t=!0;for(let e=0;e<d;e++)if(n[o][r+e]){t=!1;break}if(t){l=r;break}}if(-1===l){for(let r=0;r<=a-d;r++){let t=!0;for(let e=0;e<d;e++)if(n[o][r+e]){t=!1;break}if(t){l=r;break}}if(-1===l)break}for(let t=o;t<o+c;t++)for(let e=l;e<l+d;e++)n[t][e]=!0,i[t][e]=s;e=l+d}}return i})(a),a=n),T.value=a,pe.dispatchEvent("columns-change",{visibleColgroups:n,collectColumn:t,visibleColumn:r},null)},M=(I,M,e,k,O)=>{let A=pe.xeGrid,$=pe.xeGantt,L=v.fixedType,{resizable:H,columnKey:_,showCustomHeader:P,headerCellClassName:B,headerCellStyle:V,showHeaderOverflow:N,headerAlign:z,align:j,mouseConfig:G}=f,{currentColumn:U,dragCol:W,scrollXLoad:q,scrollYLoad:X,overflowX:K,mergeHeadFlag:Y,tableColumn:Z}=x,{fullColumnIdData:Q,scrollXStore:J,mergeHeaderList:ee,mergeHeaderCellMaps:te}=b,re=i.value,le=r.value,oe=l.value,ae=o.value;var t=n.value;let ne=a.value,ie=Go(ne.height)||t,{disabledMethod:se,isCrossDrag:ce,isPeerDrag:ue}=oe,de=k===e.length-1;return O.map((e,t)=>{var{type:r,showHeaderOverflow:l,headerAlign:o,align:a,filters:n,headerClassName:i,editRender:s,cellRender:d}=e,c=e.id,u=Q[c]||{},s=s||d,d=s?ge.get(s.name):null,s=e.children&&e.children.length,p=K&&!s&&(L?e.fixed!==L:!!e.fixed),g=(oo().isBoolean(ne.padding)?ne:ae).padding,l=oo().eqNull(l)?N:l,o=o||(d?d.tableHeaderCellAlign:"")||z||a||(d?d.tableCellAlign:"")||j,a="ellipsis"===l,d="title"===l,l=!0===l||"tooltip"===l,h=d||l||a;let v=!1,m=null;n&&(m=n[0],v=n.some(e=>e.checked));var f=u.index,u=u._index;let x={$table:pe,$grid:A,$gantt:$,$rowIndex:k,column:e,columnIndex:f,$columnIndex:t,_columnIndex:u,firstFilterOption:m,fixed:L,source:"table",type:xe,isHidden:p,hasFilter:v};f={colid:c};let b=!1;if(P||(f.colspan=1<e.colSpan?e.colSpan:null,f.rowspan=1<e.rowSpan?e.rowSpan:null),Y&&ee.length&&(P||de)){var C=te[k+":"+(P?t:u)];if(C){var{rowspan:C,colspan:w}=C;if(!C||!w)return null;1<C&&(b=!0,f.rowspan=C),1<w&&(b=!0,f.colspan=w)}}C={onClick:e=>pe.triggerHeaderCellClickEvent(e,x),onDblclick:e=>pe.triggerHeaderCellDblclickEvent(e,x)},w=le.drag&&"cell"===oe.trigger;let y=!1;w&&(y=!(!se||!se(x))),(G||w)&&(C.onMousedown=e=>pe.triggerHeaderCellMousedownEvent(e,x)),le.drag&&(C.onDragstart=pe.handleHeaderCellDragDragstartEvent,C.onDragend=pe.handleHeaderCellDragDragendEvent,C.onDragover=pe.handleHeaderCellDragDragoverEvent,w)&&(C.onMouseup=pe.handleHeaderCellDragMouseupEvent);var w=t===O.length-1,T=oo().isBoolean(e.resizable)?e.resizable:le.resizable||H,E=!e.resizeWidth&&("auto"===e.minWidth||"auto"===e.width);let R=!1;!M||!K||I||b||W&&W.id===c||q&&10<Z.length&&!e.fixed&&!re.immediate&&(u<J.visibleStartIndex-J.preloadSize||u>J.visibleEndIndex+J.preloadSize)&&(R=!0);var S,F,D,u={};return h?u.height=ie+"px":u.minHeight=ie+"px",P||s&&!de&&(F=function e(t){var r=t.children;return r&&r.length?e(r[0]):t}(e),S=function e(t){var r=t.children;return r&&r.length?e(r[r.length-1]):t}(e),F)&&S&&F.id!==S.id&&(F=Q[F.id],D=Q[S.id],F)&&D&&(u.width=D.oLeft-F.oLeft+S.renderWidth+"px"),(0,co.h)("th",{class:["vxe-table--column vxe-header--column",c,p?"fixed--hidden":"fixed--visible",{["col--"+o]:o,["col--"+r]:r,"col--last":w,"col--fixed":e.fixed,"col--group":s,"col--ellipsis":h,"fixed--width":!E,"is--padding":g,"is--sortable":e.sortable,"col--filter":!!n,"is--filter-active":v,"is--drag-active":le.drag&&!e.fixed&&!y&&(ce||ue||!e.parentId),"is--drag-disabled":le.drag&&y,"col--current":U===e},i?oo().isFunction(i)?i(x):i:"",B?oo().isFunction(B)?B(x):B:""],style:V?oo().isFunction(V)?V(x):V:null,...f,...C,key:P?""+c+t:_||q||X||le.useKey||le.drag||s?c:t},[(0,co.h)("div",{class:["vxe-cell",{"c--title":d,"c--tooltip":l,"c--ellipsis":a}],style:u},R||M&&p?[]:[(0,co.h)("div",{colid:c,class:"vxe-cell--wrapper vxe-header-cell--wrapper"},e.renderHeader(x))]),p||!T||P&&!de?fe(pe):(0,co.h)("div",{class:"vxe-cell--col-resizable",onMousedown:e=>pe.handleColResizeMousedownEvent(e,L,x),onDblclick:e=>pe.handleColResizeDblclickEvent(e,x)})])})},k=(w,y)=>{let T=pe.xeGrid,E=pe.xeGantt,R=v.fixedType,{showHeaderOverflow:S,headerAlign:F,align:D}=f,{currentColumn:I,overflowX:M}=x,k=b.fullColumnIdData,O=o.value;var e=n.value;let A=a.value,$=Go(A.height)||e;return y.map((e,t)=>{var{type:r,showHeaderOverflow:l,headerAlign:o,align:a,filters:n,editRender:i,cellRender:s,floatingFilters:d,filterRender:c,slots:u}=e,p=e.id,g=k[p]||{},i=i||s,s=u?u.floatingFilter||u["floating-filter"]:null,u=i?ge.get(i.name):null,i=ao(c)?ge.get(c.name):null,i=i?i.renderTableFloatingFilter:null,h=M&&(R?e.fixed!==R:!!e.fixed),v=(oo().isBoolean(A.padding)?A:O).padding,l=oo().eqNull(l)?S:l,o=o||(u?u.tableHeaderCellAlign:"")||F||a||(u?u.tableCellAlign:"")||D,a="ellipsis"===l,u="title"===l,l=!0===l||"tooltip"===l,m=u||l||a;let f=!1,x=null;n&&(x=n[0],f=n.some(e=>e.checked));var n=g.index,g=g._index,n={$table:pe,$grid:T,$gantt:E,column:e,columnIndex:n,$columnIndex:t,_columnIndex:g,option:x,fixed:R,source:"table",type:xe,isHidden:h,hasFilter:f},g={colid:p},t=t===y.length-1,b=!e.resizeWidth&&("auto"===e.minWidth||"auto"===e.width),C={};return m?C.height=$+"px":C.minHeight=$+"px",(0,co.h)("th",{class:["vxe-table--column vxe-header--column",p,h?"fixed--hidden":"fixed--visible",{["col--"+o]:o,["col--"+r]:r,"col--last":t,"col--fixed":e.fixed,"col--ellipsis":m,"fixed--width":!b,"is--padding":v,"is--sortable":e.sortable,"col--current":I===e}],key:p,...g},[(0,co.h)("div",{class:["vxe-cell",{"c--title":u,"c--tooltip":l,"c--ellipsis":a}],style:C},w&&h&&!d?[]:[(0,co.h)("div",{colid:p,class:"vxe-cell--wrapper vxe-header-cell--wrapper"},s?pe.callSlot(s,n):i&&x?Eo(i(c,n)):[])])])})};return(0,co.watch)(()=>v.tableColumn,d),(0,co.onMounted)(()=>{(0,co.nextTick)(()=>{var e=v.fixedType,t=pe.internalData,t=t.elemStore,e=`${e||"main"}-header-`;t[e+"wrapper"]=E,t[e+"scroll"]=R,t[e+"table"]=S,t[e+"colgroup"]=F,t[e+"list"]=D,t[e+"xSpace"]=I,t[e+"repair"]=s,d()})}),(0,co.onUnmounted)(()=>{var e=v.fixedType,t=pe.internalData,t=t.elemStore,e=`${e||"main"}-header-`;t[e+"wrapper"]=null,t[e+"scroll"]=null,t[e+"table"]=null,t[e+"colgroup"]=null,t[e+"list"]=null,t[e+"xSpace"]=null,t[e+"repair"]=null}),()=>{let{fixedType:t,fixedColumn:e,tableColumn:r}=v;var l=f.mouseConfig,{isGroup:o,isColLoading:a,overflowX:n,scrollXLoad:i,dragCol:s}=x,{visibleColumn:d,fullColumnIdData:c}=b,u=C.value,p=y.value;let g=T.value||[],h=r;return o?h=d:(p&&(a||!t&&n)||(h=d),t&&p&&(h=e||[]),g=[h]),t||o||i&&s&&2<h.length&&(a=c[s.id])&&(n=a._index,d=h[0],i=h[h.length-1],a=c[d.id],d=c[i.id],a)&&d&&(c=a._index,i=d._index,n<c?(h=[s].concat(h),g=[[s].concat(g[0])].concat(g.slice(1))):i<n&&(h=h.concat([s]),g=[g[0].concat([s])].concat(g.slice(1)))),(0,co.h)("div",{ref:E,class:["vxe-table--header-wrapper",t?`fixed-${t}--wrapper`:"body--wrapper"],xid:m},[(0,co.h)("div",{ref:R,class:"vxe-table--header-inner-wrapper",onScroll(e){pe.triggerHeaderScrollEvent(e,t)}},[t?fe(pe):(0,co.h)("div",{ref:I,class:"vxe-body--x-space"}),(0,co.h)("table",{ref:S,class:"vxe-table--header",xid:m,cellspacing:0,cellpadding:0,border:0,xvm:p?"1":null},[(0,co.h)("colgroup",{ref:F},h.map((e,t)=>(0,co.h)("col",{name:e.id,key:t,style:{width:e.renderWidth+"px"}}))),(0,co.h)("thead",{ref:D},((l,o,a)=>{let n=v.fixedType,{headerRowClassName:i,headerRowStyle:s}=f;var e=w.value,t=a.map((e,t)=>{var r={$table:pe,$rowIndex:t,fixed:n,type:xe};return(0,co.h)("tr",{key:t,class:["vxe-header--row",i?oo().isFunction(i)?i(r):i:""],style:s?oo().isFunction(s)?s(r):s:null},M(l,o,a,t,e))});return e.enabled&&t.push((0,co.h)("tr",{key:"ff",class:["vxe-header--row"]},k(o,a[a.length-1]))),t})(o,p,g))]),l&&u.area?(0,co.h)("div",{class:"vxe-table--cell-area",xid:m},[(0,co.h)("span",{class:"vxe-table--cell-main-area"}),(0,co.h)("span",{class:"vxe-table--cell-clip-area"}),(0,co.h)("span",{class:"vxe-table--cell-extend-area"}),(0,co.h)("span",{class:"vxe-table--cell-multi-area"}),(0,co.h)("span",{class:"vxe-table--cell-active-area"}),(0,co.h)("span",{class:"vxe-table--cell-col-status-area"})]):fe(pe)])])}}});let{renderer:be,renderEmptyElement:Ce}=lo.VxeUI;var la=It({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(p){let re=(0,co.inject)("$xeTable",{}),{xID:g,props:h,reactData:v,internalData:m}=re,{computeFooterTooltipOpts:t,computeColumnOpts:r,computeCellOpts:l,computeFooterCellOpts:o,computeDefaultRowHeight:a,computeResizableOpts:n,computeVirtualXOpts:i,computeIsFooterRenderOptimize:f}=re.getComputeMaps(),x=(0,co.ref)(),b=(0,co.ref)(),C=(0,co.ref)(),w=(0,co.ref)(),y=(0,co.ref)(),T=(0,co.ref)(),E=(y,T,E,R,S,F)=>{let D=re.xeGrid,I=re.xeGantt,M=p.fixedType,{resizable:k,border:O,footerCellClassName:A,footerCellStyle:$,footerAlign:L,footerSpanMethod:H,align:_,columnKey:P,showFooterOverflow:B}=h,{scrollXLoad:V,scrollYLoad:N,overflowX:z,currentColumn:j,mergeFootFlag:G}=v,{fullColumnIdData:U,mergeFooterList:W,mergeFooterCellMaps:q,scrollXStore:X}=m,K=i.value,Y=t.value;let Z=n.value.isAllColumnDrag,Q=r.value;var e=a.value;let J=l.value,ee=o.value,te=Go(ee.height)||e;return T.map((t,e)=>{var{type:r,showFooterOverflow:l,footerAlign:o,align:a,footerClassName:n,editRender:i,cellRender:s}=t,d=t.id,c=U[d]||{},i=i||s,s=i?be.get(i.name):null;let u=Y.showAll;var i=z&&(M?t.fixed!==M:!!t.fixed),p=(oo().isBoolean(ee.padding)?ee:J).padding,l=oo().eqNull(l)?B:l,o=o||(s?s.tableFooterCellAlign:"")||L||a||(s?s.tableCellAlign:"")||_,a="ellipsis"===l;let g="title"===l,h=!0===l||"tooltip"===l;var s=g||h||a,l=oo().isBoolean(t.resizable)?t.resizable:Q.resizable||k,v={colid:d},m={},f=c.index,c=c._index,x=c;let b={$table:re,$grid:D,$gantt:I,row:R,rowIndex:F,_rowIndex:F,$rowIndex:S,column:t,columnIndex:f,$columnIndex:e,_columnIndex:c,itemIndex:x,items:R,fixed:M,source:"table",type:"footer",data:E},C=((g||h||u)&&(m.onMouseenter=e=>{g?Er(e.currentTarget,t):(h||u)&&re.triggerFooterTooltipEvent(e,b)}),(h||u)&&(m.onMouseleave=e=>{(h||u)&&re.handleTargetLeaveEvent(e)}),m.onClick=e=>{re.dispatchEvent("footer-cell-click",Object.assign({cell:e.currentTarget},b),e)},!(m.onDblclick=e=>{re.dispatchEvent("footer-cell-dblclick",Object.assign({cell:e.currentTarget},b),e)}));if(G&&W.length){f=q[F+":"+c];if(f){var{rowspan:x,colspan:f}=f;if(!x||!f)return null;1<x&&(C=!0,v.rowspan=x),1<f&&(C=!0,v.colspan=f)}}else if(H){var{rowspan:x=1,colspan:f=1}=H(b)||{};if(!x||!f)return null;1<x&&(v.rowspan=x),1<f&&(v.colspan=f)}x=e===T.length-1,f=!t.resizeWidth&&("auto"===t.minWidth||"auto"===t.width);let w=!1;y&&z&&!C&&V&&10<T.length&&!t.fixed&&!K.immediate&&(c<X.visibleStartIndex-X.preloadSize||c>X.visibleEndIndex+X.preloadSize)&&(w=!0);c={};return s?c.height=te+"px":c.minHeight=te+"px",(0,co.h)("td",{class:["vxe-table--column vxe-footer--column",t.id,{["col--"+o]:o,["col--"+r]:r,"col--last":x,"fixed--width":!f,"fixed--hidden":i,"is--padding":p,"col--ellipsis":s,"col--current":j===t},Cr(n,b),Cr(A,b)],...v,style:$?oo().isFunction($)?$(b):$:null,...m,key:P||V||N||Q.useKey||Q.drag?t.id:e},[(0,co.h)("div",{class:["vxe-cell",{"c--title":g,"c--tooltip":h,"c--ellipsis":a}],style:c},w?[]:[(0,co.h)("div",{colid:d,class:"vxe-cell--wrapper vxe-footer-cell--wrapper"},t.renderFooter(b))]),!i&&l&&Z?(0,co.h)("div",{class:["vxe-cell--col-resizable",{"is--line":!O||"none"===O}],onMousedown:e=>re.handleColResizeMousedownEvent(e,M,b),onDblclick:e=>re.handleColResizeDblclickEvent(e,b)}):Ce(re)])})};return(0,co.onMounted)(()=>{(0,co.nextTick)(()=>{var e=p.fixedType,t=m.elemStore,e=`${e||"main"}-footer-`;t[e+"wrapper"]=x,t[e+"scroll"]=b,t[e+"table"]=C,t[e+"colgroup"]=w,t[e+"list"]=y,t[e+"xSpace"]=T})}),(0,co.onUnmounted)(()=>{var e=p.fixedType,t=m.elemStore,e=`${e||"main"}-footer-`;t[e+"wrapper"]=null,t[e+"scroll"]=null,t[e+"table"]=null,t[e+"colgroup"]=null,t[e+"list"]=null,t[e+"xSpace"]=null}),()=>{let{fixedType:t,fixedColumn:e,tableColumn:r}=p;var{visibleColumn:l,fullColumnIdData:o}=m,{isGroup:a,isColLoading:n,overflowX:i,scrollXLoad:s,dragCol:d}=v;let c=r;var u=f.value;return u&&(n||!t&&i)||(c=l),t&&u&&(c=e||[]),t||a||s&&d&&2<c.length&&(n=o[d.id])&&(i=n._index,l=c[0],a=c[c.length-1],s=o[l.id],n=o[a.id],s)&&n&&(l=s._index,o=n._index,i<l?c=[d].concat(c):o<i&&(c=c.concat([d]))),(0,co.h)("div",{ref:x,class:["vxe-table--footer-wrapper",t?`fixed-${t}--wrapper`:"body--wrapper"],xid:g},[(0,co.h)("div",{ref:b,class:"vxe-table--footer-inner-wrapper",onScroll(e){re.triggerFooterScrollEvent(e,t)}},[t?Ce(re):(0,co.h)("div",{ref:T,class:"vxe-body--x-space"}),(0,co.h)("table",{ref:C,class:"vxe-table--footer",xid:g,cellspacing:0,cellpadding:0,border:0,xvm:u?"1":null},[(0,co.h)("colgroup",{ref:w},c.map((e,t)=>(0,co.h)("col",{name:e.id,key:t,style:{width:e.renderWidth+"px"}}))),(0,co.h)("tfoot",{ref:y},((o,a)=>{let{fixedType:n,footerTableData:i}=p,{footerRowClassName:s,footerRowStyle:d}=h;return i.map((e,t)=>{var r=t,l={$table:re,row:e,_rowIndex:r,$rowIndex:t,fixed:n,type:"footer"};return(0,co.h)("tr",{key:t,class:["vxe-footer--row",s?oo().isFunction(s)?s(l):s:""],style:d?oo().isFunction(d)?d(l):d:null},E(o,a,i,e,t,r))})})(u,c))])])])}}});let{getI18n:he,getIcon:ve,renderEmptyElement:me}=lo.VxeUI;var oa=It({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(P,t){var e=oo().uniqueId();let B=lo.VxeUI.getComponent("VxeModal"),V=lo.VxeUI.getComponent("VxeDrawer"),N=lo.VxeUI.getComponent("VxeButton"),z=lo.VxeUI.getComponent("VxeNumberInput"),j=lo.VxeUI.getComponent("VxeRadioGroup"),G=(0,co.inject)("$xeTable",{}),{props:U,reactData:W,internalData:i}=G,{computeCustomOpts:q,computeColumnDragOpts:X,computeColumnOpts:ce,computeIsMaxFixedColumn:K,computeResizableOpts:ue}=G.getComputeMaps(),I=(0,co.ref)(),Y=(0,co.ref)(),Z=(0,co.ref)(),d=(0,co.ref)(),c=(0,co.ref)(),w=(0,co.reactive)({dragCol:null,dragGroupField:null,dragAggFnCol:null,dragTipText:""}),y={},o={refElem:I,refBodyWrapperElem:Y,refCustomBodyElem:Z,refDragLineElem:d,refDragTipElem:c},a={},M=e=>{var t=P.customStore;t.activeWrapper=!0,G.customOpenEvent(e)},k=e=>{let t=P.customStore;t.activeWrapper=!1,setTimeout(()=>{t.activeBtn||t.activeWrapper||G.customCloseEvent(e)},300)},Q=({$event:e})=>{W.isCustomStatus=!0,G.saveCustom(),G.closeCustom(),G.emitCustomEvent("confirm",e),G.emitCustomEvent("close",e)},J=({$event:e})=>{G.closeCustom(),G.emitCustomEvent("close",e)},ee=({$event:e})=>{G.cancelCustom(),G.closeCustom(),G.emitCustomEvent("cancel",e),G.emitCustomEvent("close",e)},r=e=>{G.resetCustom(!0),G.closeCustom(),G.emitCustomEvent("reset",e),G.emitCustomEvent("close",e)},te=({$event:t})=>{lo.VxeUI.modal?lo.VxeUI.modal.confirm({content:he("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(e=>{"confirm"===e&&r(t)}):r(t)},l=t=>{var e=W.customColumnList,e=oo().findTree(e,e=>e===t);e&&e.parent&&(e=e.parent,e.children)&&e.children.length&&(e.renderVisible=e.children.every(e=>e.renderVisible),e.halfVisible=!e.renderVisible&&e.children.some(e=>e.renderVisible||e.halfVisible),l(e))},re=(e,t)=>{let r=!e.renderVisible;q.value.immediate?(oo().eachTree([e],e=>{e.visible=r,e.renderVisible=r,e.halfVisible=!1}),W.isCustomStatus=!0,G.handleCustom(),G.saveCustomStore("update:visible")):oo().eachTree([e],e=>{e.renderVisible=r,e.halfVisible=!1}),l(e),G.checkCustomStatus(),G.dispatchEvent("custom-visible-change",{column:e,checked:r},t)},pe=e=>{q.value.immediate&&e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth,W.isCustomStatus=!0,G.handleCustom(),G.saveCustomStore("update:width"))},le=(e,t,r)=>{var l=K.value;let o=null;q.value.immediate?(e.renderFixed===t?(o="",oo().eachTree([e],e=>{e.fixed="",e.renderFixed=""})):l&&!e.renderFixed||(o=t,oo().eachTree([e],e=>{e.fixed=t,e.renderFixed=t})),W.isCustomStatus=!0,G.handleCustom(),G.saveCustomStore("update:fixed")):e.renderFixed===t?(o="",oo().eachTree([e],e=>{e.renderFixed=""})):l&&!e.renderFixed||(o=t,oo().eachTree([e],e=>{e.renderFixed=t})),null!==o&&G.dispatchEvent("custom-fixed-change",{column:e,fixed:o},r)},oe=e=>{var t=W.customStore,t=!t.isAll;G.toggleCustomAllCheckbox(),G.dispatchEvent("custom-visible-all",{checked:t},e)},u=(e,t,r,l)=>{var o,a,n,i,s=Y.value;s&&(i=Z.value)&&(o=y.prevDragToChild,a=s.getBoundingClientRect(),i=i.getBoundingClientRect(),n=d.value,t?n&&(r?(t=t.getBoundingClientRect(),n.style.display="block",n.style.left=Math.max(0,i.x-a.x)+"px",n.style.top=Math.max(1,t.y+s.scrollTop-a.y)+"px",n.style.height=t.height+"px",n.style.width=t.width+"px",n.setAttribute("drag-pos",l),n.setAttribute("drag-to-child",o?"y":"n")):n.style.display=""):n&&(n.style.display="node"),i=c.value)&&(i.style.display="block",i.style.top=Math.min(s.clientHeight+s.scrollTop-i.clientHeight,e.clientY+s.scrollTop-a.y)+"px",i.style.left=Math.min(s.clientWidth+s.scrollLeft-i.clientWidth,e.clientX+s.scrollLeft-a.x)+"px",i.setAttribute("drag-status",r?o?"sub":"normal":"disabled"))},s=()=>{var e=w.dragCol,t=X.value.tooltipMethod;let r="";r=t?""+(t({$table:G,column:e})||""):he("vxe.custom.cstmDragTarget",[e&&"html"!==e.type?e.getTitle():""]),w.dragTipText=r},n=()=>{var e=c.value,t=d.value;e&&(e.style.display=""),t&&(t.style.display="")},ae=e=>{var e=e.currentTarget.parentElement.parentElement.parentElement,t=e.getAttribute("colid"),t=G.getColumnById(t);e.draggable=!0,w.dragCol=t,w.dragGroupField=null,w.dragAggFnCol=null,s(),go(e,"active--drag-origin")},ne=e=>{e=e.currentTarget.parentElement.parentElement.parentElement;n(),e.draggable=!1,w.dragCol=null,w.dragGroupField=null,w.dragAggFnCol=null,po(e,"active--drag-origin")},ie=e=>{e.dataTransfer&&e.dataTransfer.setDragImage(Io(),0,0),y.prevDragGroupField=null,y.prevDragAggFnColid=null},se=c=>{let u=U.mouseConfig,p=W.customColumnList,g=i.collectColumn;let h=q.value.immediate;var e=c.currentTarget;let{isCrossDrag:v,isSelfToChildDrag:m,isToChildDrag:f,dragEndMethod:t}=X.value;var r=w.dragCol;let{prevDragCol:l,prevDragGroupField:o,prevDragAggFnColid:a,prevDragPos:x,prevDragToChild:b}=y,C="bottom"===x?1:0;if(o||a)G.handlePivotTableAggregatePanelDragendEvent&&G.handlePivotTableAggregatePanelDragendEvent(c);else if(l&&r&&l!==r){let s=r,d=l;Promise.resolve(!t||t({oldColumn:s,newColumn:d,dragColumn:s,dragPos:x,dragToChild:!!b,offsetIndex:C})).then(o=>{if(o){let e=-1,t=-1,r={},l=(oo().eachTree([s],e=>{r[e.id]=e}),!1);if(h){if(s.parentId&&d.parentId){if(!v)return;if(r[d.id]&&(l=!0,!v||!m))return void(lo.VxeUI.modal&&lo.VxeUI.modal.message({status:"error",content:he("vxe.error.treeDragChild")}))}else if(s.parentId){if(!v)return}else if(d.parentId){if(!v)return;if(r[d.id]&&(l=!0,!v||!m))return void(lo.VxeUI.modal&&lo.VxeUI.modal.message({status:"error",content:he("vxe.error.treeDragChild")}))}var a,n,i,o=oo().findTree(g,e=>e.id===s.id),o=(l&&v&&m?o&&({items:a,index:i}=o,(n=s.children||[]).forEach(e=>{e.parentId=s.parentId}),a.splice(i,1,...n),s.children=[]):o&&({items:a,index:i,parent:n}=o,a.splice(i,1),n||(e=i)),oo().findTree(g,e=>e.id===d.id));o&&({items:a,index:n,parent:i}=o,v&&f&&b?(s.parentId=d.id,d.children=(d.children||[]).concat([s])):(s.parentId=d.parentId,a.splice(n+C,0,s)),i||(t=n)),oo().eachTree(g,(e,t,r,l,o)=>{o||(e.renderSortNumber=t+1)})}else e=oo().findIndexOf(p,e=>e.id===s.id),p.splice(e,1),t=oo().findIndexOf(p,e=>e.id===d.id),p.splice(t+C,0,s);u&&(G.clearSelected&&G.clearSelected(),G.clearCellAreas)&&(G.clearCellAreas(),G.clearCopyCellArea());o={oldColumn:s,newColumn:d,dragColumn:s,dragPos:x,offsetIndex:C,_index:{newIndex:t,oldIndex:e}};G.dispatchEvent("custom-sort-change",o,c),G.dispatchEvent("column-dragend",o,c),h&&(W.customColumnList=g.slice(0),G.handleColDragSwapColumn())}}).catch(()=>{})}n(),w.dragCol=null,w.dragGroupField=null,w.dragAggFnCol=null,y.prevDragGroupField=null,y.prevDragAggFnColid=null,e.draggable=!1,e.removeAttribute("drag-pos"),po(e,"active--drag-target"),po(e,"active--drag-origin")},de=e=>{var t,r=q.value.immediate,{isCrossDrag:l,isToChildDrag:o}=X.value,a=e.currentTarget,n=Oo(e),i=a.getAttribute("colid"),i=G.getColumnById(i),s=w.dragCol;y.prevDragGroupField=null,y.prevDragAggFnColid=null,i&&(l||1===i.level)&&(e.preventDefault(),t=e.clientY-a.getBoundingClientRect().y<a.clientHeight/2?"top":"bottom",!s||s.id===i.id||!l&&1<i.level||!r&&1<i.level?u(e,a,!1,t):(y.prevDragToChild=!!(l&&o&&n&&r),y.prevDragCol=i,y.prevDragPos=t,u(e,a,!0,t)))},ge=()=>{var e=w.dragTipText,t=X.value;return(0,co.h)("div",{},[(0,co.h)("div",{ref:d,class:["vxe-table-custom-popup--drag-line",{"is--guides":t.showGuidesStatus}]}),(0,co.h)("div",{ref:c,class:"vxe-table-custom-popup--drag-tip"},[(0,co.h)("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[(0,co.h)("div",{class:"vxe-table-custom-popup--drag-tip-status"},[(0,co.h)("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",ve().TABLE_DRAG_STATUS_ROW]}),(0,co.h)("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",ve().TABLE_DRAG_STATUS_SUB_ROW]}),(0,co.h)("span",{class:["vxe-table-custom-popup--drag-tip-group-status",ve().TABLE_DRAG_STATUS_AGG_GROUP]}),(0,co.h)("span",{class:["vxe-table-custom-popup--drag-tip-values-status",ve().TABLE_DRAG_STATUS_AGG_VALUES]}),(0,co.h)("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",ve().TABLE_DRAG_DISABLED]})]),(0,co.h)("div",{class:"vxe-table-custom-popup--drag-tip-content"},""+(e||""))])])])};(0,co.nextTick)(()=>{var e=q.value.mode;B||"modal"!==e||_l("vxe.error.reqComp",["vxe-modal"]),V||"drawer"!==e||_l("vxe.error.reqComp",["vxe-drawer"]),N||_l("vxe.error.reqComp",["vxe-button"]),z||_l("vxe.error.reqComp",["vxe-number-input"]),j||_l("vxe.error.reqComp",["vxe-radio-group"])});e={xID:e,props:P,context:t,reactData:w,internalData:y,xeTable:G,getRefMaps:()=>o,getComputeMaps:()=>a,renderVN:()=>{var e=q.value;return(["modal","drawer","popup"].includes(""+e.mode)?()=>{var e=G.xeGrid,t=G.xeGantt;let r=P.customStore,{treeConfig:l,rowGroupConfig:o,aggregateConfig:a,resizable:c}=U,{isCustomStatus:n,customColumnList:i}=W,s=q.value,u=s.immediate;var d=X.value;let{mode:p,modalOptions:g,drawerOptions:h,allowVisible:v,allowSort:H,allowFixed:m,allowResizable:f,checkMethod:x,visibleMethod:b}=s,C=ce.value,w=C.maxFixedSize,{minWidth:y,maxWidth:T}=ue.value;var E=Object.assign({},g),R=Object.assign({},h);let S=K.value,_=d.isCrossDrag;d=s.slots||{};let F=d.header,D=d.top,I=d.bottom,M=d.default,k=d.footer,O=[],A=r.isAll,$=r.isIndeterminate,L={$table:G,$grid:e,$gantt:t,columns:i,isAllChecked:A,isAllIndeterminate:$,isCustomStatus:n};oo().eachTree(i,(l,o,e,t,a)=>{if(!b||b({$table:G,column:l})){let e=0,t=0;f&&(o={$table:G,column:l,columnIndex:o,$columnIndex:o,$rowIndex:-1},y&&(e=oo().toNumber(oo().isFunction(y)?y(o):y)),T)&&(t=oo().toNumber(oo().isFunction(T)?T(o):T));var o=l.renderVisible,n=l.halfVisible,i=io(l.getTitle(),1),s=l.children&&l.children.length;let r=!!x&&!x({$table:G,column:l});var d=!o;O.push((0,co.h)("tr",{key:l.id,colid:l.id,class:["vxe-table-custom-popup--row level--"+l.level,{"is--group":s}],onDragstart:ie,onDragend:se,onDragover:de},[v?(0,co.h)("td",{class:"vxe-table-custom-popup--column-item col--visible"},[(0,co.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":o,"is--indeterminate":n,"is--disabled":r}],title:he("vxe.custom.setting.colVisible"),onClick:e=>{r||re(l,e)}},[(0,co.h)("span",{class:["vxe-checkbox--icon",n?ve().TABLE_CHECKBOX_INDETERMINATE:o?ve().TABLE_CHECKBOX_CHECKED:ve().TABLE_CHECKBOX_UNCHECKED]})])]):me(G),(0,co.h)("td",{class:"vxe-table-custom-popup--column-item col--name"},[(0,co.h)("div",{class:"vxe-table-custom-popup--name"},[H?_&&u||1===l.level?(0,co.h)("div",{class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":r||d}],title:he("vxe.custom.setting.sortHelpTip"),...r||d?{}:{onMousedown:ae,onMouseup:ne}},[(0,co.h)("i",{class:ve().TABLE_CUSTOM_SORT})]):(0,co.h)("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):me(G),"html"===l.type?(0,co.h)("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:i}):(0,co.h)("div",{key:"0",class:"vxe-table-custom-popup--title",title:i},i)])]),f?(0,co.h)("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[l.children&&l.children.length||!(oo().isBoolean(l.resizable)?l.resizable:C.resizable||c)?(0,co.h)("span","-"):z?(0,co.h)(z,{type:"integer",immediate:!1,disabled:r||d,modelValue:l.renderResizeWidth,min:e||void 0,max:t||void 0,"onUpdate:modelValue"(e){e=Math.max(0,Number(e));l.renderResizeWidth=e},onChange(){pe(l)}}):me(G)]):me(G),m?(0,co.h)("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[a?(0,co.h)("span","-"):j?(0,co.h)(j,{modelValue:l.renderFixed||"",type:"button",size:"mini",disabled:r||d,options:[{label:he("vxe.custom.setting.fixedLeft"),value:"left",disabled:r||d||S},{label:he("vxe.custom.setting.fixedUnset"),value:"",disabled:r||d},{label:he("vxe.custom.setting.fixedRight"),value:"right",disabled:r||d||S}],onChange({label:e,$event:t}){le(l,e,t)}}):me(G)]):me(G)]))}});d={default:()=>(0,co.h)("div",{ref:Y,class:"vxe-table-custom-popup--body-wrapper"},M?G.callSlot(M,L):[(0,co.h)("div",{ref:Z,class:"vxe-table-custom-popup--handle-wrapper"},[D?(0,co.h)("div",{class:"vxe-table-custom-popup--table-top"},G.callSlot(D,L)):me(G),(0,co.h)("div",{class:"vxe-table-custom-popup--table-wrapper"},[(0,co.h)("table",{},[(0,co.h)("colgroup",{},[v?(0,co.h)("col",{class:"vxe-table-custom-popup--table-col-seq"}):me(G),(0,co.h)("col",{class:"vxe-table-custom-popup--table-col-title"}),f?(0,co.h)("col",{class:"vxe-table-custom-popup--table-col-width"}):me(G),m?(0,co.h)("col",{class:"vxe-table-custom-popup--table-col-fixed"}):me(G)]),(0,co.h)("thead",{},[(0,co.h)("tr",{},[v?(0,co.h)("th",{},[(0,co.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":A,"is--indeterminate":$}],title:he("vxe.table.allTitle"),onClick:oe},[(0,co.h)("span",{class:["vxe-checkbox--icon",$?ve().TABLE_CHECKBOX_INDETERMINATE:A?ve().TABLE_CHECKBOX_CHECKED:ve().TABLE_CHECKBOX_UNCHECKED]}),(0,co.h)("span",{class:"vxe-checkbox--label"},he("vxe.toolbar.customAll"))])]):me(G),(0,co.h)("th",{},he("vxe.custom.setting.colTitle")),f?(0,co.h)("th",{},he("vxe.custom.setting.colResizable")):me(G),m?(0,co.h)("th",{},he("vxe.custom.setting."+(w?"colFixedMax":"colFixed"),[w])):me(G)])]),(0,co.h)(co.TransitionGroup,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>O})])]),I?(0,co.h)("div",{class:"vxe-table-custom-popup--table-bottom"},G.callSlot(I,L)):me(G),ge()]),!l&&(a||o)&&G.getPivotTableAggregatePopupPanel?(0,co.h)(G.getPivotTableAggregatePopupPanel(),{customStore:r}):me(G)]),footer:()=>k?G.callSlot(k,L):(0,co.h)("div",{class:"vxe-table-custom-popup--footer"},[N?(0,co.h)(N,{content:s.resetButtonText||he("vxe.custom.cstmRestore"),disabled:!n,onClick:te}):me(G),u?N?(0,co.h)(N,{content:s.closeButtonText||he("vxe.table.customClose"),onClick:J}):me(G):N?(0,co.h)(N,{content:s.cancelButtonText||he("vxe.table.customCancel"),onClick:ee}):me(G),!u&&N?(0,co.h)(N,{status:"primary",content:s.confirmButtonText||he("vxe.custom.cstmConfirm"),onClick:Q}):me(G)])};return F&&(d.header=()=>G.callSlot(F,L)),"drawer"===p?V?(0,co.h)(V,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",R.className||""].join(" "),modelValue:r.visible,title:R.title||he("vxe.custom.cstmTitle"),width:R.width||Math.min(880,Math.floor(.6*document.documentElement.clientWidth)),position:R.position,resize:!!R.resize,escClosable:!!R.escClosable,maskClosable:!!R.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){r.visible=e}},d):me(G):B?(0,co.h)(B,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",E.className||""].join(" "),modelValue:r.visible,title:E.title||he("vxe.custom.cstmTitle"),width:E.width||Math.min(880,document.documentElement.clientWidth),minWidth:E.minWidth||700,height:E.height||Math.min(680,document.documentElement.clientHeight),minHeight:E.minHeight||400,showZoom:E.showZoom,showMaximize:E.showMaximize,showMinimize:E.showMinimize,mask:E.mask,lockView:E.lockView,resize:E.resize,escClosable:!!E.escClosable,maskClosable:!!E.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){r.visible=e}},d):me(G)}:()=>{var e=G.xeGrid,t=G.xeGantt,r=G.props,l=P.customStore,{treeConfig:r,rowGroupConfig:o,aggregateConfig:a}=r,{isCustomStatus:n,customColumnList:i}=W,s=q.value;let c=s.immediate;var d=X.value,u=l.maxHeight;let{checkMethod:p,visibleMethod:g,allowVisible:h,allowSort:v,allowFixed:m,trigger:f,placement:x}=s,b=K.value,C=d.isCrossDrag;var d=s.slots||{},w=d.header,y=d.top,T=d.bottom,E=d.default,d=d.footer;let R=[];var S={},F=l.isAll,D=l.isIndeterminate,e=("hover"===f&&(S.onMouseenter=M,S.onMouseleave=k),{$table:G,$grid:e,$gantt:t,columns:i,isAllChecked:F,isAllIndeterminate:D,isCustomStatus:n});return oo().eachTree(i,(r,e,t,l,o)=>{if(!g||g({$table:G,column:r})){var a=r.renderVisible,n=r.halfVisible,i=r.children&&r.children.length,s=io(r.getTitle(),1);let t=!!p&&!p({$table:G,column:r});var d=!a;R.push((0,co.h)("li",{key:r.id,colid:r.id,class:["vxe-table-custom--option","level--"+r.level,{"is--hidden":t||d,"is--group":i}],onDragstart:ie,onDragend:se,onDragover:de},[h?(0,co.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":a,"is--indeterminate":n,"is--disabled":t}],title:he("vxe.custom.setting.colVisible"),onClick:e=>{t||re(r,e)}},[(0,co.h)("span",{class:["vxe-checkbox--icon",n?ve().TABLE_CHECKBOX_INDETERMINATE:a?ve().TABLE_CHECKBOX_CHECKED:ve().TABLE_CHECKBOX_UNCHECKED]})]):me(G),(0,co.h)("div",{class:"vxe-table-custom--name-option"},[v&&(C&&c||1===r.level)?(0,co.h)("div",{class:"vxe-table-custom--sort-option"},[(0,co.h)("span",{class:["vxe-table-custom--sort-btn",{"is--disabled":t||d}],title:he("vxe.custom.setting.sortHelpTip"),...t||d?{}:{onMousedown:ae,onMouseup:ne}},[(0,co.h)("i",{class:ve().TABLE_CUSTOM_SORT})])]):me(G),"html"===r.type?(0,co.h)("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:s}):(0,co.h)("div",{key:"0",class:"vxe-table-custom--checkbox-label"},s)]),!o&&m?(0,co.h)("div",{class:"vxe-table-custom--fixed-option"},[N?(0,co.h)(N,{mode:"text",icon:"left"===r.renderFixed?ve().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:ve().TOOLBAR_TOOLS_FIXED_LEFT,status:"left"===r.renderFixed?"primary":"",disabled:t||d||b&&!r.renderFixed,title:he("left"===r.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:({$event:e})=>{le(r,"left",e)}}):me(G),N?(0,co.h)(N,{mode:"text",icon:"right"===r.renderFixed?ve().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:ve().TOOLBAR_TOOLS_FIXED_RIGHT,status:"right"===r.renderFixed?"primary":"",disabled:t||d||b&&!r.renderFixed,title:he("right"===r.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:({$event:e})=>{le(r,"right",e)}}):me(G)]):me(G)]))}}),(0,co.h)("div",{ref:I,key:"simple",class:["vxe-table-custom-wrapper","placement--"+x,{"is--active":l.visible}],style:u&&!["left","right"].includes(x||"")?{maxHeight:u+"px"}:{}},l.visible?[(0,co.h)("div",{ref:Y,class:"vxe-table-custom-simple--body-wrapper"},[!r&&(a||o)&&G.getPivotTableAggregateSimplePanel?(0,co.h)(G.getPivotTableAggregateSimplePanel(),{customStore:l}):me(G),(0,co.h)("div",{ref:Z,class:"vxe-table-custom--handle-wrapper"},[(0,co.h)("div",{class:"vxe-table-custom--header"},w?G.callSlot(w,e):[(0,co.h)("ul",{class:"vxe-table-custom--panel-list"},[(0,co.h)("li",{class:"vxe-table-custom--option"},[h?(0,co.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":F,"is--indeterminate":D}],title:he("vxe.table.allTitle"),onClick:oe},[(0,co.h)("span",{class:["vxe-checkbox--icon",D?ve().TABLE_CHECKBOX_INDETERMINATE:F?ve().TABLE_CHECKBOX_CHECKED:ve().TABLE_CHECKBOX_UNCHECKED]}),(0,co.h)("span",{class:"vxe-checkbox--label"},he("vxe.toolbar.customAll"))]):(0,co.h)("span",{class:"vxe-checkbox--label"},he("vxe.table.customTitle"))])])]),(0,co.h)("div",{class:"vxe-table-custom--body"},[y?(0,co.h)("div",{class:"vxe-table-custom--panel-top"},G.callSlot(y,e)):me(G),E?(0,co.h)("div",{class:"vxe-table-custom--panel-body"},G.callSlot(E,e)):(0,co.h)(co.TransitionGroup,{class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul",...S},{default:()=>R}),T?(0,co.h)("div",{class:"vxe-table-custom--panel-bottom"},G.callSlot(T,e)):me(G)]),s.showFooter?(0,co.h)("div",{class:"vxe-table-custom--footer"},d?G.callSlot(d,e):[(0,co.h)("div",{class:"vxe-table-custom--footer-buttons"},[N?(0,co.h)(N,{mode:"text",content:s.resetButtonText||he("vxe.table.customRestore"),disabled:!n,onClick:te}):me(G),c?N?(0,co.h)(N,{mode:"text",content:s.closeButtonText||he("vxe.table.customClose"),onClick:J}):me(G):N?(0,co.h)(N,{mode:"text",content:s.cancelButtonText||he("vxe.table.customCancel"),onClick:ee}):me(G),!c&&N?(0,co.h)(N,{mode:"text",status:"primary",content:s.confirmButtonText||he("vxe.table.customConfirm"),onClick:Q}):me(G)])]):null]),ge()])]:[])})()}};return(0,co.onUnmounted)(()=>{y={}}),(0,co.provide)("$xeTableCustomPanel",e),e},render(){return this.renderVN()}});let{getI18n:we,getIcon:D,renderer:ye,renderEmptyElement:Te}=lo.VxeUI;var aa=It({name:"VxeTableFilterPanel",props:{filterStore:{type:Object,default:()=>({})}},setup(g,e){var t=oo().uniqueId();let h=(0,co.inject)("$xeTable",{}),{reactData:v,internalData:m,getComputeMaps:r}=h,f=r().computeFilterOpts,x=(0,co.ref)(),l={refElem:x},b={xID:t,props:g,context:e,getRefMaps:()=>l},C=(0,co.computed)(()=>{var e=g.filterStore,e=e.column;return e&&e.filters&&e.filters.some(e=>e.checked)}),o=(e,t)=>{var r=g.filterStore,l=r.column;l&&l.filters&&l.filters.forEach(e=>{e._checked=t,e.checked=t}),r.isAllSelected=t,r.isIndeterminate=!1},w=e=>{var t=g.filterStore;e||Hl("vxe.error.delFunc",["confirmFilter","saveFilterPanelByEvent"]),h.handleFilterConfirmFilter(e||new Event("click"),t.column||null)};let y=e=>{var t=g.filterStore;h.handleFilterResetFilter(e,t.column||null)};let T=(e,t,r)=>{h.handleFilterChangeOption(e,t,r)},E=(e,t)=>{var r=g.filterStore,r=r.column;r&&r.filterMultiple?o(0,t):y(e)};t={changeRadioOption:(e,t,r)=>{h.handleFilterChangeRadioOption(e,t,r)},changeMultipleOption:(e,t,r)=>{h.handleFilterChangeMultipleOption(e,t,r)},changeAllOption:E,changeOption:T,confirmFilter:w,resetFilter:y};Object.assign(b,t);return b.renderVN=()=>{var e,t,r,l,o,a,n,i,s,d=g.filterStore,c=v.initStore,{visible:u,column:p}=d;return p?(o=(t=(e=p?p.filterRender:null)&&ao(e)?ye.get(e.name):null)?t.tableFilterClassName||t.filterClassName:"",n=Object.assign({},m._currFilterParams,{$panel:b,$table:h}),r=h.props,a=h.getComputeMaps().computeSize,a=a.value,{transfer:i,destroyOnClose:l,className:s}=f.value,(0,co.h)(co.Teleport,{to:"body",disabled:!i},[(0,co.h)("div",{ref:x,class:["vxe-table--filter-wrapper","filter--prevent-default",s,Cr(o,n),{["size--"+a]:a,"is--animat":r.animat,"is--multiple":p.filterMultiple,"is--active":u}],style:d.style},c.filter&&(!l||u)&&p?((e,t)=>{let r=g.filterStore;var{column:l,maxHeight:o}=r;if(!l)return[];let{filterMultiple:a,filters:n,slots:i}=l;var l=n||[],s=i?i.filter:null,d=Object.assign({},m._currFilterParams,{option:l[0],$panel:b,$table:h}),t=t?t.renderTableFilter||t.renderFilter:null;return s?[(0,co.h)("div",{class:"vxe-table--filter-template",style:o?{maxHeight:Ao(o)}:{}},h.callSlot(s,d))]:e&&t?[(0,co.h)("div",{class:"vxe-table--filter-template",style:o?{maxHeight:Ao(o)}:{}},Eo(t(e,d)))]:(s=a?r.isAllSelected:!l.some(e=>e._checked),t=a&&r.isIndeterminate,[(0,co.h)("ul",{class:"vxe-table--filter-header"},[(0,co.h)("li",{class:["vxe-table--filter-option",{"is--checked":s,"is--indeterminate":t}],title:we(a?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:e=>{E(e,!r.isAllSelected)}},(a?[(0,co.h)("span",{class:["vxe-checkbox--icon",t?D().TABLE_CHECKBOX_INDETERMINATE:s?D().TABLE_CHECKBOX_CHECKED:D().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([(0,co.h)("span",{class:"vxe-checkbox--label"},we("vxe.table.allFilter"))]))]),(0,co.h)("ul",{class:"vxe-table--filter-body",style:o?{maxHeight:Ao(o)}:{}},l.map(t=>{var e=t._checked;return(0,co.h)("li",{class:["vxe-table--filter-option",{"is--checked":t._checked}],title:t.label,onClick:e=>{T(e,!t._checked,t)}},(a?[(0,co.h)("span",{class:["vxe-checkbox--icon",e?D().TABLE_CHECKBOX_CHECKED:D().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([(0,co.h)("span",{class:"vxe-checkbox--label"},io(t.label,1))]))}))])})(e,t).concat((i=g.filterStore,(s=i.column)&&(o=f.value,n=C.value,{filterRender:s,filterMultiple:a}=s,s=ao(s)?ye.get(s.name):null,n=!n&&!i.isAllSelected&&!i.isIndeterminate,s?!1!==s.showTableFilterFooter&&!1!==s.showFilterFooter&&!1!==s.isFooter:a)?[(0,co.h)("div",{class:"vxe-table--filter-footer"},[(0,co.h)("button",{class:{"is--disabled":n},disabled:n,onClick:w},o.confirmButtonText||we("vxe.table.confirmFilter")),(0,co.h)("button",{onClick:y},o.resetButtonText||we("vxe.table.resetFilter"))])]:[])):[])])):Te(b)},b},render(){return this.renderVN()}});Dt(2577);let{getI18n:I,getIcon:De,renderEmptyElement:M}=lo.VxeUI;var na=It({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(p){let g=lo.VxeUI.getComponent("VxeModal"),h=lo.VxeUI.getComponent("VxeButton"),v=lo.VxeUI.getComponent("VxeSelect"),m=(0,co.inject)("$xeTable",{}),l=m.getComputeMaps().computeImportOpts,f=(0,co.reactive)({loading:!1}),x=(0,co.ref)(),b=(0,co.computed)(()=>{var e=p.storeData;return e.filename+"."+e.type}),C=(0,co.computed)(()=>{var e=p.storeData;return e.file&&e.type}),w=(0,co.computed)(()=>{var e=p.storeData;let{type:t,typeList:r}=e;return t?(e=oo().find(r,e=>t===e.value))?e.label:"*.*":"*."+r.map(e=>e.value).join(", *.")}),y=()=>{var e=p.storeData;Object.assign(e,{filename:"",sheetName:"",type:""})},T=()=>{let{storeData:t,defaultOptions:e}=p;m.readFile(e).then(e=>{e=e.file;Object.assign(t,fr(e),{file:e})}).catch(e=>e)},E=()=>{(0,co.nextTick)(()=>{var e=x.value;e&&e.focus()})},R=()=>{var e=p.storeData;e.visible=!1},S=()=>{let{storeData:e,defaultOptions:t}=p;var r=l.value;f.loading=!0,m.importByFile(e.file,Object.assign({},r,t)).then(()=>{f.loading=!1,e.visible=!1}).catch(()=>{f.loading=!1})};return(0,co.nextTick)(()=>{g||_l("vxe.error.reqComp",["vxe-modal"]),h||_l("vxe.error.reqComp",["vxe-button"]),v||_l("vxe.error.reqComp",["vxe-select"])}),()=>{let t=m.xeGrid,r=m.xeGantt,{defaultOptions:l,storeData:o}=p,a=b.value,n=C.value,i=w.value;var e=l.slots||{};let s=e.top,d=e.bottom,c=e.default,u=e.footer;return g?(0,co.h)(g,{id:"VXE_IMPORT_MODAL",modelValue:o.visible,title:I("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:f.loading,"onUpdate:modelValue"(e){o.visible=e},onShow:E},{default:()=>{var e={$table:m,$grid:t,$gantt:r,options:l,params:l.params};return(0,co.h)("div",{class:"vxe-table-export--panel"},[s?(0,co.h)("div",{class:"vxe-table-export--panel-top"},m.callSlot(s,e)):M(m),(0,co.h)("div",{class:"vxe-table-export--panel-body"},c?m.callSlot(c,e):[(0,co.h)("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[(0,co.h)("tbody",[(0,co.h)("tr",[(0,co.h)("td",I("vxe.import.impFile")),(0,co.h)("td",[n?(0,co.h)("div",{class:"vxe-table-export--selected--file",title:a},[(0,co.h)("span",a),(0,co.h)("i",{class:De().INPUT_CLEAR,onClick:y})]):(0,co.h)("button",{ref:x,class:"vxe-table-export--select--file",onClick:T},I("vxe.import.impSelect"))])]),(0,co.h)("tr",[(0,co.h)("td",I("vxe.import.impType")),(0,co.h)("td",i)]),(0,co.h)("tr",[(0,co.h)("td",I("vxe.import.impMode")),(0,co.h)("td",[v?(0,co.h)(v,{modelValue:l.mode,options:o.modeList,"onUpdate:modelValue"(e){l.mode=e}}):M(m)])])])])]),d?(0,co.h)("div",{class:"vxe-table-export--panel-bottom"},m.callSlot(d,e)):M(m)])},footer(){var e={$table:m,$grid:t,$gantt:r,options:l,params:l.params};return(0,co.h)("div",{class:"vxe-table-export--panel-footer"},u?m.callSlot(u,e):[(0,co.h)("div",{class:"vxe-table-export--panel-btns"},[h?(0,co.h)(h,{content:I("vxe.import.impCancel"),onClick:R}):M(m),h?(0,co.h)(h,{status:"primary",disabled:!n||f.loading,content:I("vxe.import.impConfirm"),onClick:S}):M(m)])])}}):M(m)}}});let{getI18n:G,getIcon:U,renderEmptyElement:W}=lo.VxeUI;var ia=It({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(T){let E=lo.VxeUI.getComponent("VxeModal"),R=lo.VxeUI.getComponent("VxeButton"),S=lo.VxeUI.getComponent("VxeSelect"),F=lo.VxeUI.getComponent("VxeInput"),D=lo.VxeUI.getComponent("VxeCheckbox"),I=(0,co.inject)("$xeTable",{}),{computeExportOpts:r,computePrintOpts:l}=I.getComputeMaps(),M=(0,co.reactive)({isAll:!1,isIndeterminate:!1,loading:!1}),k=(0,co.ref)(),O=(0,co.ref)(),A=(0,co.ref)(),$=(0,co.computed)(()=>{var e=T.storeData;return e.columns.every(e=>e.checked)}),L=(0,co.computed)(()=>{var e=T.defaultOptions;return-1<["html","xml","xlsx","pdf"].indexOf(e.type)}),H=(0,co.computed)(()=>{var{storeData:e,defaultOptions:t}=T;return!t.original&&"current"===t.mode&&(e.isPrint||-1<["html","xlsx"].indexOf(t.type))}),_=(0,co.computed)(()=>{var e=T.defaultOptions;return!e.original&&-1<["xlsx"].indexOf(e.type)}),P=t=>{var e=T.storeData,e=oo().findTree(e.columns,e=>e===t);e&&e.parent&&(e=e.parent,e.children)&&e.children.length&&(e.checked=e.children.every(e=>e.checked),e.halfChecked=!e.checked&&e.children.some(e=>e.checked||e.halfChecked),P(e))},B=()=>{var e=T.storeData,e=e.columns;M.isAll=e.every(e=>e.disabled||e.checked),M.isIndeterminate=!M.isAll&&e.some(e=>!e.disabled&&(e.checked||e.halfChecked))},V=()=>{var e=T.storeData;let t=!M.isAll;oo().eachTree(e.columns,e=>{e.disabled||(e.checked=t,e.halfChecked=!1)}),M.isAll=t,B()},N=()=>{(0,co.nextTick)(()=>{var e=O.value,t=A.value,r=k.value,e=e||t||r;e&&e.focus()}),B()},o=()=>{var{storeData:e,defaultOptions:t}=T,{hasMerge:e,columns:r}=e,l=$.value,o=H.value,r=oo().searchTree(r,e=>e.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},t,{columns:r,isMerge:!!(e&&o&&l)&&t.isMerge})},t=()=>{var e=T.storeData,t=l.value;e.visible=!1,I.print(Object.assign({},t,o()))},a=()=>{let e=T.storeData;var t=r.value;M.loading=!0,I.exportData(Object.assign({},t,o())).then(()=>{M.loading=!1,e.visible=!1}).catch(()=>{M.loading=!1})},z=()=>{var e=T.storeData;e.visible=!1},j=()=>{var e=T.storeData;(e.isPrint?t:a)()};return(0,co.nextTick)(()=>{E||_l("vxe.error.reqComp",["vxe-modal"]),R||_l("vxe.error.reqComp",["vxe-button"]),S||_l("vxe.error.reqComp",["vxe-select"]),F||_l("vxe.error.reqComp",["vxe-input"]),D||_l("vxe.error.reqComp",["vxe-checkbox"])}),()=>{let r=I.xeGrid,l=I.xeGantt,{defaultOptions:o,storeData:a}=T,{isAll:n,isIndeterminate:i}=M,{hasTree:s,hasMerge:d,isPrint:c,hasColgroup:u,columns:p}=a,g=o.isHeader,h=[],v=$.value,m=L.value,f=H.value,x=_.value;var e=o.slots||{};let b=e.top,C=e.bottom,w=e.default,t=e.footer,y=e.parameter;return oo().eachTree(p,e=>{var t=io(e.getTitle(),1),r=e.children&&e.children.length,l=e.checked,o=e.halfChecked,a="html"===e.type;h.push((0,co.h)("li",{key:e.id,class:["vxe-table-export--panel-column-option","level--"+e.level,{"is--group":r,"is--checked":l,"is--indeterminate":o,"is--disabled":e.disabled}],title:a?"":t,onClick:()=>{e.disabled||(e=>{let t=!e.checked;oo().eachTree([e],e=>{e.checked=t,e.halfChecked=!1}),P(e),B()})(e)}},[(0,co.h)("span",{class:["vxe-checkbox--icon",o?U().TABLE_CHECKBOX_INDETERMINATE:l?U().TABLE_CHECKBOX_CHECKED:U().TABLE_CHECKBOX_UNCHECKED]}),a?(0,co.h)("span",{key:"1",class:"vxe-checkbox--label",innerHTML:t}):(0,co.h)("span",{key:"0",class:"vxe-checkbox--label"},t)]))}),E?(0,co.h)(E,{id:"VXE_EXPORT_MODAL",modelValue:a.visible,title:G(c?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:M.loading,"onUpdate:modelValue"(e){a.visible=e},onShow:N},{default:()=>{var e={$table:I,$grid:r,$gantt:l,options:o,columns:p,params:o.params},t="empty"===o.mode;return(0,co.h)("div",{class:"vxe-table-export--panel"},[b?(0,co.h)("div",{class:"vxe-table-export--panel-top"},I.callSlot(b,e)):W(I),(0,co.h)("div",{class:"vxe-table-export--panel-body"},w?I.callSlot(w,e):[(0,co.h)("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[(0,co.h)("tbody",[[c?W(I):(0,co.h)("tr",[(0,co.h)("td",G("vxe.export.expName")),(0,co.h)("td",[F?(0,co.h)(F,{ref:O,modelValue:o.filename,type:"text",clearable:!0,placeholder:G("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(e){o.filename=e}}):W(I)])]),c?W(I):(0,co.h)("tr",[(0,co.h)("td",G("vxe.export.expType")),(0,co.h)("td",[S?(0,co.h)(S,{modelValue:o.type,options:a.typeList,"onUpdate:modelValue"(e){o.type=e}}):W(I)])]),c||m?(0,co.h)("tr",[(0,co.h)("td",G("vxe.export.expSheetName")),(0,co.h)("td",[F?(0,co.h)(F,{ref:A,modelValue:o.sheetName,type:"text",clearable:!0,placeholder:G("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(e){o.sheetName=e}}):W(I)])]):W(I),(0,co.h)("tr",[(0,co.h)("td",G("vxe.export.expMode")),(0,co.h)("td",[S?(0,co.h)(S,{modelValue:o.mode,options:a.modeList.map(e=>({value:e.value,label:G(e.label)})),"onUpdate:modelValue"(e){o.mode=e}}):W(I)])]),(0,co.h)("tr",[(0,co.h)("td",[G("vxe.export.expColumn")]),(0,co.h)("td",[(0,co.h)("div",{class:"vxe-table-export--panel-column"},[(0,co.h)("ul",{class:"vxe-table-export--panel-column-header"},[(0,co.h)("li",{class:["vxe-table-export--panel-column-option",{"is--checked":n,"is--indeterminate":i}],title:G("vxe.table.allTitle"),onClick:V},[(0,co.h)("span",{class:["vxe-checkbox--icon",i?U().TABLE_CHECKBOX_INDETERMINATE:n?U().TABLE_CHECKBOX_CHECKED:U().TABLE_CHECKBOX_UNCHECKED]}),(0,co.h)("span",{class:"vxe-checkbox--label"},G("vxe.export.expCurrentColumn"))])]),(0,co.h)("ul",{class:"vxe-table-export--panel-column-body"},h)])])]),(0,co.h)("tr",[(0,co.h)("td",G("vxe.export.expOpts")),y?(0,co.h)("td",[(0,co.h)("div",{class:"vxe-table-export--panel-option-row"},I.callSlot(y,e))]):(0,co.h)("td",[(0,co.h)("div",{class:"vxe-table-export--panel-option-row"},[D?(0,co.h)(D,{modelValue:t||g,disabled:t,title:G("vxe.export.expHeaderTitle"),content:G("vxe.export.expOptHeader"),"onUpdate:modelValue"(e){o.isHeader=e}}):W(I),D?(0,co.h)(D,{modelValue:!!g&&o.isTitle,disabled:!g,title:G("vxe.export.expTitleTitle"),content:G("vxe.export.expOptTitle"),"onUpdate:modelValue"(e){o.isTitle=e}}):W(I),D?(0,co.h)(D,{modelValue:!!(g&&u&&f)&&o.isColgroup,title:G("vxe.export.expColgroupTitle"),disabled:!g||!u||!f,content:G("vxe.export.expOptColgroup"),"onUpdate:modelValue"(e){o.isColgroup=e}}):W(I)]),(0,co.h)("div",{class:"vxe-table-export--panel-option-row"},[D?(0,co.h)(D,{modelValue:!t&&o.original,disabled:t,title:G("vxe.export.expOriginalTitle"),content:G("vxe.export.expOptOriginal"),"onUpdate:modelValue"(e){o.original=e}}):W(I),D?(0,co.h)(D,{modelValue:!!(d&&f&&v)&&o.isMerge,title:G("vxe.export.expMergeTitle"),disabled:t||!d||!f||!v,content:G("vxe.export.expOptMerge"),"onUpdate:modelValue"(e){o.isMerge=e}}):W(I),c||!D?W(I):(0,co.h)(D,{modelValue:!!x&&o.useStyle,disabled:!x,title:G("vxe.export.expUseStyleTitle"),content:G("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(e){o.useStyle=e}}),D?(0,co.h)(D,{modelValue:!!s&&o.isAllExpand,disabled:t||!s,title:G("vxe.export.expAllExpandTitle"),content:G("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(e){o.isAllExpand=e}}):W(I)]),(0,co.h)("div",{class:"vxe-table-export--panel-option-row"},[D?(0,co.h)(D,{modelValue:o.isFooter,disabled:!a.hasFooter,title:G("vxe.export.expFooterTitle"),content:G("vxe.export.expOptFooter"),"onUpdate:modelValue"(e){o.isFooter=e}}):W(I)])])])]])])]),C?(0,co.h)("div",{class:"vxe-table-export--panel-bottom"},I.callSlot(C,e)):W(I)])},footer(){var e={$table:I,$grid:r,$gantt:l,options:o,columns:p,params:o.params};return(0,co.h)("div",{class:"vxe-table-export--panel-footer"},t?I.callSlot(t,e):[(0,co.h)("div",{class:"vxe-table-export--panel-btns"},[R?(0,co.h)(R,{content:G("vxe.export.expCancel"),onClick:z}):W(I),R?(0,co.h)(R,{ref:k,status:"primary",content:G(c?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:j}):W(I)])])}}):W(I)}}});let{getIcon:Ie,getI18n:Me,renderEmptyElement:g}=lo.VxeUI;var sa=It({name:"VxeTableMenuPanel",setup(e,t){var r=oo().uniqueId();let p=(0,co.inject)("$xeTable",{}),a=p.reactData,n=(0,co.ref)(),l={refElem:n};r={xID:r,props:e,context:t,getRefMaps:()=>l};return r.renderVN=()=>{let u=a.ctxMenuStore;var e=p.getComputeMaps().computeMenuOpts,{transfer:e,destroyOnClose:t}=e.value,{visible:r,list:l,className:o}=u;return(0,co.h)(co.Teleport,{to:"body",disabled:!e},[(0,co.h)("div",{ref:n,class:["vxe-table--context-menu-wrapper",o,{"is--visible":r}],style:u.style},!t||r?l.map((e,c)=>e.every(e=>!1===e.visible)?g(p):(0,co.h)("ul",{class:"vxe-context-menu--option-wrapper",key:c},e.map((s,d)=>{var{children:e,loading:t}=s,e=e&&e.some(e=>!1!==e.visible),r=Object.assign({},s.prefixConfig),l=r.icon||s.prefixIcon,o=Object.assign({},s.suffixConfig),a=o.icon||s.suffixIcon,n=no(s.name);return!1===s.visible?g(p):(0,co.h)("li",{class:[s.className,{"link--loading":t,"link--disabled":s.disabled,"link--active":s===u.selected}],key:c+"_"+d},[(0,co.h)("a",{class:"vxe-context-menu--link",onClick(e){p.ctxMenuLinkEvent(e,s)},onMouseover(e){p.ctxMenuMouseoverEvent(e,s)},onMouseout(e){p.ctxMenuMouseoutEvent(e,s)}},[(0,co.h)("div",{class:["vxe-context-menu--link-prefix",r.className||""]},[t?(0,co.h)("span",{class:Ie("TABLE_MENU_OPTION_LOADING")}):l&&oo().isFunction(l)?(0,co.h)("span",{},Eo(l({}))):(0,co.h)("span",{},[(0,co.h)("i",{class:l})]),r.content?(0,co.h)("span",{},""+r.content):g(p)]),(0,co.h)("div",{class:"vxe-context-menu--link-content",title:n},t?Me("vxe.table.menuLoading"):n),(0,co.h)("div",{class:["vxe-context-menu--link-suffix",o.className||""]},[a&&oo().isFunction(a)?(0,co.h)("span",{},Eo(a({}))):(0,co.h)("i",{class:a||(e?Ie().TABLE_MENU_OPTIONS:"")}),o.content?(0,co.h)("span",""+o.content):g(p)])]),e&&s.children?(0,co.h)("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":s===u.selected&&u.showChild}]},s.children.map((t,e)=>{var r=t.loading,l=Object.assign({},t.prefixConfig),o=l.icon||t.prefixIcon,a=Object.assign({},t.suffixConfig),n=a.icon||t.suffixIcon,i=no(t.name);return!1===t.visible?null:(0,co.h)("li",{class:[t.className,{"link--loading":r,"link--disabled":t.disabled,"link--active":t===u.selectChild}],key:c+`_${d}_`+e},[(0,co.h)("a",{class:"vxe-context-menu--link",onClick(e){p.ctxMenuLinkEvent(e,t)},onMouseover(e){p.ctxMenuMouseoverEvent(e,s,t)},onMouseout(e){p.ctxMenuMouseoutEvent(e,s)}},[(0,co.h)("div",{class:["vxe-context-menu--link-prefix",l.className||""]},[t.loading?(0,co.h)("span",{class:Ie("TABLE_MENU_OPTION_LOADING")}):o&&oo().isFunction(o)?(0,co.h)("span",{},Eo(o({}))):(0,co.h)("span",{},[(0,co.h)("i",{class:o})]),l.content?(0,co.h)("span",""+l.content):g(p)]),(0,co.h)("div",{class:"vxe-context-menu--link-content",title:i},r?Me("vxe.table.menuLoading"):i),(0,co.h)("div",{class:["vxe-context-menu--link-suffix",a.className||""]},[n&&oo().isFunction(n)?(0,co.h)("span",{},Eo(n({}))):(0,co.h)("i",{class:n}),a.content?(0,co.h)("span",""+a.content):g(p)])])])})):null])}))):[])])},r},render(){return this.renderVN()}});let{renderer:ke,hooks:Oe}=lo.VxeUI,Ae=["openFilter","setFilter","clearFilter","saveFilter","saveFilterByEvent","saveFilterPanel","saveFilterPanelByEvent","resetFilter","resetFilterByEvent","resetFilterPanel","resetFilterPanelByEvent","getCheckedFilters","updateFilterOptionStatus"],{menus:$e,hooks:Le,globalEvents:He,GLOBAL_EVENT_KEYS:_e}=(Oe.add("tableFilterModule",{setupTable(b){let C=b.xeGrid||b.xeGantt,{props:u,reactData:p,internalData:n}=b,{refElem:a,refTableFilter:w}=b.getRefMaps(),{computeFilterOpts:y,computeMouseOpts:g}=b.getComputeMaps();var e={checkFilterOptions(){var e=p.filterStore,t=e.column;t&&(t=t.filters||[],e.isAllSelected=t.every(e=>e._checked),e.isIndeterminate=!e.isAllSelected&&t.some(e=>e._checked))},triggerFilterEvent(e,t,r){let{initStore:l,filterStore:f}=p,x=n.elemStore;if(f.column===t&&f.visible)f.visible=!1;else{let s=a.value,{scrollTop:d,scrollLeft:c,visibleHeight:u,visibleWidth:p}=yr();let g=y.value.transfer,h=s.getBoundingClientRect(),v=e.currentTarget;var o=t?t.filterRender:null;let m=o&&ao(o)?ke.get(o.name):null;b.handleFilterOptions(t),n._currFilterParams=r,f.style=null,f.visible=!0,l.filter=!0,(0,co.nextTick)(()=>{if(To(x["main-header-scroll"])){var l=w.value,l=l?l.getRefMaps().refElem.value:null;if(l){var o=v.getBoundingClientRect(),a=l.querySelector(".vxe-table--filter-header"),n=l.querySelector(".vxe-table--filter-footer"),l=l.offsetWidth,i=l/2;let e=0,t=0,r=0;g?(e=o.left-i+c,t=o.top+v.clientHeight+d,r=Math.min(Math.max(h.height,Math.floor(u/2)),Math.max(80,u-t-(a?a.clientHeight:0)-(n?n.clientHeight:0)-28)),e<16?e=16:e>p-l-16&&(e=p-l-16)):(e=o.left-h.left-i,t=o.top-h.top+v.clientHeight,r=Math.max(40,s.clientHeight-t-(a?a.clientHeight:0)-(n?n.clientHeight:0)-14),e<1?e=1:e>s.clientWidth-l-1&&(e=s.clientWidth-l-1),C&&(i=C.getRefMaps().refElem.value)&&(o=i.getBoundingClientRect(),t+=h.top-o.top)),f.style={top:Ao(t),left:Ao(e)},m&&!m.tableFilterAutoHeight&&(r=0),f.maxHeight=r}}})}b.dispatchEvent("filter-visible",{column:t,field:t.field,property:t.field,filterList:b.getCheckedFilters(),visible:f.visible},e)},handleClearFilter(e){if(e){var{filters:r,filterRender:l}=e;if(r){l=ao(l)?ke.get(l.name):null;let t=e.filterResetMethod||(l?l.tableFilterResetMethod||l.filterResetMethod:null);r.forEach(e=>{e._checked=!1,e.checked=!1,t||(e.data=oo().clone(e.resetValue,!0))}),t&&t({options:r,column:e,$table:b})}}},handleColumnConfirmFilter(e,t){var r=u.mouseConfig;let{scrollXLoad:l,scrollYLoad:o}=p;var a=y.value,n=g.value,{field:i,filters:s}=e;let d=[],c=[];(s||[]).forEach(e=>{e.checked&&(d.push(e.value),c.push(e.data))});s=b.getCheckedFilters(),e={$table:b,$event:t,column:e,field:i,property:i,values:d,datas:c,filters:s,filterList:s};return a.remote||(b.handleTableData(!0),b.checkSelectionStatus()),r&&n.area&&b.handleFilterEvent&&b.handleFilterEvent(t,e),t&&b.dispatchEvent("filter-change",e,t),b.closeFilter(),b.updateFooter().then(()=>{var{scrollXLoad:e,scrollYLoad:t}=p;if(l||e||o||t)return(l||e)&&b.updateScrollXSpace(),(o||t)&&b.updateScrollYSpace(),b.refreshScroll()}).then(()=>(b.updateCellAreas(),b.recalculate(!0))).then(()=>{setTimeout(()=>b.recalculate(),50)})},confirmFilterEvent(e,t){t&&b.handleColumnConfirmFilter(t,e)},handleFilterChangeRadioOption(e,t,r){var l=p.filterStore,l=l.column;l&&((l.filters||[]).forEach(e=>{e._checked=!1}),r._checked=t,b.checkFilterOptions(),b.handleFilterConfirmFilter(e,l))},handleFilterChangeMultipleOption(e,t,r){r._checked=t,b.checkFilterOptions()},handleFilterChangeOption(e,t,r){var l=p.filterStore,o=n.fullColumnIdData;let a=l.column;a||(o=o[r._colId])&&(a=o.column,l.column=a),a&&(a.filterMultiple?b.handleFilterChangeMultipleOption(e,t,r):b.handleFilterChangeRadioOption(e,t,r))},handleFilterConfirmFilter(e,t){t&&((t.filters||[]).forEach(e=>{e.checked=e._checked}),b.confirmFilterEvent(e,t))},handleFilterResetFilter(e,t){t&&(b.handleClearFilter(t),b.confirmFilterEvent(e,t),e)&&b.dispatchEvent("clear-filter",{filterList:[]},e)}};return{...{openFilter(e){let o=bo(b,e);if(o&&o.filters){let r=n.elemStore,l=o.fixed;return b.scrollToColumn(o).then(()=>{var e,t=To(r[`${l||"main"}-header-wrapper`]||r["main-header-wrapper"]);t&&(t=t.querySelector(`.vxe-header--column.${o.id} .vxe-cell--filter`),e="click",t=t)&&t.dispatchEvent(new Event(e))})}return(0,co.nextTick)()},setFilter(e,t,r){var l=p.filterStore,e=bo(b,e);if(e&&e.filters){if(e.filters=zo(t||[],e.id),r)return b.handleColumnConfirmFilter(e,null);l.visible&&b.handleFilterOptions(e)}return(0,co.nextTick)()},clearFilter(e){var t=p.filterStore,r=n.tableFullColumn,l=y.value;let o;return e?(o=bo(b,e))&&b.handleClearFilter(o):r.forEach(b.handleClearFilter),e&&o===t.column||Object.assign(t,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),l.remote?(0,co.nextTick)():b.updateData()},saveFilter(e){return e&&(e=bo(b,e),b.handleFilterConfirmFilter(null,e)),(0,co.nextTick)()},saveFilterByEvent(e,t){return t&&(t=bo(b,t),b.handleFilterConfirmFilter(e,t)),(0,co.nextTick)()},resetFilter(e){return e&&(e=bo(b,e),b.handleFilterResetFilter(null,e)),(0,co.nextTick)()},resetFilterByEvent(e,t){return t&&(t=bo(b,t),b.handleFilterResetFilter(e,t)),(0,co.nextTick)()},saveFilterPanel(){var e=p.filterStore;return b.handleFilterConfirmFilter(null,e.column||null),(0,co.nextTick)()},saveFilterPanelByEvent(e){var t=p.filterStore;return b.handleFilterConfirmFilter(e,t.column||null),(0,co.nextTick)()},resetFilterPanel(){var e=p.filterStore;return b.handleFilterResetFilter(null,e.column||null),(0,co.nextTick)()},resetFilterPanelByEvent(e){var t=p.filterStore;return b.handleFilterResetFilter(e,t.column||null),(0,co.nextTick)()},getCheckedFilters(){var e=n.tableFullColumn;let a=[];return e.forEach(e=>{var{field:t,filters:r}=e,r=r||[];let l=[],o=[];r&&(r.forEach(e=>{e.checked&&(l.push(e.value),o.push(e.data))}),l.length)&&a.push({column:e,field:t,property:t,values:l,datas:o})}),a},updateFilterOptionStatus(e,t){return e._checked=t,e.checked=t,(0,co.nextTick)()}},...e}},setupGrid(e){return e.extendTableMethods(Ae)},setupGantt(e){return e.extendTableMethods(Ae)}}),lo.VxeUI),Pe=["closeMenu"],{getConfig:Be,renderer:Ve,hooks:Ne,getI18n:k}=(Le.add("tableMenuModule",{setupTable(x){let{xID:b,props:C,reactData:w,internalData:y}=x,{refElem:T,refTableFilter:E,refTableMenu:R}=x.getRefMaps(),{computeMouseOpts:S,computeIsContentMenu:r,computeMenuOpts:F}=x.getComputeMaps();let a=x.xeGrid||x.xeGantt,D;var e;let I=(p,t,g)=>{let h=w.ctxMenuStore;var l=r.value,e=F.value,t=e[t];let{transfer:v,visibleMethod:o}=e;if(t){let{options:r,disabled:e}=t;e?p.preventDefault():l&&r&&r.length&&(g.options=r,x.preventEvent(p,"event.showMenu",g,()=>{if(!o||o(g)){p.preventDefault(),x.updateZindex();var t=(a?a.getRefMaps().refElem:T).value;if(t){t=t.getBoundingClientRect();let{scrollTop:o,scrollLeft:a,visibleHeight:n,visibleWidth:i}=yr(),s=p.clientY-t.y,d=p.clientX-t.x,l=(v&&(s=p.clientY+o,d=p.clientX+a),()=>{y._currMenuParams=g,Object.assign(h,{visible:!0,list:r,selected:null,selectChild:null,showChild:!1,style:{zIndex:y.tZindex,top:s+"px",left:d+"px"}}),(0,co.nextTick)(()=>{var e=R.value.getRefMaps().refElem.value,t=e.clientHeight,r=e.clientWidth,{boundingTop:e,boundingLeft:l}=Rr(e),e=e+t-n,l=l+r-i;-10<e&&(h.style.top=Math.max(o+2,s-t-2)+"px"),-10<l&&(h.style.left=Math.max(a+2,d-r-2)+"px")})}),{keyboard:e,row:c,column:u}=g;e&&c&&u?x.scrollToRow(c,u).then(()=>{var e,t,r=x.getCellElement(c,u);r&&({boundingTop:e,boundingLeft:t}=Rr(r),s=e+o+Math.floor(r.offsetHeight/2),d=t+a+Math.floor(r.offsetWidth/2)),l()}):l()}}else D.closeMenu()}))}x.closeFilter()};return D={closeMenu(){return Object.assign(w.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),(0,co.nextTick)()}},e={moveCtxMenu(e,t,r,l,o,a){let n;var i=oo().findIndexOf(a,e=>t[r]===e);if(l)o&&Fo(t.selected)?t.showChild=!0:(t.showChild=!1,t.selectChild=null);else if(He.hasKey(e,_e.ARROW_UP)){for(let e=i-1;0<=e;e--)if(!1!==a[e].visible){n=a[e];break}t[r]=n||a[a.length-1]}else if(He.hasKey(e,_e.ARROW_DOWN)){for(let e=i+1;e<a.length;e++)if(!1!==a[e].visible){n=a[e];break}t[r]=n||a[0]}else t[r]&&(He.hasKey(e,_e.ENTER)||He.hasKey(e,_e.SPACEBAR))&&x.ctxMenuLinkEvent(e,t[r])},handleOpenMenuEvent:I,handleGlobalContextmenuEvent(t){var r=x.xeGrid,l=x.xeGantt,{mouseConfig:e,menuConfig:o}=C,{editStore:a,ctxMenuStore:n}=w,i=y.visibleColumn,s=E.value,d=R.value,c=S.value,u=F.value,p=T.value,a=a.selected,g=["header","body","footer"];if(ao(o)){if(n.visible&&d&&mo(t,d.getRefMaps().refElem.value).flag)return void t.preventDefault();if(y._keyCtx){o={source:"table",type:"body",$table:x,$grid:r,$gantt:l,keyboard:!0,columns:i.slice(0),$event:t};if(e&&c.area){n=x.getActiveCellArea();if(n&&n.row&&n.column)return o.row=n.row,o.column=n.column,void I(t,"body",o)}else if(e&&c.selected&&a.row&&a.column)return o.row=a.row,o.column=a.column,void I(t,"body",o)}for(let e=0;e<g.length;e++){var h=g[e],v=mo(t,p,`vxe-${h}--column`,e=>e.parentNode.parentNode.parentNode.getAttribute("xid")===b),m={source:"table",type:h,$table:x,$grid:r,$gantt:l,columns:i.slice(0),$event:t};if(v.flag){var v=v.targetElem,f=x.getColumnNode(v),f=f?f.item:null;let e=h+"-";f&&Object.assign(m,{column:f,columnIndex:x.getColumnIndex(f),cell:v}),"body"===h&&(v=(f=x.getRowNode(v.parentNode))?f.item:null,e="",v)&&(m.row=v,m.rowIndex=x.getRowIndex(v));f=e+"cell-menu";return I(t,h,m),void x.dispatchEvent(f,m,t)}if(mo(t,p,`vxe-table--${h}-wrapper`,e=>e.getAttribute("xid")===b).flag)return void("cell"===u.trigger?t.preventDefault():I(t,h,m))}}s&&!mo(t,s.getRefMaps().refElem.value).flag&&x.closeFilter(),D.closeMenu()},ctxMenuMouseoverEvent(e,t,r){let d=e.currentTarget;var l=w.ctxMenuStore;e.preventDefault(),e.stopPropagation(),l.selected=t,(l.selectChild=r)||(l.showChild=Fo(t),l.showChild&&(0,co.nextTick)(()=>{var o=d.nextElementSibling;if(o){var{boundingTop:a,boundingLeft:n,visibleHeight:i,visibleWidth:s}=Rr(d),a=a+d.offsetHeight;let e="",t="",r=(n+d.offsetWidth+o.offsetWidth>s-10&&(e="auto",t=d.offsetWidth+"px"),""),l="";a+o.offsetHeight>i-10&&(r="auto",l="0"),o.style.left=e,o.style.right=t,o.style.top=r,o.style.bottom=l}}))},ctxMenuMouseoutEvent(e,t){var r=w.ctxMenuStore;t.children||(r.selected=null),r.selectChild=null},ctxMenuLinkEvent(e,t){var r,l=x.xeGrid,o=x.xeGantt;t.loading||t.disabled||!t.code&&t.children&&t.children.length||(r=$e.get(t.code),t=Object.assign({},y._currMenuParams,{menu:t,$table:x,$grid:l,$gantt:o,$event:e}),(l=r?r.tableMenuMethod||r.menuMethod:null)&&l(t,e),x.dispatchEvent("menu-click",t,e),D.closeMenu())}},{...D,...e}},setupGrid(e){return e.extendTableMethods(Pe)},setupGantt(e){return e.extendTableMethods(Pe)}}),lo.VxeUI),ze=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getEditCell","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"],je=(Ne.add("tableEditModule",{setupTable(w){let{props:y,reactData:T,internalData:E}=w,t=w.getRefMaps().refElem,{computeMouseOpts:u,computeEditOpts:x,computeCheckboxOpts:b,computeTreeOpts:R,computeValidOpts:i}=w.getComputeMaps(),c=oo().browse(),C={},p={},S=(e,t)=>{var{model:r,editRender:l}=t;l&&(r.value=wo(e,t),r.update=!1)},a=(e,t)=>{var{model:r,editRender:l}=t;l&&r.update&&(yo(e,t,r.value),r.update=!1,r.value=null)},r=()=>{var e=t.value;e&&(e=e.querySelector(".col--selected"))&&po(e,"col--selected")},s=()=>{var{editStore:e,tableColumn:t}=T,r=x.value,e=e.actived;let{row:l,column:o}=e;(l||o)&&("row"===r.mode?t.forEach(e=>a(l,e)):a(l,o))},F=(e,t)=>{let{tableFullTreeData:n,afterFullData:i,fullDataRowIdData:s,fullAllDataRowIdData:d}=E;var r=R.value;let{rowField:c,parentField:u,mapChildrenField:p}=r,g=r.children||r.childrenField,h=t?"push":"unshift";e.forEach(r=>{let t=r[u];var l=fo(w,r),o=t?oo().findTree(n,e=>t===e[c],{children:p}):null;if(o){var o=o.item,a=d[fo(w,o)],a=a?a.level:0;let e=o[g],t=o[p];oo().isArray(e)||(e=o[g]=[]),oo().isArray(t)||(t=o[p]=[]),e[h](r),t[h](r);o={row:r,rowid:l,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:e,parent:o,level:a+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};s[l]=o,d[l]=o}else{t&&Hl("vxe.error.unableInsert"),i[h](r),n[h](r);a={row:r,rowid:l,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:n,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};s[l]=a,d[l]=a}})},d=(t,r,i)=>{let o=y.treeConfig;var e=T.isRowGroupStatus;let{tableFullTreeData:s,afterFullData:a,mergeBodyList:n,tableFullData:d,fullDataRowIdData:c,fullAllDataRowIdData:u,insertRowMaps:l,removeRowMaps:p}=E;var g=R.value;let{transform:h,parentField:v,rowField:m,mapChildrenField:f}=g,x=g.children||g.childrenField,b=(oo().isArray(t)||(t=[t]),(0,co.reactive)(w.defineField(t.map(e=>Object.assign(o&&h?{[f]:[],[x]:[]}:{},e))))),C=[];if(o&&h&&(C=oo().toArrayTree(b,{key:m,parentKey:v,children:x})),oo().eqNull(r))if(o&&h)F(b,!1);else if(e){if(o)throw new Error(k("vxe.error.noTree",["insert"]));Hl(k("vxe.error.noGroup",["remove"]))}else b.forEach(e=>{var t=fo(w,e),r={row:e,rowid:t,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:a,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};c[t]=r,u[t]=r,a.unshift(e),d.unshift(e)}),n.forEach(e=>{var t=e.row;0<=t&&(e.row=t+b.length)});else if(-1===r)if(o&&h)F(b,!0);else if(e){if(o)throw new Error(k("vxe.error.noTree",["insert"]));Hl(k("vxe.error.noGroup",["remove"]))}else b.forEach(e=>{var t=fo(w,e),r={row:e,rowid:t,seq:-1,index:-1,_index:-1,treeIndex:-1,_tIndex:-1,$index:-1,items:a,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};c[t]=r,u[t]=r,a.push(e),d.push(e)});else if(o&&h){let n=oo().findTree(s,e=>r[m]===e[m],{children:f});if(n){let l=n.parent,o=l?l[f]:s;g=u[fo(w,l)];let a=g?g.level:0;if(C.forEach((e,t)=>{l?e[v]!==l[m]&&(_l("vxe.error.errProp",[v+"="+e[v],v+"="+l[m]]),e[v]=l[m]):null!==e[v]&&(oo().eqNull(e[v])||_l("vxe.error.errProp",[v+"="+e[v],"null"]),e[v]=null);let r=n.index+t;i&&(r+=1),o.splice(r,0,e)}),oo().eachTree(C,e=>{var t=fo(w,e),r={row:e,rowid:t,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:o,parent:l,level:a+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};e[x]&&(e[f]=e[x]),c[t]=r,u[t]=r},{children:x}),l){t=oo().findTree(s,e=>r[m]===e[m],{children:x});if(t){g=t.items;let e=t.index;i&&(e+=1),g.splice(e,0,...C)}}}else Hl("vxe.error.unableInsert"),F(b,!0)}else if(e){if(o)throw new Error(k("vxe.error.noTree",["insert"]));Hl(k("vxe.error.noGroup",["remove"]))}else{if(o)throw new Error(k("vxe.error.noTree",["insert"]));let l=-1;if(oo().isNumber(r)?r<a.length&&(l=r):l=w.findRowIndexOf(a,r),-1===(l=i?Math.min(a.length,l+1):l))throw new Error(k("vxe.error.unableInsert"));a.splice(l,0,...b);t=w.findRowIndexOf(d,r);-1<t?d.splice(t+(i?1:0),0,...b):d.push(...b),n.forEach(e=>{var{row:t,rowspan:r}=e;t>=l?e.row=t+b.length:(i?t+r>=l:t+r>l)&&(e.rowspan=r+b.length)})}g=e=>{var t=fo(w,e);p[t]?(delete p[t],l[t]&&delete l[t]):l[t]=e};return o&&h?oo().eachTree(C,g,{children:f}):b.forEach(g),T.removeRowFlag++,T.insertRowFlag++,w.cacheRowMap(!1),w.updateScrollYStatus(),w.handleTableData(o&&h),o&&h||w.updateAfterDataIndex(),w.updateFooter(),w.handleUpdateBodyMerge(),w.checkSelectionStatus(),T.scrollYLoad&&w.updateScrollYSpace(),(0,co.nextTick)().then(()=>(w.updateCellAreas(),w.recalculate(!0))).then(()=>({row:b.length?b[b.length-1]:null,rows:b}))},l=(e,t,r,l)=>{var o=y.treeConfig;let{transform:a,rowField:n,parentField:i}=R.value;return o&&a?(oo().isArray(e)||(e=[e]),d(e.map(e=>Object.assign({},e,{[i]:t[n]})),r,l)):(_l("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},D=(e,t)=>{var r=T.editStore,{actived:r,focused:l}=r,{row:o,column:a}=r,n=i.value;if(o||a){if(t&&fo(w,t)!==fo(w,o))return(0,co.nextTick)();s(),r.args=null,r.row=null,r.column=null,w.updateFooter(),w.dispatchEvent("edit-closed",{row:o,rowIndex:w.getRowIndex(o),$rowIndex:w.getVMRowIndex(o),column:a,columnIndex:w.getColumnIndex(a),$columnIndex:w.getVMColumnIndex(a)},e||null)}return l.row=null,l.column=null,n.autoClear&&("full"!==n.msgMode||"obsolete"===Be().cellVaildMode)&&w.clearValidate?w.clearValidate():(0,co.nextTick)().then(()=>w.updateCellAreas())},n=(r,l,o,e)=>{let a=w.xeGrid,n=w.xeGantt;var{editConfig:t,mouseConfig:i}=y,{editStore:s,tableColumn:d}=T,c=x.value,u=c.mode,{actived:s,focused:p}=s;let{row:g,column:h}=r;var v=h.editRender,m=r.cell||w.getCellElement(g,h),f=c.beforeEditMethod||c.activeMethod;if((r.cell=m)&&ao(t)&&ao(v)&&!w.isPendingByRow(g)&&!w.isAggregateRecord(g)){if(s.row!==g||"cell"===u&&s.column!==h){let t="edit-disabled";if(!f||f({...r,$table:w,$grid:a,$gantt:n})){i&&(w.clearSelected(),w.clearCellAreas)&&(w.clearCellAreas(),w.clearCopyCellArea()),w.closeTooltip(),s.column&&D(l),t="edit-activated",h.renderHeight=m.offsetHeight,s.args=r,s.row=g,s.column=h,"row"===u?d.forEach(e=>S(g,e)):S(g,h);let e=c.afterEditMethod;(0,co.nextTick)(()=>{o&&w.handleFocus(r,l),e&&e({...r,$table:w,$grid:a,$gantt:n})})}w.dispatchEvent(t,{row:g,rowIndex:w.getRowIndex(g),$rowIndex:w.getVMRowIndex(g),column:h,columnIndex:w.getColumnIndex(h),$columnIndex:w.getVMColumnIndex(h)},l),"edit-activated"===t&&w.dispatchEvent("edit-actived",{row:g,rowIndex:w.getRowIndex(g),$rowIndex:w.getVMRowIndex(g),column:h,columnIndex:w.getColumnIndex(h),$columnIndex:w.getVMColumnIndex(h)},l)}else{t=s.column;i&&(w.clearSelected(),w.clearCellAreas)&&(w.clearCellAreas(),w.clearCopyCellArea()),t!==h&&(v=t.model,v.update&&yo(g,t,v.value),w.clearValidate)&&w.clearValidate(g,h),h.renderHeight=m.offsetHeight,s.args=r,s.column=h,e&&setTimeout(()=>{w.handleFocus(r,l)})}p.column=null,p.row=null,w.focus()}return(0,co.nextTick)()},g=(t,e,r)=>{var l=y.editConfig;let o=oo().isString(e)?w.getColumnByField(e):e;return t&&o&&ao(l)&&ao(o.editRender)&&!w.isAggregateRecord(t)?Promise.resolve(r?w.scrollToRow(t,o):null).then(()=>{var e=w.getCellElement(t,o);return e&&(n({row:t,rowIndex:w.getRowIndex(t),column:o,columnIndex:w.getColumnIndex(o),cell:e,$table:w},null,r,r),E._lastCallTime=Date.now()),(0,co.nextTick)()}):(0,co.nextTick)()};return C={insert(e){return d(e,null)},insertAt(e,t){return d(e,t)},insertNextAt(e,t){return d(e,t,!0)},insertChild(e,t){return l(e,t,null)},insertChildAt(e,t,r){return l(e,t,r)},insertChildNextAt(e,t,r){return l(e,t,r,!0)},remove(e){var t=y.treeConfig,{editStore:r,isRowGroupStatus:l}=T;let{tableFullTreeData:o,selectCheckboxMaps:a,afterFullData:n,mergeBodyList:i,tableFullData:s,pendingRowMaps:d,insertRowMaps:c,removeRowMaps:u}=E;var p=b.value,g=R.value;let{transform:h,mapChildrenField:v}=g,m=g.children||g.childrenField;g=r.actived,r=p.checkField;let f=[];return e?oo().isArray(e)||(e=[e]):e=s,e.forEach(e=>{var t;w.isInsertByRow(e)||(t=fo(w,e),u[t]=e)}),r||(e.forEach(e=>{e=fo(w,e);a[e]&&delete a[e]}),T.updateCheckboxFlag++),s===e?(e=f=s.slice(0),E.tableFullData=[],E.afterFullData=[],w.clearMergeCells()):t&&h?e.forEach(e=>{let t=fo(w,e);var r=oo().findTree(o,e=>t===fo(w,e),{children:v}),r=(r&&(r=r.items.splice(r.index,1),f.push(r[0])),oo().findTree(o,e=>t===fo(w,e),{children:m})),r=(r&&r.items.splice(r.index,1),w.findRowIndexOf(n,e));-1<r&&n.splice(r,1)}):l?Hl(k("vxe.error.noGroup",["remove"])):e.forEach(e=>{var t=w.findRowIndexOf(s,e);-1<t&&(t=s.splice(t,1),f.push(t[0]));let l=w.findRowIndexOf(n,e);-1<l&&(i.forEach(e=>{var{row:t,rowspan:r}=e;t>l?e.row=t-1:t+r>l&&(e.rowspan=r-1)}),n.splice(l,1))}),g.row&&-1<w.findRowIndexOf(e,g.row)&&C.clearEdit(),e.forEach(e=>{e=fo(w,e);c[e]&&delete c[e],d[e]&&delete d[e]}),T.removeRowFlag++,T.insertRowFlag++,T.pendingRowFlag++,w.cacheRowMap(!1),w.handleTableData(t&&h),w.updateFooter(),w.handleUpdateBodyMerge(),t&&h||w.updateAfterDataIndex(),w.checkSelectionStatus(),T.scrollYLoad&&w.updateScrollYSpace(),(0,co.nextTick)().then(()=>(w.updateCellAreas(),w.recalculate(!0))).then(()=>({row:f.length?f[f.length-1]:null,rows:f}))},removeCheckboxRow(){return C.remove(w.getCheckboxRecords()).then(e=>(w.clearCheckboxRow(),e))},removeRadioRow(){var e=w.getRadioRecord();return C.remove(e||[]).then(e=>(w.clearRadioRow(),e))},removeCurrentRow(){var e=w.getCurrentRecord();return C.remove(e||[]).then(e=>(w.clearCurrentRow(),e))},getRecordset(){var e=C.getRemoveRecords(),t=w.getPendingRecords();let r=e.concat(t);var l=C.getUpdateRecords().filter(t=>!r.some(e=>w.eqRow(e,t)));return{insertRecords:C.getInsertRecords(),removeRecords:e,updateRecords:l,pendingRecords:t}},getInsertRecords(){let{fullAllDataRowIdData:r,insertRowMaps:e}=E,l=[];return oo().each(e,(e,t)=>{r[t]&&l.push(e)}),l},getRemoveRecords(){var e=E.removeRowMaps;let t=[];return oo().each(e,e=>{t.push(e)}),t},getUpdateRecords(){var{keepSource:e,treeConfig:t}=y,r=E.tableFullData,l=R.value;return e?(s(),t?oo().filterTree(r,e=>w.isUpdateByRow(e),l):r.filter(e=>w.isUpdateByRow(e))):[]},getActiveRecord(){Hl("vxe.error.delFunc",["getActiveRecord","getEditCell"]);var e=T.editStore,t=E.fullAllDataRowIdData,{args:e,row:r}=e.actived;return e&&r&&t[fo(w,r)]?Object.assign({},e,{row:r}):null},getEditRecord(){Hl("vxe.error.delFunc",["getEditRecord","getEditCell"]);var e=T.editStore,t=E.fullAllDataRowIdData,{args:e,row:r}=e.actived;return e&&r&&t[fo(w,r)]?Object.assign({},e,{row:r}):null},getEditCell(){var e=T.editStore,{row:e,column:t}=e.actived;return t&&e?{row:e,rowIndex:w.getRowIndex(e),column:t,columnIndex:w.getColumnIndex(t)}:null},getSelectedCell(){var e=T.editStore,{row:e,column:t}=e.selected;return e&&t?{row:e,column:t}:null},clearActived(e){return Hl("vxe.error.delFunc",["clearActived","clearEdit"]),w.clearEdit(e)},clearEdit(e){return D(null,e)},clearSelected(){var e=T.editStore,e=e.selected;return e.row=null,e.column=null,r(),(0,co.nextTick)()},isActiveByRow(e){return Hl("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),w.isEditByRow(e)},isEditByRow(e){var t=T.editStore;return t.actived.row===e},setActiveRow(e){return Hl("vxe.error.delFunc",["setActiveRow","setEditRow"]),C.setEditRow(e)},setEditRow(e,t){var r=E.visibleColumn;let l=oo().find(r,e=>ao(e.editRender)),o=!1;return t&&(o=!0)!==t&&(l=oo().isString(t)?w.getColumnByField(t):t),g(e,l,o)},setActiveCell(e,t){return Hl("vxe.error.delFunc",["setActiveCell","setEditCell"]),C.setEditCell(e,t)},setEditCell(e,t){return g(e,t,!0)},setSelectCell(e,t){var r=T.tableData,l=x.value,t=oo().isString(t)?w.getColumnByField(t):t;return e&&t&&"manual"!==l.trigger&&-1<(l=w.findRowIndexOf(r,e))&&t&&(r=w.getCellElement(e,t),e={row:e,rowIndex:l,column:t,columnIndex:w.getColumnIndex(t),cell:r},w.handleSelected(e,{})),(0,co.nextTick)()}},p={handleEdit(e,t){return n(e,t,!0,!0)},handleActived(e,t){return p.handleEdit(e,t)},handleClearEdit:D,handleFocus(l){var{row:o,column:a,cell:n}=l,i=a.editRender,s=x.value;if(ao(i)){var d=Ve.get(i.name);let e=i.autofocus||i.autoFocus,t=i.autoSelect||i.autoselect,r;s.autoFocus&&(!e&&d&&(e=d.tableAutoFocus||d.tableAutofocus||d.autofocus),!t&&d&&(t=d.tableAutoSelect||d.autoselect),oo().isFunction(e)?r=e(l):e&&(r=!0===e?n.querySelector("input,textarea"):n.querySelector(e))&&r.focus()),r?t?r.select():c.msie&&((i=r.createTextRange()).collapse(!1),i.select()):s.autoPos&&!a.fixed&&w.scrollToRow(o,a)}},handleSelected(e,t){var r=y.mouseConfig,l=T.editStore,o=u.value;let a=x.value,{actived:n,selected:i}=l,{row:s,column:d}=e,c=r&&o.selected;return!c||i.row===s&&i.column===d||(n.row!==s||"cell"===a.mode&&n.column!==d)&&(D(t),w.clearSelected(),w.clearCellAreas&&(w.clearCellAreas(),w.clearCopyCellArea()),i.args=e,i.row=s,i.column=d,c&&p.addCellSelectedClass(),w.focus(),t)&&w.dispatchEvent("cell-selected",e,t),(0,co.nextTick)()},addCellSelectedClass(){var e=T.editStore,e=e.selected,{row:e,column:t}=e;r(),e&&t&&(e=w.getCellElement(e,t))&&go(e,"col--selected")}},{...C,...p}},setupGrid(e){return e.extendTableMethods(ze)},setupGantt(e){return e.extendTableMethods(ze)}}),'body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}'),{getI18n:q,hooks:Ge,renderer:Ue}=lo.VxeUI,E,x="\r\n";function Xr(e){return!!e.field||-1===["seq","checkbox","radio"].indexOf(e.type||"")}let We=e=>{let t=[];return e.forEach(e=>{e.childNodes&&e.childNodes.length?(t.push(e),t.push(...We(e.childNodes))):t.push(e)}),t};function Kr(e){return"TRUE"===e||"true"===e||!0===e}function Yr(r,e,t){let l=r.xeGrid,o=r.xeGantt,a=e.footerFilterMethod;return a?t.filter((e,t)=>a({$table:r,$grid:l,$gantt:o,items:e,$rowIndex:t})):t}function Zr(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function $t(e,t){return e.getElementsByTagName(t)}function Qr(e){return`#${e}@`+oo().uniqueId()}function Jr(e,t){return e.replace(/#\d+@\d+/g,e=>oo().hasOwnProp(t,e)?t[e]:e)}function el(e,t){return Jr(e,t).replace(/^"+$/g,e=>'"'.repeat(Math.ceil(e.length/2)))}function tl(e,t){var{fieldMaps:e,titleMaps:r}=e;return e[t]||(e=r[t])&&e.field&&(t=e.field),t}function rl(t,e,a){e=e.split(x);let n=[],i=[];if(e.length){let l={},o=Date.now();e.forEach(e=>{if(e){let r={};e=(e=e.replace(/("")|(\n)/g,(e,t)=>{var r=Qr(o);return l[r]=t?'"':"\n",r}).replace(/"(.*?)"/g,(e,t)=>{var r=Qr(o);return l[r]=Jr(t,l),r})).split(a);i.length?(e.forEach((e,t)=>{t<i.length&&(r[i[t]]=el(e.trim(),l))}),n.push(r)):i=e.map(e=>tl(t,el(e.trim(),l)))}})}return{fields:i,rows:n}}function ll(e){oo().eachTree(e,e=>{delete e._level,delete e._colSpan,delete e._rowSpan,delete e._children,delete e.childNodes},{children:"children"})}let qe=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];Ge.add("tableExportModule",{setupTable(L){let{props:H,reactData:_,internalData:P}=L,{computeTreeOpts:B,computePrintOpts:s,computeExportOpts:V,computeImportOpts:c,computeCustomOpts:D,computeSeqOpts:n,computeRadioOpts:l,computeCheckboxOpts:o,computeColumnOpts:i}=L.getComputeMaps(),C=e=>{var t=B.value,t=t.children||t.childrenField;return e[t]&&e[t].length},w=(e,t,r,l,o)=>{var a=n.value.seqMethod||l.seqMethod;return a?a({$table:L,row:t,rowIndex:L.getRowIndex(t),_rowIndex:L.getVTRowIndex(t),$rowIndex:r,column:l,columnIndex:L.getColumnIndex(l),_columnIndex:L.getVTColumnIndex(l),$columnIndex:o}):e};function S(e,t){var r=i.value,r=t.headerExportMethod||r.headerExportMethod;return r?r({column:t,options:e,$table:L}):(e.isTitle?t.getTitle():t.field)||""}let y=e=>oo().isBoolean(e)?e?"TRUE":"FALSE":e,T=e=>so(e)?"":""+e,d=(g,h,e)=>{let{isAllExpand:v,mode:m}=g;var t=H.treeConfig;let f=l.value,x=o.value;var r=B.value;let b=i.value;if(E=E||document.createElement("div"),t){t=r.children||r.childrenField;let c=[],u={},p={},n=xo(L).handleGetRowId;return oo().eachTree(e,(e,i,t,s,r,l)=>{let d=e._row||e;var o=n(d);if(!p[o]){e=r&&r._row?r._row:r,r=e?n(e):"";if(v||!e||u[r]&&L.isTreeExpandByRow(e)){var a=C(d);let n={_row:d,_level:l.length-1,_hasChild:a,_expand:a&&L.isTreeExpandByRow(d)};h.forEach((e,t)=>{let r="";var l=e.editRender||e.cellRender;let o=e.exportMethod||b.exportMethod;if(o=(o=!o&&l&&l.name&&(l=Ue.get(l.name))?l.tableExportMethod||l.exportMethod:o)||b.exportMethod)r=o({$table:L,row:d,column:e,options:g});else switch(e.type){case"seq":var a=s.map((e,t)=>t%2==0?Number(e)+1:".").join("");r="all"===m?a:w(a,d,i,e,t);break;case"checkbox":r=y(L.isCheckedByCheckboxRow(d)),n._checkboxLabel=x.labelField?oo().get(d,x.labelField):"",n._checkboxDisabled=x.checkMethod&&!x.checkMethod({$table:L,row:d});break;case"radio":r=y(L.isCheckedByRadioRow(d)),n._radioLabel=f.labelField?oo().get(d,f.labelField):"",n._radioDisabled=f.checkMethod&&!f.checkMethod({$table:L,row:d});break;default:g.original?r=wo(d,e):(r=L.getCellLabel(d,e),"html"===e.type?(E.innerHTML=r,r=E.innerText.trim()):(a=L.getCellElement(d,e))&&!uo(a,"is--progress")&&(r=a.innerText.trim()))}n[e.id]=T(r)}),p[o]=!0,r&&(u[r]=!0),c.push(Object.assign(n,d))}}},{children:t}),c}return e.map((n,i)=>{let s={_row:n};return h.forEach((e,t)=>{let r="";var l=e.editRender||e.cellRender;let o=e.exportMethod||b.exportMethod;if(o=!o&&l&&l.name&&(l=Ue.get(l.name))?l.tableExportMethod||l.exportMethod:o)r=o({$table:L,row:n,column:e,options:g});else switch(e.type){case"seq":var a=i+1;r="all"===m?a:w(a,n,i,e,t);break;case"checkbox":r=y(L.isCheckedByCheckboxRow(n)),s._checkboxLabel=x.labelField?oo().get(n,x.labelField):"",s._checkboxDisabled=x.checkMethod&&!x.checkMethod({$table:L,row:n});break;case"radio":r=y(L.isCheckedByRadioRow(n)),s._radioLabel=f.labelField?oo().get(n,f.labelField):"",s._radioDisabled=f.checkMethod&&!f.checkMethod({$table:L,row:n});break;default:g.original?r=wo(n,e):(r=L.getCellLabel(n,e),"html"===e.type?(E.innerHTML=r,r=E.innerText.trim()):(a=L.getCellElement(n,e))&&!uo(a,"is--progress")&&(r=a.innerText.trim()))}s[e.id]=T(r)}),s})},F=(e,t,r)=>{var l=i.value,o=r.editRender||r.cellRender;let a=r.footerExportMethod;return(a=(a=!a&&o&&o.name&&(o=Ue.get(o.name))?o.tableFooterExportMethod||o.footerExportMethod:a)||l.footerExportMethod)?(o=L.getVTColumnIndex(r),a({$table:L,items:t,itemIndex:o,row:t,_columnIndex:o,column:r,options:e})):L.getFooterCellLabel(t,r)},u=(e,r,l,t)=>{let o="\ufeff";return r.isHeader&&(o+=l.map(e=>Zr(S(r,e))).join(",")+x),t.forEach(t=>{o+=l.map(e=>Zr(((e,t)=>{if(t){if("seq"===e.type)return`	`+t;switch(e.cellType){case"string":if(isNaN(t))break;return`	`+t;case"number":break;default:if(12<=t.length&&!isNaN(t))return`	`+t}}return t})(e,t[e.id]))).join(",")+x}),r.isFooter&&(t=_.footerTableData,Yr(e,r,t).forEach(t=>{o+=l.map(e=>Zr(F(r,t,e))).join(",")+x})),o},p=(e,r,l,t)=>{let o="";return r.isHeader&&(o+=l.map(e=>Zr(S(r,e))).join("\t")+x),t.forEach(t=>{o+=l.map(e=>Zr(t[e.id])).join("\t")+x}),r.isFooter&&(t=_.footerTableData,Yr(e,r,t).forEach(t=>{o+=l.map(e=>Zr(F(r,t,e))).join("\t")+x})),o},I=(e,t,r)=>{e=e[t],t=oo().isUndefined(e)||oo().isNull(e)?r:e;let l="title"===t||(!0===t||"tooltip"===t)||"ellipsis"===t;var{scrollXLoad:r,scrollYLoad:e}=_;return l=r||e?l||!0:l},g=(i,e,t)=>{let{id:d,border:r,treeConfig:l,headerAlign:s,align:c,footerAlign:a,showOverflow:u,showHeaderOverflow:p}=H,{isAllSelected:g,isIndeterminate:o}=_,h=P.mergeBodyCellMaps,n=B.value,{print:v,isHeader:m,isFooter:f,isColgroup:x,isMerge:b,colgroups:C,original:w}=i,y="check-all";let T=[`<table class="${["vxe-table","border--"+(!0===(R=r)?"full":R||"default"),v?"is--print":"",m?"is--header":""].filter(e=>e).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${e.map(e=>`<col style="width:${e.renderWidth}px">`).join("")}</colgroup>`];m&&(T.push("<thead>"),x&&!w?C.forEach(e=>{T.push(`<tr>${e.map(t=>{var e=t.headerAlign||t.align||s||c,r=I(t,"showHeaderOverflow",p)?["col--ellipsis"]:[],l=S(i,t);let o=0,a=0;oo().eachTree([t],e=>{e.childNodes&&t.childNodes.length||a++,o+=e.renderWidth},{children:"childNodes"});var n=o-a;return e&&r.push("col--"+e),"checkbox"===t.type?`<th class="${r.join(" ")}" colspan="${t._colSpan}" rowspan="${t._rowSpan}"><div ${v?"":`style="width: ${n}px"`}><input type="checkbox" class="${y}" ${g?"checked":""}><span>${l}</span></div></th>`:`<th class="${r.join(" ")}" colspan="${t._colSpan}" rowspan="${t._rowSpan}" title="${l}"><div ${v?"":`style="width: ${n}px"`}><span>${io(l,!0)}</span></div></th>`}).join("")}</tr>`)}):T.push(`<tr>${e.map(e=>{var t=e.headerAlign||e.align||s||c,r=I(e,"showHeaderOverflow",p)?["col--ellipsis"]:[],l=S(i,e);return t&&r.push("col--"+t),"checkbox"===e.type?`<th class="${r.join(" ")}"><div ${v?"":`style="width: ${e.renderWidth}px"`}><input type="checkbox" class="${y}" ${g?"checked":""}><span>${l}</span></div></th>`:`<th class="${r.join(" ")}" title="${l}"><div ${v?"":`style="width: ${e.renderWidth}px"`}><span>${io(l,!0)}</span></div></th>`}).join("")}</tr>`),T.push("</thead>")),t.length&&(T.push("<tbody>"),l?t.forEach(o=>{T.push("<tr>"+e.map(t=>{var r=t.id,e=t.align||c,l=I(t,"showOverflow",u)?["col--ellipsis"]:[],r=o[r];if(e&&l.push("col--"+e),t.treeNode){let e="";return o._hasChild&&(e=`<i class="${o._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),l.push("vxe-table--tree-node"),"radio"===t.type?`<td class="${l.join(" ")}" title="${r}"><div ${v?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${o._level*n.indent}px"><div class="vxe-table--tree-icon-wrapper">${e}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${d}" ${o._radioDisabled?"disabled ":""}${Kr(r)?"checked":""}><span>${o._radioLabel}</span></div></div></div></td>`:"checkbox"===t.type?`<td class="${l.join(" ")}" title="${r}"><div ${v?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${o._level*n.indent}px"><div class="vxe-table--tree-icon-wrapper">${e}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${o._checkboxDisabled?"disabled ":""}${Kr(r)?"checked":""}><span>${o._checkboxLabel}</span></div></div></div></td>`:`<td class="${l.join(" ")}" title="${r}"><div ${v?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${o._level*n.indent}px"><div class="vxe-table--tree-icon-wrapper">${e}</div><div class="vxe-table--tree-cell">${r}</div></div></div></td>`}return"radio"===t.type?`<td class="${l.join(" ")}"><div ${v?"":`style="width: ${t.renderWidth}px"`}><input type="radio" name="radio_${d}" ${o._radioDisabled?"disabled ":""}${Kr(r)?"checked":""}><span>${o._radioLabel}</span></div></td>`:"checkbox"===t.type?`<td class="${l.join(" ")}"><div ${v?"":`style="width: ${t.renderWidth}px"`}><input type="checkbox" ${o._checkboxDisabled?"disabled ":""}${Kr(r)?"checked":""}><span>${o._checkboxLabel}</span></div></td>`:`<td class="${l.join(" ")}" title="${r}"><div ${v?"":`style="width: ${t.renderWidth}px"`}>${io(r,!0)}</div></td>`}).join("")+"</tr>")}):t.forEach(s=>{T.push("<tr>"+e.map(e=>{var t=e.align||c,r=I(e,"showOverflow",u)?["col--ellipsis"]:[],l=s[e.id];let o=1,a=1;if(b){var n=L.getVTRowIndex(s._row),i=L.getVTColumnIndex(e),n=h[n+":"+i];if(n){var{rowspan:i,colspan:n}=n;if(!i||!n)return"";1<i&&(o=i),1<n&&(a=n)}}return t&&r.push("col--"+t),"radio"===e.type?`<td class="${r.join(" ")}" rowspan="${o}" colspan="${a}"><div ${v?"":`style="width: ${e.renderWidth}px"`}><input type="radio" name="radio_${d}" ${s._radioDisabled?"disabled ":""}${Kr(l)?"checked":""}><span>${s._radioLabel}</span></div></td>`:"checkbox"===e.type?`<td class="${r.join(" ")}" rowspan="${o}" colspan="${a}"><div ${v?"":`style="width: ${e.renderWidth}px"`}><input type="checkbox" ${s._checkboxDisabled?"disabled ":""}${Kr(l)?"checked":""}><span>${s._checkboxLabel}</span></div></td>`:`<td class="${r.join(" ")}" rowspan="${o}" colspan="${a}" title="${l}"><div ${v?"":`style="width: ${e.renderWidth}px"`}>${io(l,!0)}</div></td>`}).join("")+"</tr>")}),T.push("</tbody>")),f&&(R=_.footerTableData,(t=Yr(L,i,R)).length)&&(T.push("<tfoot>"),t.forEach(o=>{T.push(`<tr>${e.map(e=>{var t=e.footerAlign||e.align||a||c,r=I(e,"showOverflow",u)?["col--ellipsis"]:[],l=F(i,o,e);return t&&r.push("col--"+t),`<td class="${r.join(" ")}" title="${l}"><div ${v?"":`style="width: ${e.renderWidth}px"`}>${io(l,!0)}</div></td>`}).join("")}</tr>`)}),T.push("</tfoot>"));var E,R=!g&&o?`<script>(function(){var a=document.querySelector(".${y}");if(a){a.indeterminate=true}})()</script>`:"";return T.push("</table>",R),(v?T:(t=i,R=T.join(""),E=t.style,["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${t.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${je}</style>`,E?`<style>${E}</style>`:"","</head>",`<body>${R}</body>`,"</html>"])).join("")},h=(r,e,t)=>{let l=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${r.sheetName}">`,"<Table>",e.map(e=>`<Column ss:Width="${e.renderWidth}"/>`).join("")].join("");return r.isHeader&&(l+=`<Row>${e.map(e=>`<Cell><Data ss:Type="String">${S(r,e)}</Data></Cell>`).join("")}</Row>`),t.forEach(t=>{l+="<Row>"+e.map(e=>`<Cell><Data ss:Type="String">${t[e.id]}</Data></Cell>`).join("")+"</Row>"}),r.isFooter&&(t=_.footerTableData,Yr(L,r,t).forEach(t=>{l+=`<Row>${e.map(e=>`<Cell><Data ss:Type="String">${F(r,t,e)}</Data></Cell>`).join("")}</Row>`})),l+"</Table></Worksheet></Workbook>"},v=(e,t)=>{var{filename:r,type:l,download:o}=e;if(!o)return o=new Blob([t],{type:`text/${e.type};charset=utf-8;`}),Promise.resolve({type:l,content:t,blob:o});lo.VxeUI.saveFile&&lo.VxeUI.saveFile({filename:r,type:l,content:t}).then(()=>{!1!==e.message&&lo.VxeUI.modal&&lo.VxeUI.modal.message({content:q("vxe.table.expSuccess"),status:"success"})})},N=r=>{let l=L.xeGrid,o=L.xeGantt,{remote:a,columns:n,colgroups:i,exportMethod:s,afterExportMethod:t}=r;return new Promise(t=>{if(a){var e={options:r,$table:L,$grid:l,$gantt:o};t(s?s(e):e)}else{let e=(e=>{let r=L.xeGrid,l=L.xeGantt,{columns:t,dataFilterMethod:o}=e,a=e.data;return o&&(a=a.filter((e,t)=>o({$table:L,$grid:r,$gantt:l,row:e,$rowIndex:t}))),d(e,t,a)})(r);t(L.preventEvent(null,"event.export",{options:r,columns:n,colgroups:i,datas:e},()=>v(r,((e,t,r,l)=>{if(r.length)switch(t.type){case"csv":return u(e,t,r,l);case"txt":return p(e,t,r,l);case"html":return g(t,r,l);case"xml":return h(t,r,l)}return""})(L,r,n,e))))}}).then(e=>(ll(n),r.print||t&&t({status:!0,options:r,$table:L,$grid:l,$gantt:o}),Object.assign({status:!0},e))).catch(()=>{ll(n),r.print||t&&t({status:!1,options:r,$table:L,$grid:l,$gantt:o});return Promise.reject({status:!1})})},m=(e,r)=>{let{tableFullColumn:t,_importResolve:l,_importReject:o}=P,a={fields:[],rows:[]},n={},i={};t.forEach(e=>{var t=e.field,r=e.getTitle();t&&(n[t]=e),r&&(i[e.getTitle()]=e)});var s={fieldMaps:n,titleMaps:i};switch(r.type){case"csv":a=rl(s,e,",");break;case"txt":a=rl(s,e,"\t");break;case"html":a=((t,e)=>{var r,e=$t((new DOMParser).parseFromString(e,"text/html"),"body");let l=[],o=[];return e.length&&(e=$t(e[0],"table")).length&&(r=$t(e[0],"thead")).length&&(oo().arrayEach($t(r[0],"tr"),e=>{oo().arrayEach($t(e,"th"),e=>{o.push(tl(t,e.textContent||""))})}),(r=$t(e[0],"tbody")).length)&&oo().arrayEach($t(r[0],"tr"),e=>{let r={};oo().arrayEach($t(e,"td"),(e,t)=>{o[t]&&(r[o[t]]=e.textContent||"")}),l.push(r)}),{fields:o,rows:l}})(s,e);break;case"xml":a=((t,e)=>{var e=$t((new DOMParser).parseFromString(e,"application/xml"),"Worksheet");let l=[],o=[];return e.length&&(e=$t(e[0],"Table")).length&&(e=$t(e[0],"Row")).length&&(oo().arrayEach($t(e[0],"Cell"),e=>{o.push(tl(t,e.textContent||""))}),oo().arrayEach(e,(e,t)=>{if(t){let r={};t=$t(e,"Cell");oo().arrayEach(t,(e,t)=>{o[t]&&(r[o[t]]=e.textContent)}),l.push(r)}})),{fields:o,rows:l}})(s,e)}let{fields:d,rows:c}=a;d.some(e=>n[e]||i[e])?L.createData(c).then(e=>{let t;return t="insert"===r.mode||"insertBottom"===r.mode?L.insertAt(e,-1):"insertTop"===r.mode?L.insert(e):L.reloadData(e),!1!==r.message&&lo.VxeUI.modal&&lo.VxeUI.modal.message({content:q("vxe.table.impSuccess",[c.length]),status:"success"}),t.then(()=>{l&&l({status:!0})})}):!1!==r.message&&(lo.VxeUI.modal&&lo.VxeUI.modal.message({content:q("vxe.error.impFields"),status:"error"}),o)&&o({status:!1})},a=(a,n)=>{let{importMethod:i,afterImportMethod:t}=n,{type:s,filename:d}=fr(a);var e=c.value;return i||oo().includes(oo().keys(e._typeMaps),s)?new Promise((t,r)=>{let e=e=>{t(e),P._importResolve=null,P._importReject=null},l=e=>{r(e),P._importResolve=null,P._importReject=null};if(P._importResolve=e,P._importReject=l,window.FileReader){let t=Object.assign({mode:"insertTop"},n,{type:s,filename:d});var o;t.remote?i?Promise.resolve(i({file:a,options:t,$table:L})).then(()=>{e({status:!0})}).catch(()=>{e({status:!0})}):e({status:!0}):(o=P.tableFullColumn,L.preventEvent(null,"event.import",{file:a,options:t,columns:o},()=>{var e=new FileReader;e.onerror=()=>{_l("vxe.error.notType",[s]),l({status:!1})},e.onload=e=>{m(e.target.result,t)},e.readAsText(a,t.encoding||"UTF-8")}))}else _l("vxe.error.notExp"),e({status:!0})}).then(()=>{t&&t({status:!0,options:n,$table:L})}).catch(e=>(t&&t({status:!1,options:n,$table:L}),Promise.reject(e))):(!1!==n.message&&lo.VxeUI.modal&&lo.VxeUI.modal.message({content:q("vxe.error.notType",[s]),status:"error"}),Promise.reject({status:!1}))},z=(e,l,t)=>t.some(e=>{var t,r;return Ar(e)?l.id===e.id:oo().isString(e)?l.field===e:(t=e.id||e.colId,r=e.type,e=e.field,t?l.id===t:e&&r?l.field===e&&l.type===r:e?l.field===e:!!r&&l.type===r)}),j=(e,t,r,l)=>(!l||!oo().includes(l,t.field))&&(r?!!oo().includes(r,t.field):e.original?!!t.field:Xr(t)),r=(e,t)=>{var r=L.xeGrid,l=L.xeGantt,o=r||l,{treeConfig:a,showHeader:n,showFooter:i}=H,{initStore:s,isGroup:d,footerTableData:c,exportStore:u,exportParams:p}=_,{collectColumn:g,mergeBodyList:h,mergeFooterList:v}=P,m=V.value,f=D.value,x=L.getCheckboxRecords(),o=o?o.getComputeMaps().computeProxyOpts.value:{},c=!!c.length,h=!(!h.length&&!v.length);let b=Object.assign({message:!0,isHeader:n,isTitle:n,isFooter:i,isColgroup:d,isMerge:h,useStyle:!0,current:"current",modes:(o.ajax&&o.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},e);v=b.types||oo().keys(m._typeMaps),n=b.modes||[];let C=f.checkMethod;i=g.slice(0);let{columns:w,excludeFields:y,includeFields:T}=b;o=v.map(e=>({value:e,label:q("vxe.export.types."+e)})),e=n.map(e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:q("vxe.export.modes."+e)});oo().eachTree(i,(e,t,r,l,o)=>{var a=e.children&&0<e.children.length;let n=!1;n=w&&w.length?z(b,e,w):y||T?j(b,e,T,y):e.visible&&(a||Xr(e)),e.checked=n,e.halfChecked=!1,e.disabled=o&&o.disabled||!!C&&!C({$table:L,column:e})}),Object.assign(u,{columns:i,typeList:o,modeList:e,hasFooter:c,hasMerge:h,hasTree:a,isPrint:t,hasColgroup:d,visible:!0}),Object.assign(p,{mode:x.length?"selected":"current"},b);let{filename:E,sheetName:R,mode:S,type:F}=p;return E&&(oo().isFunction(E)?p.filename=E({options:b,$table:L,$grid:r,$gantt:l}):p.filename=""+E),R&&(oo().isFunction(R)?p.sheetName=R({options:b,$table:L,$grid:r,$gantt:l}):p.sheetName=""+R),e.some(e=>e.value===S)||(p.mode=e[0].value),o.some(e=>e.value===F)||(p.type=o[0].value),s.export=!0,(0,co.nextTick)()};var e=()=>lo.VxeUI.modal?lo.VxeUI.modal.close("VXE_EXPORT_MODAL"):Promise.resolve();let f={exportData(i){let s=L.xeGrid,d=L.xeGantt;var c=s||d,{treeConfig:e,showHeader:u,showFooter:p}=H,t=_.isGroup;let{tableFullColumn:a,afterFullData:r,afterTreeFullData:l,collectColumn:o,mergeBodyList:n,mergeFooterList:g}=P;var h=V.value,v=B.value;let m=c?c.getComputeMaps().computeProxyOpts.value:{};var f=!(!n.length&&!g.length);let x=Object.assign({message:!0,isHeader:u,isTitle:u,isFooter:p,isColgroup:t,isMerge:f,useStyle:!0,current:"current",modes:(m.ajax&&m.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},h,i),{filename:b,sheetName:C,type:w,mode:y,columns:T,original:E,columnFilterMethod:R,beforeExportMethod:S,includeFields:F,excludeFields:D}=x,I=[],M=L.getCheckboxRecords(),k=(y=y||(M.length?"selected":"current"),!1),O=[],A=(O=T&&T.length?(k=!0,T):oo().searchTree(o,e=>{var t=e.children&&0<e.children.length;let r=!1;return r=T&&T.length?z(x,e,T):D||F?j(x,e,F,D):e.visible&&(t||Xr(e))},{children:"children",mapChildren:"childNodes",original:!0}),Object.assign({},x,{filename:"",sheetName:""})),$=(k||R||(R=({column:e})=>(!D||!oo().includes(D,e.field))&&(F?!!oo().includes(F,e.field):E?!!e.field:Xr(e)),A.columnFilterMethod=R),I=O?(A._isCustomColumn=!0,oo().searchTree(oo().mapTree(O,e=>{let l;if(e){if(Ar(e))l=e;else if(oo().isString(e))l=L.getColumnByField(e);else{var o=e.id||e.colId;let t=e.type,r=e.field;o?l=L.getColumnById(o):r&&t?l=a.find(e=>e.field===r&&e.type===t):r?l=L.getColumnByField(r):t&&(l=a.find(e=>e.type===t))}return l||{}}},{children:"childNodes",mapChildren:"_children"}),(e,t)=>Ar(e)&&(!R||R({$table:L,$grid:s,$gantt:d,column:e,$columnIndex:t})),{children:"_children",mapChildren:"childNodes",original:!0})):oo().searchTree(t?o:a,(e,t)=>e.visible&&(!R||R({$table:L,$grid:s,$gantt:d,column:e,$columnIndex:t})),{children:"children",mapChildren:"childNodes",original:!0}),[]);if(oo().eachTree(I,e=>{e.children&&e.children.length||$.push(e)},{children:"childNodes"}),A.columns=$,A.colgroups=(e=>{let t=1,l=(r,e)=>{if(e&&(r._level=e._level+1,t<r._level)&&(t=r._level),r.childNodes&&r.childNodes.length){let t=0;r.childNodes.forEach(e=>{l(e,r),t+=e._colSpan}),r._colSpan=t}else r._colSpan=1},r=(e.forEach(e=>{e._level=1,l(e)}),[]);for(let e=0;e<t;e++)r.push([]);return We(e).forEach(e=>{e.childNodes&&e.childNodes.length?e._rowSpan=1:e._rowSpan=t-e._level+1,r[e._level-1].push(e)}),r})(I),b&&(oo().isFunction(b)?A.filename=b({options:x,$table:L,$grid:s,$gantt:d}):A.filename=""+b),A.filename||(A.filename=q(A.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[oo().toDateString(Date.now(),"yyyyMMddHHmmss")])),C&&(oo().isFunction(C)?A.sheetName=C({options:x,$table:L,$grid:s,$gantt:d}):A.sheetName=""+C),A.sheetName||(A.sheetName=document.title||""),!A.exportMethod&&!oo().includes(oo().keys(h._typeMaps),w))return _l("vxe.error.notType",[w]),["xlsx","pdf"].includes(w)&&Hl("vxe.error.reqPlugin",[4,"plugin-export-xlsx"]),Promise.reject({status:!1});if(A.print||S&&S({options:A,$table:L,$grid:s,$gantt:d}),A.data)A._isCustomData=!0;else{if(A.data=[],"selected"===y)-1<["html","pdf"].indexOf(w)&&e?A.data=oo().searchTree(L.getTableData().fullData,e=>-1<L.findRowIndexOf(M,e),Object.assign({},v,{data:"_row"})):A.data=M;else if("all"===y&&(c||_l("vxe.error.errProp",["all","mode=current,selected"]),c)&&!A.remote){u=c.reactData,p=c.getComputeMaps().computeProxyOpts;let e=p.value;f=u.sortData;let{beforeQueryAll:t,afterQueryAll:l,ajax:r={}}=e,o=e.response||e.props||{};i=r.queryAll;let a=r.queryAllSuccess,n=r.queryAllError;if(i||_l("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),i){let r={$table:L,$grid:s,$gantt:d,sort:f.length?f[0]:{},sorts:f,filters:u.filterData,form:u.formData,options:A};return Promise.resolve((t||i)(r)).then(e=>{var t=o.list;return A.data=(t?oo().isFunction(t)?t({data:e,$table:L,$grid:s,$gantt:d}):oo().get(e,t):e)||[],l&&l(r),a&&a({...r,response:e}),N(A)}).catch(e=>{n&&n({...r,response:e})})}}"current"===y&&(A.data=e?l:r)}return N(A)},importByFile(e,t){var t=Object.assign({},t),r=t.beforeImportMethod;return r&&r({options:t,$table:L}),a(e,t)},importData(e){var t=c.value;let r=Object.assign({types:oo().keys(t._typeMaps)},t,e),{beforeImportMethod:l,afterImportMethod:o}=r;return l&&l({options:r,$table:L}),lo.VxeUI.readFile(r).catch(e=>(o&&o({status:!1,options:r,$table:L}),Promise.reject(e))).then(e=>{e=e.file;return a(e,r)})},saveFile(e){return lo.VxeUI.saveFile(e)},readFile(e){return lo.VxeUI.readFile(e)},print(e){let r=L.xeGrid,l=L.xeGantt;var t=s.value;let o=Object.assign({original:!1},t,e,{type:"html",download:!1,remote:!1,print:!0});t=o.sheetName;let a="",n=(a=(a=t?oo().isFunction(t)?t({options:o,$table:L,$grid:r,$gantt:l}):""+t:a)||document.title||"",o.beforePrintMethod),i=o.html||o.content;return new Promise((e,t)=>{lo.VxeUI.print?i?e(lo.VxeUI.print({title:a,html:i,customStyle:o.style,beforeMethod:n?({html:e})=>n({html:e,content:e,options:o,$table:L,$grid:r,$gantt:l}):void 0})):e(f.exportData(o).then(({content:e})=>lo.VxeUI.print({title:a,html:e,customStyle:o.style,beforeMethod:n?({html:e})=>n({html:e,content:e,options:o,$table:L,$grid:r,$gantt:l}):void 0}))):t({status:!1})})},getPrintHtml(e){var t=s.value,t=Object.assign({original:!1},t,e,{type:"html",download:!1,remote:!1,print:!0});return L.exportData(t).then(({content:e})=>({html:e}))},closeImport(){return lo.VxeUI.modal?lo.VxeUI.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(e){var{treeConfig:t,importConfig:r}=H;let{initStore:l,importStore:o,importParams:a}=_;var n=c.value,n=Object.assign({mode:"insertTop",message:!0,types:oo().keys(n._typeMaps),modes:["insertTop","covering"]},n,e),e=n.types||[],i=n.modes||[];!t?(r||_l("vxe.error.reqProp",["import-config"]),t=e.map(e=>({value:e,label:q("vxe.export.types."+e)})),r=i.map(e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:q("vxe.import.modes."+e)}),Object.assign(o,{file:null,type:"",filename:"",modeList:r,typeList:t,visible:!0}),Object.assign(a,n),r.some(e=>e.value===a.mode)||(a.mode=r[0].value),l.import=!0):n.message&&lo.VxeUI.modal&&lo.VxeUI.modal.message({content:q("vxe.error.treeNotImp"),status:"error"})},closeExport:e,openExport(e){var t=V.value,t=Object.assign({message:!0,types:oo().keys(t._typeMaps)},t,e);return H.exportConfig||_l("vxe.error.reqProp",["export-config"]),r(t)},closePrint:e,openPrint(e){var t=s.value,t=Object.assign({message:!0},t,e);return H.printConfig||_l("vxe.error.reqProp",["print-config"]),r(t,!0)}};return f},setupGrid(e){return e.extendTableMethods(qe)},setupGantt(e){return e.extendTableMethods(qe)}});var ol=lo.VxeUI.hooks;ol.add("tableKeyboardModule",{setupTable(D){let{props:I,reactData:M,internalData:k}=D,O=D.getRefMaps().refElem,{computeEditOpts:m,computeCheckboxOpts:s,computeMouseOpts:d,computeTreeOpts:c,computeRowOpts:A,computeColumnOpts:f,computeCellOpts:$,computeDefaultRowHeight:L,computeCurrentRowOpts:x,computeCurrentColumnOpts:b}=D.getComputeMaps();let u=(e,F)=>{var t=k.elemStore,r=To(t["main-body-scroll"]),l=To(t["left-body-scroll"]),t=To(t["right-body-scroll"]),{column:o,cell:a}=F;if("checkbox"===o.type){let S=r;if(l&&"left"===o.fixed?S=l:t&&"right"===o.fixed&&(S=t),S){r=S.getBoundingClientRect();let t=O.value,i=e.clientX,s=e.clientY,d=S.querySelector(".vxe-table--checkbox-range"),c=a.parentElement,u=D.getCheckboxRecords(),p=[],g=1,h=e.clientY-r.y+S.scrollTop,v=e.clientX-r.x+S.scrollLeft,m=S.scrollTop,n=c.offsetHeight,f=c.getBoundingClientRect(),x=s-f.y,b=null,C=!1,w=1,y=(e,t)=>{D.dispatchEvent("checkbox-range-"+e,{records:()=>D.getCheckboxRecords(),reserves:()=>D.getCheckboxReserveRecords()},t)},T=e=>{var{clientX:t,clientY:r}=e,t=t-i,r=r-s+(S.scrollTop-m);let l=Math.abs(r),o=Math.abs(t),a=h,n=v;r<g?(a+=r)<g&&(a=g,l=h):l=Math.min(l,S.scrollHeight-h-g),t<g?(n+=t,o>v&&(n=g,o=v)):o=Math.min(o,S.clientWidth-v-g),d.style.height=l+"px",d.style.width=o+"px",d.style.left=n+"px",d.style.top=a+"px",d.style.display="block";t=((e,t,r,l,o)=>{var a=I.showOverflow,{fullAllDataRowIdData:n,isResizeCellHeight:i}=k,s=A.value,d=$.value,c=L.value,e=e.row;let u=0,p=[],g=0;var h=0<o,v=M.scrollYLoad,m=k.afterFullData;if(g=h?l+o:r.height-l+Math.abs(o),v){r=D.getVTRowIndex(e);if(!(i||d.height||s.height)&&a)p=h?m.slice(r,r+Math.ceil(g/c)):m.slice(r-Math.floor(g/c),r+1);else if(h)for(let e=r;e<m.length;e++){var f=m[e],x=n[D.getRowid(f)]||{};if(u+=x.resizeHeight||d.height||s.height||x.height||c,p.push(f),u>g)return p}else for(let e=r;0<=e;e--){var b=m[e],C=n[D.getRowid(b)]||{};if(u+=C.resizeHeight||d.height||s.height||C.height||c,p.push(b),u>g)return p}}else for(var w=h?"next":"previous";t&&u<g;){var y=D.getRowNode(t);y&&(p.push(y.item),u+=t.offsetHeight,t=t[w+"ElementSibling"])}return p})(F,c,f,x,r<g?-l:l);10<l&&t.length!==p.length&&(r=Oo(e),p=t,r?t.forEach(e=>{D.handleBatchSelectRows([e],-1===u.indexOf(e))}):(D.setAllCheckboxRow(!1),D.handleCheckedCheckboxRow(t,!0,!1)),y("change",e))},E=()=>{clearTimeout(b),b=null},R=a=>{E(),b=setTimeout(()=>{var e,t,r,l,o;b&&({scrollLeft:e,scrollTop:t,clientHeight:r,scrollHeight:l}=S,o=Math.ceil(50*w/n),C?t+r<l?(D.scrollTo(e,t+o),R(a),T(a)):E():t?(D.scrollTo(e,t-o),R(a),T(a)):E())},50)};go(t,"drag--range"),document.onmousemove=e=>{e.preventDefault(),e.stopPropagation();var t=e.clientY,r=Rr(S).boundingTop;t<r?(C=!1,w=r-t,b||R(e)):t>r+S.clientHeight?(C=!0,w=t-r-S.clientHeight,b||R(e)):b&&E(),T(e)},document.onmouseup=e=>{E(),po(t,"drag--range"),d.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,y("end",e)},y("start",e)}}};let p=(e,t,r,l,o,a)=>{var{afterFullData:n,visibleColumn:i}=k;let s=Object.assign({},t);var t=D.getVTRowIndex(s.row),d=D.getVTColumnIndex(s.column);return e.preventDefault(),l&&0<t?(s.rowIndex=t-1,s.row=n[s.rowIndex]):a&&t<n.length-1?(s.rowIndex=t+1,s.row=n[s.rowIndex]):r&&d?(s.columnIndex=d-1,s.column=i[s.columnIndex]):o&&d<i.length-1&&(s.columnIndex=d+1,s.column=i[s.columnIndex]),D.scrollToRow(s.row,s.column).then(()=>{s.cell=D.getCellElement(s.row,s.column),D.handleSelected(s,e)}),s};return{moveTabSelected(e,t,r){var l=I.editConfig,{afterFullData:o,visibleColumn:a}=k,n=m.value,i=A.value,s=x.value,d=f.value,c=b.value;let u,p,g,h=Object.assign({},e);var e=D.getVTRowIndex(h.row),v=D.getVTColumnIndex(h.column),t=(r.preventDefault(),t?v<=0?0<e&&(p=e-1,u=o[p],g=a.length-1):g=v-1:v>=a.length-1?e<o.length-1&&(p=e+1,u=o[p],g=0):g=v+1,a[g]);t&&(u?(h.rowIndex=p,h.row=u):h.rowIndex=e,h.columnIndex=g,h.column=t,h.cell=D.getCellElement(h.row,h.column),i.isCurrent&&s.isFollowSelected&&D.triggerCurrentRowEvent(r,h),d.isCurrent&&c.isFollowSelected&&D.triggerCurrentColumnEvent(r,h),l?"click"!==n.trigger&&"dblclick"!==n.trigger||("row"===n.mode?D.handleEdit(h,r):D.scrollToRow(h.row,h.column).then(()=>{D.handleSelected(h,r)})):D.scrollToRow(h.row,h.column).then(()=>{D.handleSelected(h,r)}))},moveCurrentRow(e,t,r){var l=I.treeConfig;let o=M.currentRow;var a=k.afterFullData,n=c.value,n=n.children||n.childrenField;let i;if(o?l?({index:l,items:n}=oo().findTree(a,e=>e===o,{children:n}),e&&0<l?i=n[l-1]:t&&l<n.length-1&&(i=n[l+1])):(n=D.getVTRowIndex(o),e&&0<n?i=a[n-1]:t&&n<a.length-1&&(i=a[n+1])):i=a[0],i){r.preventDefault();let e={$table:D,row:i,rowIndex:D.getRowIndex(i),$rowIndex:D.getVMRowIndex(i)};D.scrollToRow(i).then(()=>D.triggerCurrentRowEvent(r,e))}},moveCurrentColumn(e,t,r){var l=M.currentColumn,o=k.visibleColumn;let a=null;if(l?(l=D.getVTColumnIndex(l),e&&0<l?a=o[l-1]:t&&l<o.length-1&&(a=o[l+1])):a=o[0],a){r.preventDefault();let e={$table:D,column:a,columnIndex:D.getColumnIndex(a),$columnIndex:D.getVMColumnIndex(a)};D.scrollToColumn(a).then(()=>D.triggerCurrentColumnEvent(r,e))}},moveArrowSelected(e,t,r,l,o,a){var{highlightCurrentRow:n,highlightCurrentColumn:i}=I,s=A.value,d=x.value,c=f.value,u=b.value,e=p(a,e,t,r,l,o);(s.isCurrent||n)&&(d.isFollowSelected?D.triggerCurrentRowEvent(a,e):(r||o)&&(s.isCurrent||n)&&D.moveCurrentRow(r,o,a)),(c.isCurrent||i)&&(u.isFollowSelected?D.triggerCurrentColumnEvent(a,e):(t||l)&&(c.isCurrent||i)&&D.moveCurrentColumn(t,l,a))},moveEnterSelected(e,t,r,l,o,a){var{highlightCurrentRow:n,highlightCurrentColumn:i}=I,s=A.value,d=x.value,c=f.value,u=b.value,e=p(a,e,t,r,l,o);(s.isCurrent||n)&&d.isFollowSelected&&D.triggerCurrentRowEvent(a,e),(c.isCurrent||i)&&u.isFollowSelected&&D.triggerCurrentColumnEvent(a,e)},moveSelected(e,t,r,l,o,a){p(a,e,t,r,l,o)},handleCellMousedownEvent:(e,t)=>{var{editConfig:r,checkboxConfig:l,mouseConfig:o}=I,a=s.value,n=d.value,i=m.value;if(o&&n.area&&D.triggerCellAreaModnEvent)return D.triggerCellAreaModnEvent(e,t);l&&a.range&&u(e,t),o&&n.selected&&(r&&"cell"!==i.mode||D.handleSelected(t,e))}}}});let{getConfig:Xe,validators:Ke,hooks:Ye}=lo.VxeUI;class wa{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.max,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return no(this.$options.content||this.$options.message)}get message(){return this.content}}function al(e,t){return!(!oo().eqNull(e)&&t>oo().toNumber(e))}function nl(e,t){return!(!oo().eqNull(e)&&t<oo().toNumber(e))}function il(e,t,r){var l,{type:e,min:o,max:a,pattern:n}=e,i="array"===e,s="number"===e,e="string"===e,d=""+t;if(l=d,!n||(oo().isRegExp(n)?n:new RegExp(n)).test(l)){if(i){if(!oo().isArray(t))return;if(r&&!t.length)return;if(!nl(o,t.length))return;if(!al(a,t.length))return}else if(s){n=Number(t);if(isNaN(n))return;if(!nl(o,n))return;if(!al(a,n))return}else{if(e&&!oo().isString(t))return;if(r&&!d)return;if(!nl(o,d.length))return;if(!al(a,d.length))return}return 1}}let Ze=["fullValidate","validate","fullValidateField","validateField","clearValidate"],Qe=(Ye.add("tableValidatorModule",{setupTable(f){let{props:x,reactData:b,internalData:C}=f,p=f.getRefMaps().refValidTooltip,{computeValidOpts:w,computeTreeOpts:y,computeEditOpts:l,computeAggregateOpts:T}=f.getComputeMaps(),E={},R={},S,r=(e,r,n,a)=>{let i={},{editRules:s,treeConfig:l}=x;var o=b.isRowGroupStatus;let{afterFullData:t,pendingRowMaps:d,removeRowMaps:c}=C;var u=y.value,p=T.value;let g=w.value,h,v=(!0===e?h=t:e&&(oo().isFunction(e)?n=e:h=oo().isArray(e)?e:[e]),h=h||(f.getInsertRecords?f.getInsertRecords().concat(f.getUpdateRecords()):[]),[]),m=(C._lastCallTime=Date.now(),S=!1,E.clearValidate(),{});if(s){let t=r&&r.length?r:f.getColumns();e=o=>{var e=fo(f,o);if(!c[e]&&!d[e]&&!f.isAggregateRecord(o)&&(a||!S)){let e=[];t.forEach(r=>{let l=oo().isString(r)?r:r.field;!a&&S||!oo().has(s,l)||e.push(R.validCellRules("all",o,r).catch(({rule:e,rules:t})=>{t={rule:e,rules:t,rowIndex:f.getRowIndex(o),row:o,columnIndex:f.getColumnIndex(r),column:r,field:l,$table:f};if(i[l]||(i[l]=[]),m[fo(f,o)+":"+r.id]={column:r,row:o,rule:e,content:e.content},i[l].push(t),!a)return S=!0,Promise.reject(t)}))}),v.push(Promise.all(e))}};return o?oo().eachTree(h,e,{children:p.mapChildrenField}):l?(r=u.children||u.childrenField,oo().eachTree(h,e,{children:r})):h.forEach(e),Promise.all(v).then(()=>{let e=Object.keys(i);var t,r,l;return b.validErrorMaps=(t=m,"single"===w.value.msgMode?(r={},(l=Object.keys(t)).length&&(r[l=l[0]]=t[l]),r):t),(0,co.nextTick)().then(()=>{if(e.length)return Promise.reject(i[e[0]][0]);n&&n()})}).catch(a=>new Promise((e,t)=>{let r=()=>{(0,co.nextTick)(()=>{n?(n(i),e()):("obsolete"===Xe().validToReject?t:e)(i)})};var l,o=()=>{var e,t;a.cell=f.getCellElement(a.row,a.column),(e=a.cell)&&(e[oe]?e[oe]():e[ae]&&e[ae]()),t=a,new Promise(e=>{!1===w.value.autoPos?(f.dispatchEvent("valid-error",t,null),e()):f.handleEdit(t,{type:"valid-error",trigger:"call"}).then(()=>{e(R.showValidTooltip(t))})}).then(r)};!1===g.autoPos?r():(l=a.row,f.scrollToRow(l,a.column).then(o))}))}return b.validErrorMaps={},(0,co.nextTick)().then(()=>{n&&n()})};return E={fullValidate(e,t){return oo().isFunction(t)&&Hl("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),r(e,null,t,!0)},validate(e,t){return r(e,null,t)},fullValidateField(e,t){t=(oo().isArray(t)?t:t?[t]:[]).map(e=>bo(f,e));return t.length?r(e,t,null,!0):(0,co.nextTick)()},validateField(e,t){t=(oo().isArray(t)?t:t?[t]:[]).map(e=>bo(f,e));return t.length?r(e,t,null):(0,co.nextTick)()},clearValidate(e,t){var l=b.validErrorMaps,r=p.value,o=w.value,e=oo().isArray(e)?e:e?[e]:[];let a=(oo().isArray(t)?t:t?[t]:[]).map(e=>bo(f,e)),n={};if(r&&r.reactData.visible&&r.close(),"single"===o.msgMode)b.validErrorMaps={};else{if(e.length&&a.length)n=Object.assign({},l),e.forEach(t=>{a.forEach(e=>{e=fo(f,t)+":"+e.id;n[e]&&delete n[e]})});else if(e.length){let r=e.map(e=>""+fo(f,e));oo().each(l,(e,t)=>{-1<r.indexOf(t.split(":")[0])&&(n[t]=e)})}else if(a.length){let r=a.map(e=>""+e.id);oo().each(l,(e,t)=>{-1<r.indexOf(t.split(":")[1])&&(n[t]=e)})}b.validErrorMaps=n}return(0,co.nextTick)()}},R={validCellRules(e,s,d,t){let c=f.xeGrid,u=f.xeGantt;var r=x.editRules,l=d.field;let p=[],g=[];if(l&&r){let i=oo().get(r,l);if(i){let n=oo().isUndefined(t)?oo().get(s,l):t;i.forEach(t=>{let{trigger:r,validator:l}=t;if("all"===e||!r||e===r)if(l){var o,a={cellValue:n,rule:t,rules:i,row:s,rowIndex:f.getRowIndex(s),column:d,columnIndex:f.getColumnIndex(d),field:d.field,$table:f,$grid:c,$gantt:u};let e;oo().isString(l)?(o=Ke.get(l))&&(o=o.tableCellValidatorMethod||o.cellValidatorMethod)?e=o(a):_l("vxe.error.notValidators",[l]):e=l(a),e&&(oo().isError(e)?(S=!0,p.push(new wa({type:"custom",trigger:r,content:e.message,rule:new wa(t)}))):e.catch&&g.push(e.catch(e=>{S=!0,p.push(new wa({type:"custom",trigger:r,content:e&&e.message?e.message:t.content||t.message,rule:new wa(t)}))})))}else((e,t)=>{var r=e.required,l=oo().isArray(t)?!t.length:so(t);if(r){if(l)return;if(!il(e,t,r))return}else if(!l&&!il(e,t,r))return;return 1})(t,n)||(S=!0,p.push(new wa(t)))})}}return Promise.all(g).then(()=>{var e;if(p.length)return e={rules:p,rule:p[0]},Promise.reject(e)})},hasCellRules(t,e,r){var l=x.editRules,r=r.field;return!(!r||!l)&&(l=oo().get(l,r))&&!!oo().find(l,e=>"all"===t||!e.trigger||t===e.trigger)},triggerValidate(o){var{editConfig:e,editRules:t}=x,a=b.editStore,a=a.actived;let n=l.value;var r=w.value;if(t&&"single"===r.msgMode&&(b.validErrorMaps={}),e&&t&&a.row){let{row:t,column:r,cell:l}=a.args;if(R.hasCellRules(o,t,r))return R.validCellRules(o,t,r).then(()=>{"row"===n.mode&&E.clearValidate(t,r)}).catch(({rule:e})=>e.trigger&&o!==e.trigger?Promise.resolve():(e={rule:e,row:t,column:r,cell:l},R.showValidTooltip(e),Promise.reject(e)))}return Promise.resolve()},showValidTooltip(e){var t=x.height,{tableData:r,validStore:l,validErrorMaps:o}=b,{rule:a,row:n,column:i,cell:s}=e,d=w.value,c=p.value,u=a.content;return l.visible=!0,"single"===d.msgMode?b.validErrorMaps={[fo(f,n)+":"+i.id]:{column:i,row:n,rule:a,content:u}}:b.validErrorMaps=Object.assign({},o,{[fo(f,n)+":"+i.id]:{column:i,row:n,rule:a,content:u}}),f.dispatchEvent("valid-error",e,null),c&&("tooltip"===d.message||"default"===d.message&&!t&&r.length<2)?c.open(s,u):(0,co.nextTick)()}},{...E,...R}},setupGrid(e){return e.extendTableMethods(Ze)},setupGantt(e){return e.extendTableMethods(Ze)}}),["openCustom","closeCustom","getCustomVisible","toggleCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"]),{getConfig:Je,renderer:et,getI18n:tt,getComponent:rt}=(lo.VxeUI.hooks.add("tableCustomModule",{setupTable(u){let{reactData:p,internalData:g}=u,{computeCustomOpts:h,computeRowGroupFields:n}=u.getComputeMaps(),o=u.getRefMaps().refElem,a=u.xeGantt,r=()=>{var e,t=p.customStore;let r=o.value,l=0;(r=a&&(e=a.getRefMaps().refGanttContainerElem,e=e.value)?e:r)&&(l=r.clientHeight-28),t.maxHeight=Math.max(88,l)},l=()=>{var{initStore:e,customStore:t}=p;return t.visible=!0,e.custom=!0,i(),d(),r(),(0,co.nextTick)().then(()=>r())},i=()=>{var e=p.customStore,t=g.collectColumn;if(e.visible){let r={},l={},o={};oo().eachTree(t,e=>{var t=e.getKey();e.renderFixed=e.fixed,e.renderVisible=e.visible,e.renderResizeWidth=e.renderWidth,r[t]=e.renderSortNumber,l[t]=e.fixed,o[t]=e.visible}),e.oldSortMaps=r,e.oldFixedMaps=l,e.oldVisibleMaps=o,p.customColumnList=t.slice(0)}},s=()=>{var e=p.customStore,t=h.value;return e.visible&&(e.visible=!1,t.immediate||u.handleCustom()),(0,co.nextTick)()};let t=e=>{var t=p.customStore,r=p.customColumnList,l=h.value;let{checkMethod:o,visibleMethod:a}=l,n=!!e;return l.immediate?(oo().eachTree(r,e=>{a&&!a({$table:u,column:e})||o&&!o({$table:u,column:e})||(e.visible=n,e.renderVisible=n,e.halfVisible=!1)}),t.isAll=n,p.isCustomStatus=!0,u.handleCustom(),u.saveCustomStore("update:visible")):(oo().eachTree(r,e=>{a&&!a({$table:u,column:e})||o&&!o({$table:u,column:e})||(e.renderVisible=n,e.halfVisible=!1)}),t.isAll=n),u.checkCustomStatus(),(0,co.nextTick)()};var e={getCustomVisible(){var e=p.customStore;return e.visible},openCustom:l,closeCustom:s,toggleCustom:()=>{var e=p.customStore;return(e.visible?s:l)()},saveCustom:()=>{let{customColumnList:e,aggHandleFields:r,rowGroupList:t}=p;let{allowVisible:a,allowSort:n,allowFixed:i,allowResizable:s,allowGroup:d,allowValues:c}=h.value;return oo().eachTree(e,(e,t,r,l,o)=>{o?e.fixed=o.fixed:(n&&(e.renderSortNumber=t+1),i&&(e.fixed=e.renderFixed)),!s||!e.renderVisible||e.children&&e.children.length||e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth),a&&(e.visible=e.renderVisible),d&&c&&(e.aggFunc=e.renderAggFn)}),p.isCustomStatus=!0,d&&u.handlePivotTableAggregateData&&(t.length!==r.length||t.some((e,t)=>e.field!==r[t])?r.length?u.setRowGroups(r):u.clearRowGroups():c&&u.handleUpdateAggData()),n&&(g.collectColumn=e),u.saveCustomStore("confirm")},cancelCustom:()=>{var{customColumnList:e,customStore:t}=p;let{oldSortMaps:o,oldFixedMaps:a,oldVisibleMaps:n}=t,{allowVisible:i,allowSort:s,allowFixed:d,allowResizable:c}=h.value;return oo().eachTree(e,e=>{var t=e.getKey(),r=!!n[t],l=a[t]||"";i&&(e.renderVisible=r,e.visible=r),d&&(e.renderFixed=l,e.fixed=l),s&&(e.renderSortNumber=o[t]||0),c&&(e.renderResizeWidth=e.renderWidth)},{children:"children"}),(0,co.nextTick)()},resetCustom(e){let t=p.rowGroupList;var r=g.collectColumn;let l=h.value.checkMethod,o=Object.assign({visible:!0,resizable:!0===e,fixed:!0===e,sort:!0===e,aggFunc:!0===e},e),a=[];return oo().eachTree(r,e=>{o.resizable&&(e.resizeWidth=0),o.fixed&&(e.fixed=e.defaultFixed),o.sort&&(e.renderSortNumber=e.sortNumber,e.parentId=e.defaultParentId),l&&!l({$table:u,column:e})||(e.visible=e.defaultVisible),o.aggFunc&&(e.aggFunc=e.defaultAggFunc,e.renderAggFn=e.defaultAggFunc),e.renderResizeWidth=e.renderWidth,a.push(e)}),o.sort&&(e=oo().toArrayTree(oo().orderBy(a,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"}),g.collectColumn=e,g.tableFullColumn=Wo(e)),p.isCustomStatus=!1,u.handleCustom().then(()=>{var e;o.aggFunc&&u.handlePivotTableAggregateData&&(((e=n.value)||t).length?e&&e.length?u.setRowGroups(e):u.clearRowGroups():u.handleUpdateAggData()),u.saveCustomStore("reset")})},toggleCustomAllCheckbox(){var e=p.customStore,e=!e.isAll;return t(e)},setCustomAllCheckbox:t};let d=()=>{var e=p.customStore,t=g.collectColumn;let r=h.value.checkMethod;e.isAll=t.every(e=>!!r&&!r({$table:u,column:e})||e.renderVisible),e.isIndeterminate=!e.isAll&&t.some(e=>(!r||r({$table:u,column:e}))&&(e.renderVisible||e.halfVisible))},c=(e,t)=>{u.dispatchEvent("custom",{type:e},t)};var v={checkCustomStatus:d,emitCustomEvent:c,triggerCustomEvent(e){var t=u.reactData.customStore;t.visible?(s(),c("close",e)):(t.btnEl=e.target,l(),c("open",e))},customOpenEvent(e){var t=u.reactData.customStore;t.visible||(t.activeBtn=!0,t.btnEl=e.target,u.openCustom(),u.emitCustomEvent("open",e))},customCloseEvent(e){var t=u.reactData.customStore;t.visible&&(t.activeBtn=!1,u.closeCustom(),u.emitCustomEvent("close",e))},handleUpdateCustomColumn:i};return{...e,...v}},setupGrid(e){return e.extendTableMethods(Qe)},setupGantt(e){return e.extendTableMethods(Qe)}}),lo.VxeUI),lt="modelValue",ot={};function Lt(e,t,r){return oo().eqNull(e)?oo().eqNull(t)?r:t:e}function sl(e,t,r){var{dateConfig:l={}}=t;return oo().toDateString((t=t,(e=e)&&t.valueFormat?oo().toStringDate(e,t.valueFormat):e),l.labelFormat||r)}function dl(e,t){return sl(e,t,tt("vxe.input.date.labelFormat."+(t.type||"date")))}function Ht({name:e}){return rt(e)}function cl({name:e}){return(0,co.resolveComponent)("vxe-"+e.replace("$",""))}function _t(e,t,r){e=e.$table;e.updateFilterOptionStatus(r,t)}function ul(e){var{$table:e,column:t}=e;e.saveFilterByEvent(new Event("change"),t)}function pl(e){let{name:t,attrs:r}=e;return r="input"===t?Object.assign({type:"text"},r):r}function gl(e){var{name:e,immediate:t,props:r}=e;return t||("VxeInput"===e||"$input"===e?(t=(r||{}).type,!(!t||"text"===t||"number"===t||"integer"===t||"float"===t)):"input"!==e&&"textarea"!==e&&"$textarea"!==e)}function Pt(e,t,r,l){return oo().assign({immediate:gl(e)},ot,l,e.props,{[lt]:r})}function hl(e,t,r,l){return oo().assign({},ot,l,e.props,{[lt]:r})}function vl(e,t){return"cell"===t.$type||gl(e)}function Bt(e,t,r,l){e=e.placeholder;return[(0,co.h)("span",{class:["vxe-cell--label",l?l.class:""]},e&&Mt(r)?[(0,co.h)("span",{class:"vxe-cell--placeholder"},io(no(e),1))]:io(r,1))]}function ml(e,r,t){let l=e.events,o=_r(e),a=Pr(e),{model:n,change:i,blur:s}=t||{},d=a===o,c={};return l&&oo().objectEach(l,(t,e)=>{c[Ot(e)]=function(...e){t(r,...e)}}),n&&(c[Ot(o)]=function(e){n(e),d&&i&&i(e),l&&l[o]&&l[o](r,e)}),!d&&i&&(c[Ot(a)]=function(e){i(e),l&&l[a]&&l[a](r,e)}),s&&(c[Ot(p)]=function(e){s(e),l&&l[p]&&l[p](r,e)}),c}let p="blur",at="clear";function Vt(e,r,t,l){let o=e.events,a=_r(e),n=Pr(e),{model:i,change:s,blur:d,clear:c}=t||{},u={};return oo().objectEach(o,(t,e)=>{u[Ot(e)]=function(...e){oo().isFunction(t)||_l("vxe.error.errFunc",[t]),t(r,...e)}}),i&&(u[Ot(a)]=function(e){i(e),o&&o[a]&&o[a](r,e)}),s&&(u[Ot(n)]=function(...e){s(...e),o&&o[n]&&o[n](r,...e)}),d&&(u[Ot(p)]=function(...e){d(...e),o&&o[p]&&o[p](r,...e)}),c&&(u[Ot(at)]=function(...e){c(...e),o&&o[at]&&o[at](r,...e)}),l?Object.assign(u,l):u}function Nt(e,t){let{$table:r,row:l,column:o}=t,a=e.name,n=o.model,i=vl(e,t);return Vt(e,t,{model(e){n.update=!0,n.value=e,i&&yo(l,o,e)},change(e){!i&&a&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(a)?(e=e.value,n.update=!0,n.value=e,r.updateStatus(t,e)):r.updateStatus(t)},blur(){i?r.handleCellRuleUpdateStatus("blur",t):r.handleCellRuleUpdateStatus("blur",t,n.value)}})}function fl(e,t,r){return Vt(e,t,{model(e){r.data=e},change(){_t(t,!Mt(r.data),r)},blur(){_t(t,!Mt(r.data),r)}})}function xl(e,t,r){let{$table:l,column:o}=t;return(e=>{switch(e.name){case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return 1}})(e)?Vt(e,t,{model(e){r.data=e},change(){_t(t,!Mt(r.data),r)},clear(){_t(t,!Mt(r.data),r),ul(t)},blur(){l.saveFilterByEvent(new Event("change"),o)}},"VxeNumberInput"===e.name?{[Ot("plus-number")](){_t(t,!Mt(r.data),r),ul(t)},[Ot("minus-number")](){_t(t,!Mt(r.data),r),ul(t)}}:{}):Vt(e,t,{model(e){r.data=e},clear(){_t(t,!Mt(r.data),r),l.saveFilterByEvent(new Event("change"),o)},change(){_t(t,!Mt(r.data),r),l.saveFilterByEvent(new Event("change"),o)}})}function bl(t,r){let{$table:l,row:o,column:a}=r,n=a.model;return ml(t,r,{model(e){var e=e.target;e&&(e=e.value,vl(t,r)?yo(o,a,e):(n.update=!0,n.value=e))},change(e){var e=e.target;e&&(e=e.value,l.updateStatus(r,e))},blur(e){var e=e.target;e&&(e=e.value,l.updateStatus(r,e))}})}function Cl(e,t,r){return ml(e,t,{model(e){e=e.target;e&&(r.data=e.value)},change(){_t(t,!oo().eqNull(r.data),r)},blur(){_t(t,!oo().eqNull(r.data),r)}})}function wl(e,t){var{row:r,column:l}=t,o=e.name,r=vl(e,t)?wo(r,l):l.model.value;return[(0,co.h)(""+o,{class:"vxe-default-"+o,...pl(e),value:r,...bl(e,t)})]}function zt(e,t){var{row:r,column:l}=t,r=wo(r,l);return[(0,co.h)(Ht(e),{...Pt(e,0,r),...Nt(e,t)})]}function yl(e,t){var r=e.options,{row:l,column:o}=t,l=wo(l,o);return[(0,co.h)(Ht(e),{options:r,...Pt(e,0,l),...Nt(e,t)})]}function Tl(e,t){var{row:r,column:l}=t,r=wo(r,l);return[(0,co.h)(cl(e),{...Pt(e,0,r),...Nt(e,t)})]}function El(e,t){return[(0,co.h)(rt("vxe-button"),{...Pt(e,0,null),...Vt(e,t)})]}function Rl(r,l,o){var{optionGroups:e,optionGroupProps:t={}}=r;let a=t.options||"options",n=t.label||"label";return e?e.map((e,t)=>(0,co.h)("optgroup",{key:t,label:e[n]},o(e[a],r,l))):[]}function Sl(e,t,r){var{optionProps:l={}}=t,{row:o,column:a}=r;let n=l.label||"label",i=l.value||"value",s=l.disabled||"disabled",d=vl(t,r)?wo(o,a):a.model.value;return e?e.map((e,t)=>(0,co.h)("option",{key:t,value:e[i],disabled:e[s],selected:e[i]==d},e[n])):[]}function Fl(l,o){var e=o.column;return e.filters.map((e,t)=>{var r=e.data;return(0,co.h)(Ht(l),{key:t,...hl(l,0,r),...fl(l,o,e)})})}function Dl(e,t){var r=t.option,l=r.data;return[(0,co.h)(Ht(e),{...hl(e,0,l),...xl(e,t,r)})]}function Il(){return[{data:null}]}function Ml({option:e,row:t,column:r}){e=e.data;return oo().get(t,r.field)==e}function kl({option:e,row:t,column:r}){e=e.data,t=oo().get(t,r.field);return-1<oo().toValueString(t).indexOf(e)}function Ol(e,t){return[(0,co.h)("select",{class:"vxe-default-select",...pl(e),...bl(e,t)},e.optionGroups?Rl(e,t,Sl):Sl(e.options,e,t))]}function Al(e,t){var{row:r,column:l}=t,{options:o,optionProps:a,optionGroups:n,optionGroupProps:i}=e,r=wo(r,l);return[(0,co.h)(Ht(e),{...Pt(e,0,r,{options:o,optionProps:a,optionGroups:n,optionGroupProps:i}),...Nt(e,t)})]}function $l(e,t){var{row:r,column:l}=t,{options:o,optionProps:a}=e,r=wo(r,l);return[(0,co.h)(Ht(e),{...Pt(e,0,r,{options:o,optionProps:a}),...Nt(e,t)})]}function Ll(e,t){var{row:r,column:l}=t,{options:o,optionProps:a,optionGroups:n,optionGroupProps:i}=e,r=wo(r,l);return[(0,co.h)(cl(e),{...Pt(e,0,r,{options:o,optionProps:a,optionGroups:n,optionGroupProps:i}),...Nt(e,t)})]}function da(t,{row:e,column:r}){let{options:l,optionGroups:o,optionProps:a={},optionGroupProps:n={},props:i={}}=t;t=oo().get(e,r.field);let s,d=a.label||"label",c=a.value||"value";if(null==t)return"";{let e=[];return e=oo().isArray(t)?t:i.multiple&&-1<(""+t).indexOf(",")?(""+t).split(","):[t],oo().map(e,o?t=>{var r=n.options||"options";for(let e=0;e<o.length&&!(s=oo().find(o[e][r],e=>e[c]==t));e++);return s?s[d]:t}:t=>(s=oo().find(l,e=>e[c]==t))?s[d]:t).join(", ")}}function ca(e){var{row:t,column:r,options:l}=e;return l.original?wo(t,r):da(r.editRender||r.cellRender,e)}function ua(e,{row:r,column:l}){var{options:e,optionProps:t={}}=e,r=oo().get(r,l.field);let o=t.label||"label",a=t.value||"value";l=t.children||"children";if(null==r)return"";{let t={};return oo().eachTree(e,e=>{t[oo().get(e,a)]=e},{children:l}),oo().map(oo().isArray(r)?r:[r],e=>{e=t[e];return e&&oo().get(e,o)}).join(", ")}}function pa(e){var{row:t,column:r,options:l}=e;return l.original?wo(t,r):ua(r.editRender||r.cellRender,e)}function ga(e,t){var r,{props:l={},showNegativeStatus:o}=e,{row:t,column:a}=t,n=l.type;let i=oo().get(t,a.field),s=!1;return Mt(i)||(t=Je().numberInput||{},"float"===n?(a=Lt(l.autoFill,t.autoFill,!0),r=Lt(l.digits,t.digits,1),i=oo().toFixed(oo().floor(i,r),r),a||(i=oo().toNumber(i)),o&&i<0&&(s=!0)):"amount"===n?(r=Lt(l.autoFill,t.autoFill,!0),a=Lt(l.digits,t.digits,2),n=Lt(l.showCurrency,t.showCurrency,!1),i=oo().toNumber(i),o&&i<0&&(s=!0),i=oo().commafy(i,{digits:a}),r||([a,r]=i.split("."),r&&(r=r.replace(/0+$/,""),i=r?[a,".",r].join(""):a)),n&&(i=""+(l.currencySymbol||t.currencySymbol||tt("vxe.numberInput.currencySymbol")||"")+i)):o&&oo().toNumber(i)<0&&(s=!0)),Bt(e,0,i,s?{class:"is--negative"}:{})}et.mixin({input:{tableAutoFocus:"input",renderTableEdit:wl,renderTableDefault:wl,renderTableFilter:function(r,l){var e=l.column;let o=r.name,a=pl(r);return e.filters.map((e,t)=>(0,co.h)(""+o,{key:t,class:"vxe-default-"+o,...a,value:e.data,...Cl(r,l,e)}))},tableFilterDefaultMethod:kl},textarea:{tableAutoFocus:"textarea",renderTableEdit:wl},select:{renderTableEdit:Ol,renderTableDefault:Ol,renderTableCell(e,t){return Bt(e,0,da(e,t))},renderTableFilter(r,l){var e=l.column;return e.filters.map((e,t)=>(0,co.h)("select",{key:t,class:"vxe-default-select",...pl(r),...Cl(r,l,e)},r.optionGroups?Rl(r,l,Sl):Sl(r.options,r,l)))},tableFilterDefaultMethod:Ml,tableExportMethod:ca},VxeInput:{tableAutoFocus:"input",renderTableEdit:zt,renderTableCell(e,t){var{props:r={}}=e,{row:t,column:l}=t,o=Je().input||{},a=r.digits||o.digits||2;let n=oo().get(t,l.field);if(n)switch(r.type){case"date":case"week":case"month":case"quarter":case"year":n=dl(n,r);break;case"float":n=oo().toFixed(oo().floor(n,a),a)}return Bt(e,0,n)},renderTableDefault:zt,createTableFilterOptions:Il,renderTableFilter:Fl,renderTableFloatingFilter:Dl,tableFilterDefaultMethod:kl},FormatNumberInput:{renderTableDefault:ga,tableFilterDefaultMethod:kl,tableExportMethod(e){var{row:e,column:t}=e;return oo().get(e,t.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:zt,renderTableCell:ga,renderTableFooter(t,r){var{props:t={}}=t,{row:r,column:l,_columnIndex:o}=r,a=t.type,o=oo().isArray(r)?r[o]:oo().get(r,l.field);if(oo().isNumber(o)){r=Je().numberInput||{};if("float"===a){var l=Lt(t.autoFill,r.autoFill,!0),n=Lt(t.digits,r.digits,1);let e=oo().toFixed(oo().floor(o,n),n);return e=l?e:oo().toNumber(e)}if("amount"===a){var n=Lt(t.autoFill,r.autoFill,!0),l=Lt(t.digits,r.digits,2),a=Lt(t.showCurrency,r.showCurrency,!1);let e=oo().commafy(oo().toNumber(o),{digits:l});return n||([l,n]=e.split("."),n&&(n=n.replace(/0+$/,""),e=n?[l,".",n].join(""):l)),e=a?""+(t.currencySymbol||r.currencySymbol||tt("vxe.numberInput.currencySymbol")||"")+e:e}}return no(o,1)},renderTableDefault:zt,createTableFilterOptions:Il,renderTableFilter:Fl,renderTableFloatingFilter:Dl,tableFilterDefaultMethod:kl,tableExportMethod(e){var{row:e,column:t}=e;return oo().get(e,t.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:zt,renderTableCell(e,t){var{props:r={}}=e,{row:t,column:l}=t;let o=oo().get(t,l.field);return Bt(e,0,o=o&&"time"!==r.type?dl(o,r):o)},renderTableDefault:zt,createTableFilterOptions:Il,renderTableFilter:Fl,renderTableFloatingFilter:Dl,tableFilterDefaultMethod:Ml},VxeDateRangePicker:{tableAutoFocus:"input",renderTableEdit(e,t){let{startField:r,endField:l}=e,{$table:o,row:a,column:n}=t,i=n.model;var s=wo(a,n),d={},c={};return r&&l&&(d.startValue=oo().get(a,r),d.endValue=oo().get(a,l),c["onUpdate:startValue"]=e=>{r&&oo().set(a,r,e)},c["onUpdate:endValue"]=e=>{l&&oo().set(a,l,e)}),[(0,co.h)(Ht(e),{...Pt(e,0,s,d),...Vt(e,t,{model(e){i.update=!0,i.value=e,yo(a,n,e)},change(){o.updateStatus(t)},blur(){o.handleCellRuleUpdateStatus("blur",t)}},c)})]},renderTableCell(e,t){var{startField:r,endField:l}=e,{row:t,column:o}=t;let a="",n="",i=(r&&l?(a=oo().get(t,r),n=oo().get(t,l)):(r=oo().get(t,o.field))&&(n=(oo().isArray(r)?(a=r[0],r):(l=(""+r).split(","),a=l[0],l))[1]),"");return Bt(e,0,i=a&&n?a+" ~ "+n:i)}},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:zt,renderTableCell(e,t){var{row:t,column:r}=t;return Bt(e,0,oo().get(t,r.field))}},VxeButton:{renderTableDefault:function(e,t){return[(0,co.h)(Ht(e),{...Pt(e,0,null),...Vt(e,t)})]}},VxeButtonGroup:{renderTableDefault(e,t){var r=e.options;return[(0,co.h)(Ht(e),{options:r,...Pt(e,0,null),...Vt(e,t)})]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:Al,renderTableDefault:Al,renderTableCell(e,t){return Bt(e,0,da(e,t))},createTableFilterOptions:Il,renderTableFilter(l,o){var e=o.column;let{options:a,optionProps:n,optionGroups:i,optionGroupProps:s}=l;return e.filters.map((e,t)=>{var r=e.data;return(0,co.h)(Ht(l),{key:t,...hl(l,0,r,{options:a,optionProps:n,optionGroups:i,optionGroupProps:s}),...fl(l,o,e)})})},renderTableFloatingFilter(e,t){var r=t.option,{options:l,optionProps:o,optionGroups:a,optionGroupProps:n}=e,i=r.data;return(0,co.h)(Ht(e),{...hl(e,0,i,{options:l,optionProps:o,optionGroups:a,optionGroupProps:n}),...xl(e,t,r)})},tableFilterDefaultMethod:Ml,tableExportMethod:ca},VxeText:{renderTableDefault(e,t){var{$table:r,row:l,column:o}=t,a=e.props,r=r.getCellLabel(l,o);return[(0,co.h)(Ht(e),{...a||{},content:r,...Vt(e,t)})]}},VxeLink:{renderTableDefault(e,t){var{$table:r,row:l,column:o}=t,a=e.props,n=(a||{}).href,r=r.getCellLabel(l,o);return[(0,co.h)(Ht(e),{...a||{},content:r,href:oo().toFormatString(n,t),...Vt(e,t)})]}},formatOption:{renderTableDefault(e,t){return Bt(e,0,da(e,t))}},FormatSelect:{renderTableDefault(e,t){return Bt(e,0,da(e,t))},tableFilterDefaultMethod:Ml,tableExportMethod:ca},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:$l,renderTableCell(e,t){return Bt(e,0,ua(e,t))},tableExportMethod:pa},formatTree:{renderTableDefault(e,t){return Bt(e,0,ua(e,t))}},FormatTreeSelect:{renderTableDefault(e,t){return Bt(e,0,ua(e,t))},tableExportMethod:pa},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:$l,renderTableCell(e,t){return Bt(e,0,ua(e,t))},tableExportMethod:pa},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){var{row:r,column:l}=t,o=e.options,r=wo(r,l);return[(0,co.h)(Ht(e),{...Pt(e,0,r,{colors:o}),...Nt(e,t)})]},renderTableCell(e,t){var{row:t,column:r}=t,t=oo().get(t,r.field);return(0,co.h)("span",{class:"vxe-color-picker--readonly"},[(0,co.h)("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:t}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){var{row:r,column:l}=t,o=e.options,r=wo(r,l);return[(0,co.h)(Ht(e),{...Pt(e,0,r,{icons:o}),...Nt(e,t)})]},renderTableCell(e,t){var{row:t,column:r}=t,t=oo().get(t,r.field);return(0,co.h)("i",{class:t})}},VxeRadioGroup:{renderTableDefault:yl},VxeCheckbox:{renderTableDefault:function(e,t){var{row:r,column:l}=t,r=wo(r,l);return[(0,co.h)(Ht(e),{...Pt(e,0,r),...Nt(e,t)})]}},VxeCheckboxGroup:{renderTableDefault:yl},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:zt,renderTableDefault:zt},VxeUpload:{renderTableEdit:zt,renderTableCell:zt,renderTableDefault:zt},VxeImage:{renderTableDefault(e,t){var{row:r,column:l}=t,o=e.props,r=wo(r,l);return[(0,co.h)(Ht(e),{...o,src:r,...Nt(e,t)})]}},VxeImageGroup:{renderTableDefault(e,t){var{row:r,column:l}=t,o=e.props,r=wo(r,l);return[(0,co.h)(Ht(e),{...o,urlList:r,...Nt(e,t)})]}},VxeTextEllipsis:{renderTableDefault(e,t){var{row:r,column:l}=t,o=e.props,r=wo(r,l);return[(0,co.h)(Ht(e),{...o,content:r,...Nt(e,t)})]}},VxeRate:{renderTableDefault:zt},VxeSlider:{renderTableDefault:zt},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Tl,renderTableCell(e,t){var{props:r={}}=e,{row:t,column:l}=t,o=r.digits||Je().input?.digits||2;let a=oo().get(t,l.field);if(a)switch(r.type){case"date":case"week":case"month":case"year":a=dl(a,r);break;case"float":a=oo().toFixed(oo().floor(a,o),o)}return Bt(e,0,a)},renderTableDefault:Tl,renderTableFilter:function(l,o){return o.column.filters.map((e,t)=>{var r=e.data;return(0,co.h)(cl(l),{key:t,...hl(l,0,r),...fl(l,o,e)})})},tableFilterDefaultMethod:kl},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:El},$buttons:{renderTableDefault:function(e,t){return(e=e.children)?e.map(e=>El(e,t)[0]):[]}},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Ll,renderTableDefault:Ll,renderTableCell(e,t){return Bt(e,0,da(e,t))},renderTableFilter(l,o){var e=o.column;let{options:a,optionProps:n,optionGroups:i,optionGroupProps:s}=l;return e.filters.map((e,t)=>{var r=e.data;return(0,co.h)(cl(l),{key:t,...hl(l,0,r,{options:a,optionProps:n,optionGroups:i,optionGroupProps:s}),...fl(l,o,e)})})},tableFilterDefaultMethod:Ml,tableExportMethod:ca},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:Tl,renderTableDefault:Tl}});let{getConfig:Pl,getIcon:Xl,getI18n:Bl,renderer:Kl,formats:Yl,createEvent:Zl,globalResize:Ql,interceptor:Jl,hooks:eo,globalEvents:Vl,GLOBAL_EVENT_KEYS:Nl,useFns:to,renderEmptyElement:zl}=lo.VxeUI,ro="VXE_CUSTOM_STORE",jl=null;var ha=It({name:"VxeTable",props:Gl,emits:Fe,setup(Y,t){let{slots:Z,emit:l}=t,ge=oo().uniqueId(),W=oo().browse(),he=lo.VxeUI.getComponent("VxeLoading"),ve=lo.VxeUI.getComponent("VxeTooltip"),r=(0,co.inject)("$xeTabs",null),A=(0,co.inject)("$xeTable",null),Q=(0,co.inject)("$xeGrid",null),J=(0,co.inject)("$xeGantt",null),ee=Q||J,me=to.useSize(Y).computeSize,fe=ql,te=(0,co.reactive)({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],rowGroupColumn:null,expandColumn:null,checkboxColumn:null,radioColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,column:null,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},visiblwRowsFlag:1,isRowGroupStatus:!1,rowGroupList:[],aggHandleFields:[],aggHandleAggColumns:[],rowGroupExpandedFlag:1,rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeHeadFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,lazScrollLoading:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isCrossDragRow:!1,dragRow:null,isCrossDragCol:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),re=Ho(),N={},z={},le=(0,co.ref)(),xe=(0,co.ref)(),oe=(0,co.ref)(),be=(0,co.ref)(),Ce=(0,co.ref)(),we=(0,co.ref)(),ye=(0,co.ref)(),Te=(0,co.ref)(),h=(0,co.ref)(),v=(0,co.ref)(),x=(0,co.ref)(),m=(0,co.ref)(),f=(0,co.ref)(),b=(0,co.ref)(),C=(0,co.ref)(),y=(0,co.ref)(),T=(0,co.ref)(),E=(0,co.ref)(),Ee=(0,co.ref)(),Re=(0,co.ref)(),q=(0,co.ref)(),X=(0,co.ref)(),Se=(0,co.ref)(),Fe=(0,co.ref)(),De=(0,co.ref)(),Ie=(0,co.ref)(),Me=(0,co.ref)(),ke=(0,co.ref)(),K=(0,co.ref)(),M=(0,co.ref)(),Oe=(0,co.ref)(),Ae=(0,co.ref)(),k=(0,co.ref)(),$e=(0,co.ref)(),Le=(0,co.ref)(),O=(0,co.ref)(),He=(0,co.ref)(),_e=(0,co.ref)(),Pe=(0,co.ref)(),Be=(0,co.ref)(),D=(0,co.ref)(),$=(0,co.ref)(),L,g=(0,co.computed)(()=>{var e=Y.id;return e?oo().isFunction(e)?""+(e({$table:pe,$grid:Q,$gantt:J})||""):""+e:""}),o=(0,co.computed)(()=>{var e=ne.value;return""+(Y.rowId||e.keyField||"_X_ROW_KEY")}),Ve=(0,co.computed)(()=>Object.assign({},Pl().table.validConfig,Y.validConfig));var a=(0,co.computed)(()=>ze.value);let Ne=(0,co.computed)(()=>{var e=ze.value.threshold;return e?oo().toNumber(e):0});var n=(0,co.computed)(()=>R.value);let ze=(0,co.computed)(()=>{var{virtualXConfig:e,scrollX:t}=Y,r=Pl().table.virtualXConfig,l=Pl().table.scrollX;return e||!t&&r?Object.assign({},r,e):Object.assign({},l,t)}),R=(0,co.computed)(()=>{var{virtualYConfig:e,scrollY:t}=Y,r=Pl().table.virtualYConfig,l=Pl().table.scrollY;return e||!t&&r?Object.assign({},r,e):Object.assign({},l,t)}),je=(0,co.computed)(()=>Object.assign({},Pl().table.scrollbarConfig,Y.scrollbarConfig)),Ge=(0,co.computed)(()=>{var e=je.value;return Object.assign({},e.x,Y.scrollbarConfig?.x||{})}),Ue=(0,co.computed)(()=>{var e=je.value;return Object.assign({},e.y,Y.scrollbarConfig?.y||{})}),We=(0,co.computed)(()=>"top"===Ge.value.position),qe=(0,co.computed)(()=>"left"===Ue.value.position),Xe=(0,co.computed)(()=>{var e=R.value.threshold;return e?oo().toNumber(e):0}),s=(0,co.computed)(()=>te.rowHeightStore),H=(0,co.computed)(()=>{var e=me.value;return s.value[e||"default"]||18}),ae=(0,co.computed)(()=>Object.assign({},Pl().table.columnConfig,Y.columnConfig)),Ke=(0,co.computed)(()=>Object.assign({},Pl().table.currentColumnConfig,Y.currentColumnConfig)),_=(0,co.computed)(()=>{var e=Object.assign({},Pl().table.cellConfig,Y.cellConfig);return e.height&&(e.height=oo().toNumber(e.height)),e});var d=(0,co.computed)(()=>{var e=Object.assign({},Pl().table.headerCellConfig,Y.headerCellConfig),t=H.value,r=_.value;let l=oo().toNumber(Go(e.height||r.height));return J&&(r=J.getComputeMaps().computeTaskScaleConfs,r=r.value)&&2<r.length&&(t=t/2*r.length,l=Math.max(t,l)),e.height=l,e}),c=(0,co.computed)(()=>{var e=Object.assign({},Pl().table.footerCellConfig,Y.footerCellConfig),t=_.value;return e.height=oo().toNumber(Go(e.height||t.height)),e});let ne=(0,co.computed)(()=>Object.assign({},Pl().table.rowConfig,Y.rowConfig)),P=(0,co.computed)(()=>Object.assign({},Pl().table.aggregateConfig||Pl().table.rowGroupConfig,Y.aggregateConfig||Y.rowGroupConfig)),u=(0,co.computed)(()=>P.value),Ye=(0,co.computed)(()=>Object.assign({},Pl().table.currentRowConfig,Y.currentRowConfig)),ie=(0,co.computed)(()=>Object.assign({},Pl().table.rowDragConfig,Y.rowDragConfig)),se=(0,co.computed)(()=>Object.assign({},Pl().table.columnDragConfig,Y.columnDragConfig)),p=(0,co.computed)(()=>Object.assign({},Pl().table.resizeConfig,Y.resizeConfig)),Ze=(0,co.computed)(()=>Object.assign({},Pl().table.resizableConfig,Y.resizableConfig));var Qe=(0,co.computed)(()=>Object.assign({startIndex:0},Pl().table.seqConfig,Y.seqConfig));let B=(0,co.computed)(()=>Object.assign({},Pl().table.radioConfig,Y.radioConfig)),de=(0,co.computed)(()=>Object.assign({},Pl().table.checkboxConfig,Y.checkboxConfig)),Je=(0,co.computed)(()=>Object.assign({},Pl().tooltip,Pl().table.tooltipConfig,Y.tooltipConfig)),et=(0,co.computed)(()=>Object.assign({},Pl().tooltip,Pl().table.headerTooltipConfig,Y.headerTooltipConfig)),tt=(0,co.computed)(()=>Object.assign({},Pl().tooltip,Pl().table.footerTooltipConfig,Y.footerTooltipConfig)),rt=(0,co.computed)(()=>{var e=te.tooltipStore,t=Je.value;return Object.assign({},t,e.currOpts)}),lt=(0,co.computed)(()=>{var e=Je.value;return Object.assign({},e)}),ot=(0,co.computed)(()=>Object.assign({},Pl().table.editConfig,Y.editConfig)),S=(0,co.computed)(()=>Object.assign({orders:["asc","desc",null]},Pl().table.sortConfig,Y.sortConfig)),at=(0,co.computed)(()=>Object.assign({},Pl().table.filterConfig,Y.filterConfig));var nt=(0,co.computed)(()=>Object.assign({},Pl().table.floatingFilterConfig,Y.floatingFilterConfig));let ce=(0,co.computed)(()=>Object.assign({},Pl().table.mouseConfig,Y.mouseConfig)),it=(0,co.computed)(()=>Object.assign({},Pl().table.areaConfig,Y.areaConfig)),st=(0,co.computed)(()=>Object.assign({},Pl().table.keyboardConfig,Y.keyboardConfig));var dt=(0,co.computed)(()=>Object.assign({},Pl().table.clipConfig,Y.clipConfig)),ct=(0,co.computed)(()=>ut.value);let ut=(0,co.computed)(()=>Object.assign({},Pl().table.fnrConfig,Y.fnrConfig)),pt=(0,co.computed)(()=>Object.assign({},Pl().table.menuConfig,Y.menuConfig)),gt=(0,co.computed)(()=>{var e=te.columnStore,t=e.leftList;let r=0;for(let e=0;e<t.length;e++){var l=t[e];r+=l.renderWidth}return r}),ht=(0,co.computed)(()=>{var e=te.columnStore,t=e.rightList;let r=0;for(let e=0;e<t.length;e++){var l=t[e];r+=l.renderWidth}return r}),vt=(0,co.computed)(()=>{var{columnStore:e,mergeBodyFlag:t}=te,{mergeBodyList:r,visibleColumn:l}=re,{leftList:e,rightList:o}=e,a=l.length-o.length;if(t&&(e.length||o.length)){var n=e.length;for(let e=0;e<r.length;e++){var{col:i,colspan:s}=r[e];if(i<n||a<i+s)return!0}}return!1}),mt=(0,co.computed)(()=>{var{spanMethod:e,footerSpanMethod:t,showHeaderOverflow:r}=Y,{isGroup:l,scrollXLoad:o}=te;let a=!1;return l||o&&r&&(e||t||(a=!0)),a}),ft=(0,co.computed)(()=>{var{spanMethod:e,footerSpanMethod:t}=Y,{scrollXLoad:r,scrollYLoad:l,isAllOverflow:o,expandColumn:a}=te,n=vt.value,i=V.value;let s=!1;return s=!(r||l||o)||a&&"fixed"!==i.mode||n||e||t?s:!0}),xt=(0,co.computed)(()=>{var{spanMethod:e,footerSpanMethod:t,showFooterOverflow:r}=Y,l=te.scrollXLoad;let o=!1;return l&&r&&(e||t||(o=!0)),o}),bt=(0,co.computed)(()=>{var e=pt.value.header;return e&&e.options?e.options:[]}),Ct=(0,co.computed)(()=>{var e=pt.value.body;return e&&e.options?e.options:[]}),wt=(0,co.computed)(()=>{var e=pt.value.footer;return e&&e.options?e.options:[]});var yt=(0,co.computed)(()=>Tt.value);let Tt=(0,co.computed)(()=>{var e=pt.value,t=bt.value,r=Ct.value,l=wt.value;return!!(Y.menuConfig&&ao(e)&&(t.length||r.length||l.length))}),Et=(0,co.computed)(()=>{var e=te.ctxMenuStore;let t=[];return e.list.forEach(e=>{e.forEach(e=>{t.push(e)})}),t}),Rt=(0,co.computed)(()=>Object.assign({},Pl().table.exportConfig,Y.exportConfig)),St=(0,co.computed)(()=>Object.assign({},Pl().table.importConfig,Y.importConfig));var Ft=(0,co.computed)(()=>Object.assign({},Pl().table.printConfig,Y.printConfig));let V=(0,co.computed)(()=>Object.assign({},Pl().table.expandConfig,Y.expandConfig)),ue=(0,co.computed)(()=>Object.assign({},Pl().table.treeConfig,Y.treeConfig)),Dt=(0,co.computed)(()=>Object.assign({},Pl().table.emptyRender,Y.emptyRender)),It=(0,co.computed)(()=>Object.assign({},Pl().table.loadingConfig,Y.loadingConfig));var Mt=(0,co.computed)(()=>Y.border?Math.max(2,Math.ceil(te.scrollbarWidth/te.tableColumn.length)):1);let kt=(0,co.computed)(()=>Object.assign({},Pl().table.customConfig,Y.customConfig)),Ot=(0,co.computed)(()=>{var{tableData:e,rowExpandedFlag:t,expandColumn:r,rowGroupExpandedFlag:l,treeExpandedFlag:o}=te;let{visibleDataRowIdData:a,rowExpandedMaps:n}=re,i=[];return e.length&&r&&t&&l&&o&&oo().each(n,(e,t)=>{a[t]&&i.push(e)}),i}),At=(0,co.computed)(()=>{var e=re.visibleColumn,t=te.tableColumn;return t.length||e.length?e.filter(e=>"auto"===e.width||"auto"===e.minWidth):[]}),$t=(0,co.computed)(()=>{var e=te.tableColumn,t=re.collectColumn;let r=0;return e.length&&t.length&&t.forEach(e=>{e.renderFixed&&r++}),r}),Lt=(0,co.computed)(()=>{var e=$t.value,t=ae.value.maxFixedSize;return!!t&&t<=e}),Ht=(0,co.computed)(()=>{var e=Y.border;return!0===e?"full":e||"default"});var _t=(0,co.computed)(()=>{var{}=Y,e=te.tableData,t=re.tableFullData;let{strict:r,checkMethod:l}=de.value;return!!r&&(!e.length&&!t.length||!!l&&t.every(e=>!l({$table:pe,row:e})))}),Pt=(0,co.computed)(()=>{var{overflowX:e,scrollXLoad:t,overflowY:r,scrollYLoad:l}=te;return{x:e&&t,y:r&&l}}),Bt=(0,co.computed)(()=>u.value.groupFields),Vt=(0,co.computed)(()=>{var e=te.rowGroupList;let t=re.fullColumnFieldData,r=[];return e.forEach(e=>{e=t[e.field];e&&r.push(e.column)}),r});let Nt={refElem:le,refTooltip:oe,refValidTooltip:Ce,refTableFilter:ye,refTableCustom:Te,refTableMenu:we,refTableHeader:v,refTableBody:x,refTableFooter:m,refTableLeftHeader:f,refTableLeftBody:b,refTableLeftFooter:C,refTableRightHeader:y,refTableRightBody:T,refTableRightFooter:E,refLeftContainer:q,refRightContainer:X,refColResizeBar:Se,refRowResizeBar:Fe,refScrollXVirtualElem:Oe,refScrollYVirtualElem:Ae,refScrollXHandleElem:k,refScrollYHandleElem:O,refScrollXSpaceElem:D,refScrollYSpaceElem:$},zt={computeSize:me,computeTableId:g,computeValidOpts:Ve,computeRowField:o,computeVirtualXOpts:ze,computeVirtualYOpts:R,computeScrollbarOpts:je,computeScrollbarXOpts:Ge,computeScrollbarYOpts:Ue,computeScrollbarXToTop:We,computeScrollbarYToLeft:qe,computeColumnOpts:ae,computeCurrentColumnOpts:Ke,computeScrollXThreshold:Ne,computeScrollYThreshold:Xe,computeRowHeightMaps:s,computeDefaultRowHeight:H,computeCellOpts:_,computeHeaderCellOpts:d,computeFooterCellOpts:c,computeRowOpts:ne,computeAggregateOpts:P,computeRowGroupOpts:u,computeCurrentRowOpts:Ye,computeRowDragOpts:ie,computeColumnDragOpts:se,computeResizeOpts:p,computeResizableOpts:Ze,computeSeqOpts:Qe,computeRadioOpts:B,computeCheckboxOpts:de,computeTooltipOpts:Je,computeHeaderTooltipOpts:et,computeFooterTooltipOpts:tt,computeEditOpts:ot,computeSortOpts:S,computeFilterOpts:at,computeFloatingFilterOpts:nt,computeMouseOpts:ce,computeAreaOpts:it,computeKeyboardOpts:st,computeClipOpts:dt,computeFnrOpts:ut,computeHeaderMenu:bt,computeBodyMenu:Ct,computeFooterMenu:wt,computeIsMenu:yt,computeIsContentMenu:Tt,computeMenuList:Et,computeMenuOpts:pt,computeExportOpts:Rt,computeImportOpts:St,computePrintOpts:Ft,computeExpandOpts:V,computeTreeOpts:ue,computeEmptyOpts:Dt,computeLoadingOpts:It,computeCellOffsetWidth:Mt,computeCustomOpts:kt,computeLeftFixedWidth:gt,computeRightFixedWidth:ht,computeBodyMergeCoverFixed:vt,computeFixedColumnSize:$t,computeIsMaxFixedColumn:Lt,computeIsAllCheckboxDisabled:_t,computeIsHeaderRenderOptimize:mt,computeIsBodyRenderOptimize:ft,computeIsFooterRenderOptimize:xt,computeVirtualScrollBars:Pt,computeRowGroupFields:Bt,computeRowGroupColumns:Vt,computeFNROpts:ct,computeSXOpts:a,computeSYOpts:n},pe={xID:ge,props:Y,context:t,reactData:te,internalData:re,getRefMaps:()=>Nt,getComputeMaps:()=>zt,xeGrid:Q,xeGantt:J,xegrid:Q},jt=(e,t,r)=>{e=oo().get(e,r),t=oo().get(t,r);return!(!so(e)||!so(t))||(oo().isString(e)||oo().isNumber(e)?""+e==""+t:oo().isEqual(e,t))},Gt=()=>{var e=o.value;re.currKeyField=e,re.isCurrDeepKey=-1<e.indexOf(".")},F=(e,t)=>oo().isBoolean(e)?e:t,Ut=e=>{var{orders:t=[]}=S.value,e=e.order||null,e=t.indexOf(e)+1;return t[e<t.length?e:0]},Wt=e=>{var t=Pl().version,r=oo().toStringJSON(localStorage.getItem(ro)||""),r=r&&r._v===t?r:{_v:t};return(e?r[e]:r)||{}},qt=e=>{let r=re.fullAllDataRowIdData,l={};return oo().each(e,(e,t)=>{r[t]&&(l[t]=e)}),l},Xt=e=>{let r=re.fullDataRowIdData,l=[];return oo().each(e,(e,t)=>{r[t]&&-1===pe.findRowIndexOf(l,r[t].row)&&l.push(r[t].row)}),l},Kt=()=>{var{isScrollXBig:o,scrollXWidth:a}=te,{elemStore:n,visibleColumn:i,fullColumnIdData:s}=re,d=gt.value,c=ht.value,n=To(n["main-body-scroll"]);if(n){var u=n.clientWidth;let e=n.scrollLeft;var p=(e=o?Math.ceil((a-u)*Math.min(1,e/(5e6-u))):e)+d,g=e+u-c;let t=0,r=i.length;for(;t<r;){var h=Math.floor((t+r)/2);(s[i[h].id]||{}).oLeft<=p?t=h+1:r=h}let l=0;n=t===i.length?t:Math.max(0,t<i.length?t-2:0);for(let e=n,t=i.length;e<t;e++){var v=s[i[e].id]||{};if(l++,v.oLeft>g||60<=l)break}return{toVisibleIndex:Math.max(0,n),visibleSize:Math.max(1,l)}}return{toVisibleIndex:0,visibleSize:6}},Yt=(e,t)=>{var r=te.rowHeightStore;t&&t.clientHeight&&(r[e]=t.clientHeight)},Zt=()=>{var t=te.isAllOverflow,r=v.value,l=x.value,l=l?l.$el:null,e=H.value;let o=0;if(t){if(l){t=r?r.$el:null;let e;(e=!(e=l.querySelector("tr"))&&t?t.querySelector("tr"):e)&&(o=e.clientHeight)}o=o||e}else o=e;return Math.max(18,o)},Qt=()=>{var{isAllOverflow:t,expandColumn:r,isScrollYBig:a,scrollYHeight:n}=te,{elemStore:i,isResizeCellHeight:s,afterFullData:d,fullAllDataRowIdData:c}=re,u=ne.value,p=_.value,g=H.value,i=To(i["main-body-scroll"]);if(i){var h=i.clientHeight;let e=i.scrollTop;var v=e=a?Math.ceil((n-h)*Math.min(1,e/(5e6-h))):e,m=e+h;let l=-1,o=0;if(s||p.height||u.height||r||!t){var f=xo(pe).handleGetRowId;let r=0,e=d.length;for(;r<e;){var x=Math.floor((r+e)/2);(c[f(d[x])]||{}).oTop<=v?r=x+1:e=x}for(let e=l=r===d.length?r:Math.max(0,r<d.length?r-2:0),t=d.length;e<t;e++){var b=c[f(d[e])]||{};if(o++,b.oTop>m||100<=o)break}}else l=Math.floor(v/g)-1,o=Math.ceil(h/g)+1;return{toVisibleIndex:Math.max(0,l),visibleSize:Math.max(6,o)}}return{toVisibleIndex:0,visibleSize:6}},Jt=(r,l,o)=>{for(let e=0,t=r.length;e<t;e++){var a=r[e],{startIndex:n,endIndex:i}=l,s=a[o],a=s+a[o+"span"];s<n&&n<a&&(l.startIndex=s),s<i&&i<a&&(l.endIndex=a),l.startIndex===n&&l.endIndex===i||(e=-1)}};function er(t){var r={};if(t&&t.length)for(let e=0;e<t.length;e++){var{row:l,col:o,rowspan:a,colspan:n}=t[e];for(let t=0;t<a;t++)for(let e=0;e<n;e++)r[l+t+":"+(o+e)]=t||e?{rowspan:0,colspan:0}:{rowspan:a,colspan:n}}return r}let tr=(e,r,l)=>{var o=re.tableFullColumn;let{multiple:i,remote:s,orders:d}=S.value;if((r=oo().isArray(r)?r:[r])&&r.length){let t={},a=(i||(r=[r[0]],o.forEach(e=>{e.order&&(t[e.id]=e)})),{}),n=null;return r.forEach((e,t)=>{let{field:r,order:l}=e,o=r;oo().isString(r)&&(o=pe.getColumnByField(r)),n=n||o,o&&o.sortable&&(d&&-1===d.indexOf(l)&&(l=Ut(o)),o.order!==l&&(o.order=l),o.sortTime=Date.now()+t,a[o.id]=o)}),i||oo().each(t,(e,t)=>{a[t]||(e.order=null)}),l&&!s&&pe.handleTableData(!0),e&&pe.handleColumnSortEvent(e,n),(0,co.nextTick)().then(()=>(G(),pe.updateCellAreas(),I()))}return(0,co.nextTick)()},rr=()=>{var e=re.tableFullColumn;e.forEach(e=>{e.order=null})},lr=e=>{var{editConfig:t,editRules:r}=Y,l=te.parentHeight;let o=Y[e],a=("minHeight"===e&&(e=Pl().table.minHeight,oo().eqNull(o))&&(so(e)?r&&ao(t)&&(o=144):o=e),0);return a=o?"100%"===o||"auto"===o?l:(r=pe.getExcludeHeight(),a=ko(o)?Math.floor((oo().toInteger(o)||1)/100*l):oo().toNumber(o),Math.max(40,a-r)):a},or=e=>{let{aggregateConfig:c,rowGroupConfig:u}=Y;var t=re.collectColumn,{storage:r,storeOptions:l}=kt.value,o=!0===r,r=Object.assign({},!o&&r||{},l);let p=F(r.resizable,o),g=F(r.visible,o),h=F(r.fixed,o);l=F(r.sort,o);let v=F(r.aggGroup,o),m=F(r.aggFunc,o),{resizableData:f,sortData:x,visibleData:b,fixedData:C,aggGroupData:w,aggFuncData:y}=e;if(p&&f||l&&x||g&&b||h&&C||v&&w||m&&y){let n={};if(l&&x){if(!oo().isArray(x)){let r=[];oo().each(x,(e,t)=>{r.push({key:t,index:e})}),x=oo().orderBy(r,{field:"index",order:"asc"}).map(e=>({k:e.key}))}let a=1;oo().eachTree(x,(e,t,r,l,o)=>{n[e.k]={key:e.k,sNum:a++,pKey:o?o.k:null}},{children:"c"})}let i={},s=[],d=[];oo().eachTree(t,(e,t,r,l,o)=>{var a=e.getKey();o||h&&C&&void 0!==C[a]&&(e.fixed=C[a]),p&&f&&oo().isNumber(f[a])&&(e.resizeWidth=f[a]),g&&b&&oo().isBoolean(b[a])&&(e.visible=b[a]),m&&y&&(c||u)&&y[a]&&(e.aggFunc=y[a]),v&&w&&w[a]&&d.push({field:e.field}),i[a]=e,s.push(e)}),(c||u)&&d.length&&(r=Ar(re.tableFullData,d),re.tableFullTreeData=[],re.tableFullGroupData=r.treeData,te.isRowGroupStatus=!0,te.rowGroupList=d,pe.cacheRowMap(!1)),l&&x&&(s.forEach(e=>{var t,r=e.getKey(),r=n[r];r&&(t=r.pKey?i[r.pKey]:null,e.parentId=t?t.id:null,e.renderSortNumber=r.sNum)}),o=oo().toArrayTree(oo().orderBy(s,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"}),re.collectColumn=o,re.tableFullColumn=Wo(o)),te.isCustomStatus=!0}else te.isCustomStatus=!1},ar=()=>{var{treeConfig:e,showOverflow:t}=Y,{tableFullColumn:r,collectColumn:l}=re;let u=re.fullColumnIdData={},p=re.fullColumnFieldData={};var o=ce.value,a=V.value;let g=ae.value;var n=se.value,i=R.value;let{isCrossDrag:h,isSelfToChildDrag:v}=n;var n=kt.value,s=ue.value;let m=n.storage;var n=ne.value,d=l.some(Fo);let f=!!t,x,b,C,w,y,T,E,c=(e,t,r,l,o)=>{var{id:a,field:n,fixed:i,type:s,treeNode:d,rowGroupNode:c}=e,t={$index:-1,_index:-1,column:e,colid:a,index:t,items:r,parent:o||null,width:0,oLeft:0};n?(p[n]&&_l("vxe.error.colRepet",["field",n]),p[n]=t):(m&&!s&&_l("vxe.error.reqSupportProp",["storage",`[${s?"type="+s:"title="+e.getTitle()}]field=?`]),g.drag&&(h||v)&&_l("vxe.error.reqSupportProp",["column-drag-config.isCrossDrag | column-drag-config.isSelfToChildDrag",`${e.getTitle()||s||""} -> field=?`])),!E&&i&&(E=i),T||"html"!==s||(T=e),d&&(C&&Hl("vxe.error.colRepet",["tree-node",d]),C=C||e),c&&(C&&Hl("vxe.error.colRepet",["row-group-node",c]),x=x||e),"expand"===s&&(b&&Hl("vxe.error.colRepet",["type",s]),b=b||e),"checkbox"===s?(w&&Hl("vxe.error.colRepet",["type",s]),w=w||e):"radio"===s&&(y&&Hl("vxe.error.colRepet",["type",s]),y=y||e),f&&!1===e.showOverflow&&(f=!1),u[a]&&_l("vxe.error.colRepet",["colId",a]),u[a]=t};d?oo().eachTree(l,(e,t,r,l,o,a)=>{e.level=a.length,c(e,t,r,0,o)}):r.forEach(c),b&&"fixed"!==a.mode&&i.enabled&&Hl("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),b&&"fixed"!==a.mode&&o.area&&_l("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),b&&"inside"!==a.mode&&e&&!s.transform&&_l("vxe.error.notConflictProp",["tree-config.transform=false","expand-config.mode=fixed"]),T&&(g.useKey||_l("vxe.error.notSupportProp",["column.type=html","column-config.useKey=false","column-config.useKey=true"]),n.useKey||_l("vxe.error.notSupportProp",["column.type=html","row-config.useKey=false","row-config.useKey=true"])),te.isGroup=d,te.rowGroupColumn=x,te.treeNodeColumn=C,te.expandColumn=b,te.checkboxColumn=w,te.radioColumn=y,te.isAllOverflow=f},nr=()=>{re.customHeight=lr("height"),re.customMinHeight=lr("minHeight"),re.customMaxHeight=lr("maxHeight"),te.scrollYLoad&&!(re.customHeight||re.customMinHeight||re.customMaxHeight)&&(re.customHeight=300)},ir=(e,t)=>{var r=ae.value.autoOptions,{isCalcHeader:r,isCalcBody:l,isCalcFooter:o}=r||{},a=[],n=(r&&a.push(`.vxe-header-cell--wrapper[colid="${e.id}"]`),l&&a.push(`.vxe-body-cell--wrapper[colid="${e.id}"]`),o&&a.push(`.vxe-footer-cell--wrapper[colid="${e.id}"]`),a.length?t.querySelectorAll(a.join(",")):[]);let i=0;r=n[0];r&&r.parentElement&&(l=getComputedStyle(r.parentElement),i=Math.ceil(oo().toNumber(l.paddingLeft)+oo().toNumber(l.paddingRight)));let s=e.renderAutoWidth-i;for(let e=0;e<n.length;e++){var d=n[e];s=Math.max(s,d?Math.ceil(d.scrollWidth)+4:0)}return s+i},sr=()=>{var e=At.value;let l=re.fullColumnIdData,o=le.value;o&&(o.setAttribute("data-calc-col","Y"),e.forEach(e=>{var t=e.id,t=l[t],r=ir(e,o);t&&(t.width=Math.max(r,t.width)),e.renderAutoWidth=r}),pe.analyColumnWidth(),o.removeAttribute("data-calc-col"))},dr=()=>{var e=re.elemStore,e=To(e["main-body-wrapper"]);if(e){var o=O.value;if(o)if(k.value){let r=0;o=e.clientWidth,e=o;let l=e/100;var t=Y.fit,a=te.columnStore,{resizeList:a,pxMinList:n,autoMinList:i,pxList:s,scaleList:d,scaleMinList:c,autoList:u,remainList:p}=a;if(n.forEach(e=>{var t=oo().toInteger(e.minWidth);r+=t,e.renderWidth=t}),i.forEach(e=>{var t=Math.max(60,oo().toInteger(e.renderAutoWidth));r+=t,e.renderWidth=t}),c.forEach(e=>{var t=Math.floor(oo().toInteger(e.minWidth)*l);r+=t,e.renderWidth=t}),d.forEach(e=>{var t=Math.floor(oo().toInteger(e.width)*l);r+=t,e.renderWidth=t}),s.forEach(e=>{var t=oo().toInteger(e.width);r+=t,e.renderWidth=t}),u.forEach(e=>{var t=Math.max(60,oo().toInteger(e.renderAutoWidth));r+=t,e.renderWidth=t}),a.forEach(e=>{var t=oo().toInteger(e.resizeWidth);r+=t,e.renderWidth=t}),e-=r,l=0<e?Math.floor(e/(c.length+n.length+i.length+p.length)):0,t?0<e&&c.concat(n).concat(i).forEach(e=>{r+=l,e.renderWidth+=l}):l=40,p.forEach(e=>{var t=Math.max(l,40);e.renderWidth=t,r+=t}),t){var g=d.concat(c).concat(n).concat(i).concat(p);let t=g.length-1;if(0<t){let e=o-r;if(0<e){for(;0<e&&0<=t;)e--,g[t--].renderWidth++;r=o}}}te.scrollXWidth=r,te.resizeWidthFlag++,Qr(),nr()}}},cr=(e,t)=>{var r=te.scrollXLoad,l=t.querySelectorAll(`.vxe-cell--wrapper[rowid="${e.rowid}"]`);let o=0,a=null,n=0;for(let e=0;e<l.length;e++){var i=l[e],s=i.parentElement,d=s.style,c=d.height,s=(r||(d.height=""),a||(a=getComputedStyle(s),n=a?Math.ceil(oo().toNumber(a.paddingTop)+oo().toNumber(a.paddingBottom)):0),r||(d.height=c),i?i.clientHeight:0);o=Math.max(o,Math.ceil(s+n))}return o=r?Math.max(o,e.height):o},ur=()=>{var e=Y.treeConfig,{tableData:t,isAllOverflow:r,scrollYLoad:l,scrollXLoad:o}=te;let a=re.fullAllDataRowIdData;var n=ue.value;let i=H.value,s=le.value;if(s&&!r&&(l||o||e&&n.showLine)){let r=xo(pe).handleGetRowId;s.setAttribute("data-calc-row","Y"),t.forEach(e=>{var t,e=r(e),e=a[e];e&&(t=cr(e,s),e.height=Math.max(i,t)),s.removeAttribute("data-calc-row")}),te.calcCellHeightFlag++}},pr=r=>{let{sortBy:l,sortType:o}=r;return e=>{let t;return t=l?oo().isFunction(l)?l({row:e,column:r}):oo().get(e,l):N.getCellLabel(e,r),o&&"auto"!==o?"number"===o?oo().toNumber(t):"string"===o?oo().toValueString(t):t:isNaN(t)?t:oo().toNumber(t)}},gr=()=>{let l=Y.treeConfig,{fullDataRowIdData:s,fullAllDataRowIdData:d,afterFullData:e,afterTreeFullData:t}=re;var r=ue.value,o=r.transform,a=r.children||r.childrenField;let c={};if(l){let n=0,i=xo(pe).handleGetRowId;oo().eachTree(t,(e,t,r,l)=>{var o=i(e),a=d[o],l=l.map((e,t)=>t%2==0?Number(e)+1:".").join("");a?(a.seq=l,a.treeIndex=t,a._tIndex=n):(t={row:e,rowid:o,seq:l,index:-1,$index:-1,_index:-1,treeIndex:-1,_tIndex:n,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0},d[o]=t,s[o]=t),n++,c[o]=e},{children:o?r.mapChildrenField:a}),o&&e.forEach((e,t)=>{var e=i(e),e=d[e],r=t+1;e&&(l||(e.seq=r),e._index=t)}),re.afterFullRowMaps=c}else(()=>{let a=Y.treeConfig,{afterFullData:e,fullDataRowIdData:n,fullAllDataRowIdData:i}=re,s=xo(pe).handleGetRowId,d={};e.forEach((e,t)=>{var r=s(e),l=i[r],o=t+1;l?(a||(l.seq=o),l._index=t):(l={row:e,rowid:r,seq:o,index:-1,$index:-1,_index:t,treeIndex:-1,_tIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0},i[r]=l,n[r]=l),d[r]=e}),re.afterFullRowMaps=d})()},i=()=>{var e=Y.treeConfig,t=te.isRowGroupStatus;let{fullAllDataRowIdData:i,treeExpandedMaps:s,rowGroupExpandedMaps:d}=re;var r=P.value,l=ue.value;let c=xo(pe).handleGetRowId,u=[],p={};return e&&l.transform?(e=l.children||l.childrenField,oo().eachTree(re.afterTreeFullData,(e,t,r,l,o)=>{var a=c(e),n=c(o);(!o||p[n]&&s[n])&&((o=i[a])&&(o._index=u.length),p[a]=1,u.push(e))},{children:e}),re.afterFullData=u,jr(u),u):t?(l=r.childrenField,oo().eachTree(re.afterGroupFullData,(e,t,r,l,o)=>{var a=c(e),n=c(o);(!o||p[n]&&d[n])&&((o=i[a])&&(o._index=u.length),p[a]=1,u.push(e))},{children:l}),re.afterFullData=u,jr(u),u):re.afterFullData},I=()=>{var o=Y.mouseConfig;let{isGroup:b,currentRow:a,tableColumn:C,overflowX:w,scrollbarWidth:n,overflowY:i,scrollbarHeight:s,scrollXWidth:y,columnStore:d,editStore:c,isColLoading:T}=te,{visibleColumn:E,tableHeight:R,elemStore:S,customHeight:F,customMinHeight:D,customMaxHeight:I,tHeaderHeight:M,tFooterHeight:k}=re;var O=re.xeGanttView,A=le.value;if(A&&(!re.tBodyHeight||A.clientHeight)){let{leftList:t,rightList:r}=d,u=i?n:0,p=w?s:0;var $=De.value;let g=mt.value,h=ft.value,v=xt.value;var L=je.value,H=ce.value,_=To(S["main-body-wrapper"]),P=To(S["main-body-table"]),$=($&&($.style.top=M+"px",$.style.height=_?_.offsetHeight-p+"px":""),L.x||{}),_=L.y||{},L=qe.value;let e=w?"visible":"hidden",l=("visible"===$.visible||O?(p=s,e="visible"):"hidden"!==$.visible&&!1!==$.visible||(p=0,e="hidden"),i?"visible":"hidden"),m=("hidden"===_.visible||!1===_.visible||O&&!L?(u=0,l="hidden"):"visible"===_.visible&&(u=n,l="visible"),0),f=0,x=D-M-k-p;I&&(f=Math.max(x,I-M-k-p)),(m=F?F-M-k-p:m)||P&&(m=P.clientHeight),m&&(f&&(m=Math.min(f,m)),m=Math.max(x,m));$=$e.value,_=Le.value,P=Oe.value,P=(P&&(P.style.height=p+"px",P.style.visibility=e),_e.value),A=(P&&(P.style.width=A.clientWidth-u+"px",P.style.left=L?u+"px":""),$&&(L?($.style.width=u+"px",$.style.display=i&&u?"block":""):$.style.display=""),_&&(L?_.style.display="":(_.style.width=u+"px",_.style.display="visible"===e?"block":"")),Ae.value),P=(A&&(A.style.width=u+"px",A.style.height=m+M+k+"px",A.style.visibility=l),He.value),$=(P&&(P.style.height=M+"px",P.style.display=M&&"visible"===l?"block":""),Pe.value),L=($&&($.style.height=m+"px",$.style.top=M+"px"),Be.value),_=(L&&(L.style.height=k+"px",L.style.top=M+m+"px",L.style.display=k&&"visible"===l?"block":""),K.value);return _&&(_.style.height=m+"px",_.style.top=M+"px"),re.tBodyHeight=m,["main","left","right"].forEach((i,e)=>{let s=0<e?i:"";e="left"===s;let d=[],c;s&&(d=e?t:r,c=(e?q:X).value),["header","body","footer"].forEach(t=>{var r=To(S[i+`-${t}-wrapper`]),l=To(S[i+`-${t}-scroll`]),o=To(S[i+`-${t}-table`]);if("header"===t){let e=C;var a=g,n=(b?e=E:(a&&(T||!s&&w)||(e=E),s&&a&&(e=d||[])),e.reduce((e,t)=>e+t.renderWidth,0));s&&(!b&&a?r&&(r.style.width=n?n+"px":""):r&&(r.style.width=y?y+"px":"")),l&&(l.style.height=M+"px"),o&&(o.style.width=n?n+"px":"")}else if("body"===t){l&&(l.style.maxHeight=I?f+"px":"",l.style.height=F?m+"px":"",l.style.minHeight=x+"px"),c&&(r&&(r.style.top=M+"px"),c.style.height=`${0<F?F:R+M+k+p}px`,c.style.width=d.reduce((e,t)=>e+t.renderWidth,0)+"px");let e=C;a=h,n=(e=s&&(e=E,a)?d||[]:e).reduce((e,t)=>e+t.renderWidth,0),a=(s&&(a?r&&(r.style.width=n?n+"px":""):r&&(r.style.width=y?y+"px":"")),o&&(o.style.width=n?n+"px":"",o.style.paddingRight=u&&s&&(W.firefox||W.safari)?u+"px":""),To(S[i+`-${t}-emptyBlock`]));a&&(a.style.width=n?n+"px":"")}else if("footer"===t){let e=C;a=v,n=(a&&(T||!s&&w)||(e=E),(e=s&&a?d||[]:e).reduce((e,t)=>e+t.renderWidth,0));s&&(a?r&&(r.style.width=n?n+"px":""):r&&(r.style.width=y?y+"px":"")),l&&(l.style.height=k+"px",c)&&r&&(r.style.top=`${0<F?F-k-p:R+M}px`),o&&(o.style.width=n?n+"px":"")}})}),a&&pe.setCurrentRow(a),o&&H.selected&&c.selected.row&&c.selected.column&&pe.addCellSelectedClass(),O&&O.handleUpdateStyle&&O.handleUpdateStyle(),(0,co.nextTick)()}},hr=e=>pe.triggerValidate?pe.triggerValidate(e):(0,co.nextTick)(),vr=(e,t)=>{hr("blur").catch(e=>e).then(()=>{pe.handleEdit(t,e).then(()=>hr("change")).catch(e=>e)})},mr=()=>{var t=Y.sortConfig;if(t){var r=S.value;let e=r.defaultSort;e&&(e=oo().isArray(e)?e:[e]).length&&((t.multiple?e:e.slice(0,1)).forEach((e,t)=>{var{field:e,order:r}=e;e&&r&&(e=pe.getColumnByField(e))&&e.sortable&&(e.order=r,e.sortTime=Date.now()+t)}),r.remote||pe.handleTableData(!0).then(I))}},fr=e=>{B.value.reserve&&(re.radioReserveRow=e)},xr=(e,t)=>{var r,l=re.checkboxReserveRowMap;de.value.reserve&&(r=fo(pe,e),t?l[r]=e:l[r]&&delete l[r])},br=(e,t)=>{var r=B.value.checkMethod;return e&&(t||!r||r({$table:pe,row:e}))&&(te.selectRadioRow=e,fr(e)),(0,co.nextTick)()},Cr=(e,t,r)=>(e&&!oo().isArray(e)&&(e=[e]),pe.handleBatchSelectRows(e,!!t,r),pe.checkSelectionStatus(),(0,co.nextTick)()),wr=(t,r)=>{let l=Y.treeConfig,o=te.isRowGroupStatus,{afterFullData:e,afterTreeFullData:a,afterGroupFullData:n,checkboxReserveRowMap:i,selectCheckboxMaps:s}=re;var d=ue.value,c=P.value,d=d.children||d.childrenField,u=de.value;let{checkField:p,reserve:g,checkMethod:h}=u,v=xo(pe).handleGetRowId,m=u.indeterminateField||u.halfField,f={};return p?(u=e=>{!r&&h&&!h({$table:pe,row:e})||(t&&(f[v(e)]=e),oo().set(e,p,t)),(l||o)&&m&&oo().set(e,m,!1)},l||o?oo().eachTree(e,u,{children:d}):e.forEach(u)):o?t?oo().eachTree(n,e=>{var t;!r&&h&&!h({$table:pe,row:e})||(t=v(e),f[t]=e)},{children:c.mapChildrenField}):!r&&h&&oo().eachTree(n,e=>{var t=v(e);!h({$table:pe,row:e})&&s[t]&&(f[t]=e)},{children:c.mapChildrenField}):l?t?oo().eachTree(a,e=>{var t;!r&&h&&!h({$table:pe,row:e})||(t=v(e),f[t]=e)},{children:d}):!r&&h&&oo().eachTree(a,e=>{var t=v(e);!h({$table:pe,row:e})&&s[t]&&(f[t]=e)},{children:d}):t?!r&&h?e.forEach(e=>{var t=v(e);(s[t]||h({$table:pe,row:e}))&&(f[t]=e)}):e.forEach(e=>{var t=v(e);f[t]=e}):!r&&h&&e.forEach(e=>{var t=v(e);!h({$table:pe,row:e})&&s[t]&&(f[t]=e)}),g&&(t?oo().each(f,(e,t)=>{i[t]=e}):e.forEach(e=>xr(e,!1))),te.updateCheckboxFlag++,re.selectCheckboxMaps=p?{}:f,te.isAllSelected=t,te.isIndeterminate=!1,re.treeIndeterminateRowMaps={},pe.checkSelectionStatus(),(0,co.nextTick)()},yr=a=>{var e=ue.value,t=de.value;let{transform:n,loadMethod:i}=e,s=t.checkStrictly;return new Promise(o=>{if(i){let{fullAllDataRowIdData:e,treeExpandLazyLoadedMaps:t}=re,r=fo(pe,a),l=e[r];t[r]=a,Promise.resolve(i({$table:pe,row:a})).then(e=>{if(l&&(l.treeLoaded=!0),t[r]&&delete t[r],e=oo().isArray(e)?e:[])return pe.loadTreeChildren(a,e).then(e=>{var t=re.treeExpandedMaps;return e.length&&!t[r]&&(t[r]=a),te.treeExpandedFlag++,!s&&pe.isCheckedByCheckboxRow(a)&&Cr(e,!0),(0,co.nextTick)().then(()=>{if(n)return pe.handleTableData(),gr(),(0,co.nextTick)()})})}).catch(()=>{var e=re.treeExpandLazyLoadedMaps;l&&(l.treeLoaded=!1),e[r]&&delete e[r]}).finally(()=>{te.treeExpandedFlag++,(0,co.nextTick)().then(()=>pe.recalculate()).then(()=>o())})}else o()})},Tr=(e,t)=>{var r,l=re.treeExpandedReserveRowMap;ue.value.reserve&&(r=fo(pe,e),t?l[r]=e:l[r]&&delete l[r])},Er=n=>new Promise(l=>{var e=V.value.loadMethod;if(e){var{fullAllDataRowIdData:o,rowExpandLazyLoadedMaps:a}=re;let t=fo(pe,n),r=o[t];a[t]=n,e({$table:pe,row:n,rowIndex:pe.getRowIndex(n),$rowIndex:pe.getVMRowIndex(n)}).then(()=>{var e=re.rowExpandedMaps;r&&(r.expandLoaded=!0),e[t]=n,te.rowExpandedFlag++}).catch(()=>{r&&(r.expandLoaded=!1)}).finally(()=>{var e=re.rowExpandLazyLoadedMaps;e[t]&&delete e[t],te.rowExpandedFlag++,(0,co.nextTick)().then(()=>pe.recalculate()).then(()=>pe.updateCellAreas()).then(()=>l())})}else l()}),Rr=(e,t)=>{var r,l=re.rowExpandedReserveRowMap;V.value.reserve&&(r=fo(pe,e),t?l[r]=e:l[r]&&delete l[r])},Sr=()=>(0,co.nextTick)().then(()=>{var e,{scrollXLoad:t,scrollYLoad:r}=te,{scrollXStore:l,scrollYStore:o}=re,a=R.value,n=ze.value,n=(t?({toVisibleIndex:t,visibleSize:e}=Kt(),i=Math.max(0,n.oSize?oo().toNumber(n.oSize):0),l.preloadSize=oo().toNumber(n.preSize),l.offsetSize=i,l.visibleSize=e,l.endIndex=Math.max(l.startIndex+l.visibleSize+i,l.endIndex),l.visibleStartIndex=Math.max(l.startIndex,t),l.visibleEndIndex=Math.min(l.endIndex,t+e),pe.updateScrollXData().then(()=>{Br()})):pe.updateScrollXSpace(),Zt()),{toVisibleIndex:i,visibleSize:l}=(o.rowHeight=n,te.rowHeight=n,Qt());r?(t=Math.max(0,a.oSize?oo().toNumber(a.oSize):0),o.preloadSize=oo().toNumber(a.preSize),o.offsetSize=t,o.visibleSize=l,o.endIndex=Math.max(o.startIndex+l+t,o.endIndex),o.visibleStartIndex=Math.max(o.startIndex,i),o.visibleEndIndex=Math.min(o.endIndex,i+l),pe.updateScrollYData().then(()=>{qr()})):pe.updateScrollYSpace()}),Fr=()=>{var{scrollXWidth:e,scrollYHeight:t}=te,r=re.elemStore,l=je.value,o=To(r["main-body-wrapper"]),a=To(r["main-header-table"]),r=To(r["main-footer-table"]),n=k.value,i=O.value;let s=!1;o&&(t=t>o.clientHeight,i&&(te.scrollbarWidth=l.width||i.offsetWidth-i.clientWidth||14),te.overflowY=t,s=e>o.clientWidth,n&&(te.scrollbarHeight=l.height||n.offsetHeight-n.clientHeight||14),i=a?a.clientHeight:0,t=r?r.clientHeight:0,re.tableHeight=o.offsetHeight,re.tHeaderHeight=i,re.tFooterHeight=t,te.overflowX=s,te.parentHeight=Math.max(i+t+20,pe.getParentHeight())),s&&pe.checkScrolling()},Dr=(e,t,r)=>{var l,o,a,n=le.value;return re.rceRunTime=Date.now(),n&&n.clientWidth?((n=xe.value)&&([n,l,o,a]=n.children,Yt("default",n),Yt("medium",l),Yt("small",o),Yt("mini",a)),t&&sr(),e&&dr(),Fr(),I(),Jr(),e&&el(),Sr().then(()=>{if(t&&sr(),e&&dr(),r&&ur(),I(),Fr(),e&&G(),Jr(),e&&el(),e)return Sr()})):(0,co.nextTick)()},w=(n,i,s)=>new Promise(e=>{var t=re.xeGanttView,{rceTimeout:r,rceRunTime:l}=re,o=p.value.refreshDelay||20,a=le.value;a&&a.clientWidth&&(dr(),Jr()),!r||(clearTimeout(r),l&&l+(o-5)<Date.now())?e(Dr(n,i,s)):(0,co.nextTick)(()=>{e()}),t&&t.handleLazyRecalculate&&t.handleLazyRecalculate(),re.rceTimeout=setTimeout(()=>{re.rceTimeout=void 0,Dr(n,i,s)},o)}),Ir=()=>{w(!0,!0,!0)},Mr=()=>{var e=re.visibleColumn;let t=[];e.forEach(e=>{e.aggFunc&&t.push(e)}),te.aggHandleAggColumns=t},kr=e=>{let t=[],r=[];e&&(oo().isArray(e)?e:[e]).forEach(e=>{t.push(e),r.push({field:e})}),te.rowGroupList=r,te.aggHandleFields=t,Mr()},Or=e=>{let r=P.value.mapChildrenField;r&&(oo().lastEach(e,e=>{let t=0;oo().each(e[r],e=>{e.isAggregate?t+=e.childCount||0:t++}),e.childCount=t}),pe.handlePivotTableAggregateData)&&pe.handlePivotTableAggregateData(e)},Ar=(e,h)=>{let v=e,m=e;if(h){let{rowField:s,parentField:d,childrenField:c,mapChildrenField:u}=P.value;var t=de.value;let p=t.checkField,g=t.indeterminateField||t.halfField;t=h[0];if(t&&s&&d&&c&&u){v=[],m=[];let l=t.field,o=pe.getColumnByField(l),a={},n=[],i=Bo(pe);e.forEach(e=>{var t=o?pe.getCellLabel(e,o):oo().get(e,l),t=oo().eqNull(t)?"":t;let r=a[t];r||(r=[],a[t]=r),e.isAggregate&&(e.isAggregate=void 0),r.push(e)}),oo().objectEach(a,(e,t)=>{var{fullData:e,treeData:r}=Ar(e,h.slice(1)),t={isAggregate:!0,aggData:{},groupContent:t,groupField:l,childCount:0,[s]:Po(),[d]:null,[i]:Po(),[c]:r,[u]:r};p&&(t[p]=!1),g&&(t[g]=!1),n.push(t),m.push(t),v.push(t),e.length&&v.push(...e)}),Or(n)}}return{treeData:m,fullData:v}},$r=()=>{let e=Y.data;Lr(e||[],!0).then(()=>{e&&e.length&&(re.inited=!0,re.initStatus=!0,Hr()),mr(),I(),te.isAllOverflow||(ur(),G())})},Lr=(e,t)=>{var{keepSource:r,treeConfig:l,rowGroupConfig:o,aggregateConfig:a}=Y;let{rowGroupList:n,scrollYLoad:i}=te,{scrollYStore:s,scrollXStore:d,lastScrollLeft:c,lastScrollTop:u}=re;var p=ne.value,g=ue.value;let h=V.value;var v=g.transform,m=g.children||g.childrenField;let f=[],x=(0,co.reactive)(e?e.slice(0):[]);if(5e6<x.length&&_l("vxe.error.errMaxRow",[5e6]),l&&n.length)return _l("vxe.error.noTree",["aggregate-config"]),(0,co.nextTick)();if(p.drag&&n.length)return _l("vxe.error.errConflicts",["row-config.drag","aggregate-config"]),(0,co.nextTick)();let b=!1,C=(l?v?(g.rowField||_l("vxe.error.reqProp",["tree-config.rowField"]),g.parentField||_l("vxe.error.reqProp",["tree-config.parentField"]),m||_l("vxe.error.reqProp",["tree-config.childrenField"]),g.mapChildrenField||_l("vxe.error.reqProp",["tree-config.mapChildrenField"]),m===g.mapChildrenField&&_l("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),f=oo().toArrayTree(x,{key:g.rowField,parentKey:g.parentField,children:m,mapChildren:g.mapChildrenField}),x=f.slice(0)):f=x.slice(0):(a||o)&&n.length&&(p=Ar(x,n),f=p.treeData,x=p.fullData,b=!0),te.isRowGroupStatus=b,s.startIndex=0,s.endIndex=1,d.startIndex=0,d.endIndex=1,re.cvCacheMaps={},te.isRowLoading=!0,te.scrollVMLoading=!1,te.treeExpandedFlag++,te.rowExpandedFlag++,re.insertRowMaps={},te.insertRowFlag++,re.removeRowMaps={},te.removeRowFlag++,jr(x));return re.tableFullData=x,re.tableFullTreeData=b?[]:f,re.tableFullGroupData=b?f:[],pe.cacheRowMap(t),re.tableSynchData=e,t&&(re.isResizeCellHeight=!1),r&&pe.cacheSourceMap(x),pe.clearCellAreas&&Y.mouseConfig&&(pe.clearCellAreas(),pe.clearCopyCellArea()),pe.clearMergeCells(),pe.clearMergeFooterItems(),pe.handleTableData(!0),pe.updateFooter(),pe.handleUpdateBodyMerge(),(0,co.nextTick)().then(()=>{nr(),I()}).then(()=>{Sr()}).then(()=>{var e=R.value;return C&&(s.endIndex=s.visibleSize),C&&(te.expandColumn&&"fixed"!==h.mode&&_l("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),"scroll"===e.mode&&"fixed"===h.mode&&Hl("vxe.error.notConflictProp",["virtual-y-config.mode=scroll","expand-config.mode=inside"]),Y.height||Y.maxHeight||_l("vxe.error.reqProp",["height | max-height | virtual-y-config={enabled: false}"])),(()=>{var e=Y.treeConfig,{expandColumn:t,currentRow:r,selectRadioRow:l}=te,{fullDataRowIdData:o,fullAllDataRowIdData:a,radioReserveRow:n,selectCheckboxMaps:i,treeExpandedMaps:s,rowExpandedMaps:d}=re,c=V.value,u=ue.value,p=B.value,g=de.value;l&&!a[fo(pe,l)]&&(te.selectRadioRow=null),p.reserve&&n&&o[l=fo(pe,n)]&&br(o[l].row,!0),re.selectCheckboxMaps=qt(i),te.updateCheckboxFlag++,g.reserve&&Cr(Xt(re.checkboxReserveRowMap),!0,!0),r&&!a[fo(pe,r)]&&(te.currentRow=null),re.rowExpandedMaps=t?qt(d):{},te.rowExpandedFlag++,t&&c.reserve&&pe.setRowExpand(Xt(re.rowExpandedReserveRowMap),!0),re.treeExpandedMaps=e?qt(s):{},te.treeExpandedFlag++,e&&u.reserve&&pe.setTreeExpand(Xt(re.treeExpandedReserveRowMap),!0)})(),pe.checkSelectionStatus(),pe.dispatchEvent("data-change",{visibleColumn:re.visibleColumn,visibleData:re.afterFullData},null),new Promise(o=>{(0,co.nextTick)().then(()=>Dr(!1,!1,!1)).then(()=>{Dr(!1,!0,!0),G()}).then(()=>{let e=c,t=u;var r=ze.value,l=R.value;r.scrollToLeftOnChange&&(e=0),l.scrollToTopOnChange&&(t=0),te.isRowLoading=!1,Dr(!1,!1,!1),el(),Y.showOverflow||setTimeout(()=>{w(!1,!0,!0),setTimeout(()=>w(!1,!0,!0),3e3)},2e3),i===C?_o(pe,e,t).then(()=>{Dr(!1,!0,!0),G(),el(),o()}):setTimeout(()=>{_o(pe,e,t).then(()=>{Dr(!1,!0,!0),G(),el(),o()})})})})})},Hr=()=>{var e,t,r;(()=>{var e=Y.checkboxConfig;if(e){let r=re.fullDataRowIdData;var{checkAll:e,checkRowKeys:l}=de.value;if(e)wr(!0,!0);else if(l){let t=[];l.forEach(e=>{r[e]&&t.push(r[e].row)}),Cr(t,!0,!0)}}})(),(r=Y.radioConfig)&&(r=re.fullDataRowIdData,{checkRowKey:e,reserve:t}=B.value,e)&&(r[e]&&br(r[e].row,!0),t)&&(r=Bo(pe),re.radioReserveRow={[r]:e}),(()=>{var e=Y.expandConfig;if(e){let r=re.fullDataRowIdData;var{expandAll:e,expandRowKeys:l}=V.value;if(e)pe.setAllRowExpand(!0);else if(l){let t=[];l.forEach(e=>{r[e]&&t.push(r[e].row)}),pe.setRowExpand(t,!0)}}})(),(()=>{var e=Y.treeConfig;if(e){let r=re.fullAllDataRowIdData;var{expandAll:e,expandRowKeys:l}=ue.value;if(e)pe.setAllTreeExpand(!0);else if(l){let t=[];l.forEach(e=>{e=r[e];e&&t.push(e.row)}),pe.setTreeExpand(t,!0)}}})(),(()=>{const{isRowGroupStatus:e}=te;if(e){const t=P.value;const{expandAll:r,expandGroupFields:l}=t;if(r)pe.setAllRowGroupExpand(true);else if(l&&l.length)pe.setRowGroupExpandByField(l,true)}})(),(t=Y.mergeCells)&&pe.setMergeCells(t),(r=Y.mergeHeaderCells)&&pe.setMergeHeaderCells(r),(()=>{var{mergeFooterCells:e,mergeFooterItems:t}=Y,e=e||t;e&&pe.setMergeFooterCells(e)})(),(0,co.nextTick)(()=>setTimeout(()=>pe.recalculate()))},_r=()=>{var e=te.scrollXLoad;let{visibleColumn:t,scrollXStore:r,fullColumnIdData:l}=re;e=e?t.slice(r.startIndex,r.endIndex):t.slice(0);e.forEach((e,t)=>{e=e.id,e=l[e];e&&(e.$index=t)}),te.tableColumn=e},Pr=()=>{var e=oo().orderBy(re.collectColumn,"renderSortNumber"),e=Wo(re.collectColumn=e);re.tableFullColumn=e,ar()},Br=()=>{var e=te.isScrollXBig,{mergeBodyList:t,mergeFooterList:r,scrollXStore:l}=re,{preloadSize:o,startIndex:a,endIndex:n,offsetSize:i}=l,{toVisibleIndex:s,visibleSize:d}=Kt(),e={startIndex:Math.max(0,e?s-1:s-1-i-o),endIndex:e?s+d:s+d+i+o},{startIndex:i,endIndex:o}=(l.visibleStartIndex=s-1,l.visibleEndIndex=s+d+1,Jt(t.concat(r),e,"col"),e);!(s<=a||n-d-1<=s)||a===i&&n===o||(l.startIndex=i,l.endIndex=o,pe.updateScrollXData()),pe.closeTooltip()},Vr=e=>{let n=[],i=[],s=[];var{isGroup:t,columnStore:r}=te;let{collectColumn:o,tableFullColumn:l,scrollXStore:a,fullColumnIdData:d}=re;if(t){let t=[],r=[],l=[];oo().eachTree(o,(e,t,r,l,o)=>{var a=Fo(e);o&&o.fixed&&(e.fixed=o.fixed),o&&(e.fixed||"")!==(o.fixed||"")&&_l("vxe.error.groupFixed"),a?e.visible=!!oo().findTree(e.children,e=>!Fo(e)&&e.visible):e.visible&&("left"===e.fixed?n:"right"===e.fixed?s:i).push(e)}),o.forEach(e=>{e.visible&&("left"===e.fixed?t:"right"===e.fixed?l:r).push(e)}),te.tableGroupColumn=t.concat(r).concat(l)}else l.forEach(e=>{e.visible&&("left"===e.fixed?n:"right"===e.fixed?s:i).push(e)});let c=n.concat(i).concat(s);re.visibleColumn=c,Qr();t=zr();return te.hasFixedColumn=0<n.length||0<s.length,Object.assign(r,{leftList:n,centerList:i,rightList:s}),t&&(Y.spanMethod&&Hl("vxe.error.scrollErrProp",["span-method"]),Y.footerSpanMethod&&Hl("vxe.error.scrollErrProp",["footer-span-method"]),e)&&(r=Kt().visibleSize,a.startIndex=0,a.endIndex=r,a.visibleSize=r,a.visibleStartIndex=0,a.visibleEndIndex=r),c.length===re.visibleColumn.length&&re.visibleColumn.every((e,t)=>e===c[t])||(pe.clearMergeCells(),pe.clearMergeFooterItems()),c.forEach((e,t)=>{e=e.id,e=d[e];e&&(e._index=t)}),_r(),Mr(),e?(Qr(),pe.updateFooter().then(()=>pe.recalculate()).then(()=>(pe.updateCellAreas(),pe.recalculate()))):pe.updateFooter()},Nr=e=>{let l=V.value;e=Wo(re.collectColumn=e);return re.tableFullColumn=e,te.isColLoading=!0,(()=>{var e=re.collectColumn;let s={},d={},c=1;oo().eachTree(e,(e,t,r,l,o)=>{var{id:a,field:n}=e,i=o?o.id:null,t={$index:-1,_index:-1,column:e,colid:a,index:t,items:r,parent:o||null,width:0,oLeft:0};e.parentId=i,e.defaultParentId=i,e.sortNumber=c,e.renderSortNumber=c,c++,n&&(d[n]&&_l("vxe.error.colRepet",["field",n]),d[n]=t),s[a]=t}),re.fullColumnIdData=s,re.fullColumnFieldData=d})(),Promise.resolve((()=>{var e=Y.customConfig,t=g.value,r=kt.value,{storage:l,restoreStore:o,storeOptions:a}=r,n=!0===l,a=Object.assign({},!n&&l||{},a),i=F(a.resizable,n),s=F(a.visible,n),d=F(a.fixed,n),c=F(a.sort,n),u=F(a.aggGroup,n),a=F(a.aggFunc,n);if(l&&(e?ao(r):r.enabled)&&(i||s||d||c||u||a)){if(t)return n=Wt(t),o?Promise.resolve(o({$table:pe,id:t,type:"restore",storeData:n})).then(e=>{if(e)return or(e)}).catch(e=>e):or(n);_l("vxe.error.reqProp",["id"])}})()).then(()=>{var{scrollXLoad:e,scrollYLoad:t,expandColumn:r}=te;return ar(),Vr(!0).then(()=>{te.scrollXLoad&&Br()}),pe.clearMergeCells(),pe.clearMergeFooterItems(),pe.handleTableData(!0),pe.handleAggregateSummaryData(),(e||t)&&r&&"fixed"!==l.mode&&Hl("vxe.error.scrollErrProp",["column.type=expand"]),(0,co.nextTick)().then(()=>{L&&L.syncUpdate({collectColumn:re.collectColumn,$table:pe}),pe.handleUpdateCustomColumn&&pe.handleUpdateCustomColumn();var e=ae.value;return Y.showCustomHeader&&te.isGroup&&(e.resizable||Y.resizable)&&Hl("vxe.error.notConflictProp",["show-custom-header & colgroup","column-config.resizable=false"]),te.isColLoading=!1,w(!1,!0,!0)})})},zr=e=>{var t=ze.value,e=e||re.tableFullColumn,t=!!t.enabled&&-1<t.gt&&(0===t.gt||t.gt<e.length);return te.scrollXLoad=t},jr=e=>{var t=Y.treeConfig,r=re.xeGanttView,l=R.value,o=ue.value.transform,e=e||re.tableFullData,o=(o||!t)&&!!l.enabled&&-1<l.gt&&(0===l.gt||l.gt<e.length);return te.scrollYLoad=o,r&&r.handleUpdateSYStatus&&r.handleUpdateSYStatus(o),o},Gr=(e,t)=>{let r=te.treeNodeColumn,{fullAllDataRowIdData:l,tableFullTreeData:o,treeExpandedMaps:a,treeExpandLazyLoadedMaps:n}=re;var i=ue.value;let{reserve:s,lazy:d,accordion:c,toggleMethod:u}=i,p=i.children||i.childrenField,g=i.hasChild||i.hasChildField,h=[],v=pe.getColumnIndex(r),m=pe.getVMColumnIndex(r),f=xo(pe).handleGetRowId,x=u?e.filter(e=>u({$table:pe,expanded:t,column:r,columnIndex:v,$columnIndex:m,row:e})):e;return c&&(x=x.length?[x[x.length-1]]:[],i=oo().findTree(o,e=>e===x[0],{children:p}))&&i.items.forEach(e=>{e=f(e);a[e]&&delete a[e]}),t?x.forEach(e=>{var t,r=f(e);a[r]||(t=l[r])&&(d&&e[g]&&!t.treeLoaded&&!n[r]?h.push(yr(e)):e[p]&&e[p].length&&(a[r]=e))}):x.forEach(e=>{e=f(e);a[e]&&delete a[e]}),s&&x.forEach(e=>Tr(e,t)),te.treeExpandedFlag++,Promise.all(h).then(()=>(el(),pe.recalculate()))},Ur=(e,t)=>((e,t)=>{let{fullAllDataRowIdData:r,tableFullGroupData:l,rowGroupExpandedMaps:o}=re;let{mapChildrenField:a,accordion:n}=P.value,i=xo(pe).handleGetRowId,s=e;return a&&(n&&(s=s.length?[s[s.length-1]]:[],e=oo().findTree(l,e=>fo(pe,e)===fo(pe,s[0]),{children:a}))&&e.items.forEach(e=>{e=i(e);o[e]&&delete o[e]}),t?s.forEach(e=>{var t=i(e);o[t]||r[t]&&e[a]&&e[a].length&&(o[t]=e)}):s.forEach(e=>{e=i(e);o[e]&&delete o[e]})),te.rowGroupExpandedFlag++,pe.recalculate()})(e,t).then(()=>(i(),pe.handleTableData(),te.rowGroupExpandedFlag++,gr(),(0,co.nextTick)())).then(()=>w(!0,!0,!0)).then(()=>{setTimeout(()=>{pe.updateCellAreas()},30)}),Wr=(e,t)=>{wr(t),e&&j("checkbox-all",{records:()=>pe.getCheckboxRecords(),reserves:()=>pe.getCheckboxReserveRecords(),indeterminates:()=>pe.getCheckboxIndeterminateRecords(),checked:t},e)},qr=()=>{var{isAllOverflow:e,isScrollYBig:t}=te,{mergeBodyList:r,scrollYStore:l}=re,{preloadSize:o,startIndex:a,endIndex:n,offsetSize:i}=l,e=e?i:i+1,{toVisibleIndex:s,visibleSize:d}=Qt(),i={startIndex:Math.max(0,t?s-1:s-1-i-o),endIndex:t?s+d:s+d+e+o},{startIndex:t,endIndex:e}=(l.visibleStartIndex=s-1,l.visibleEndIndex=s+d+1,Jt(r,i,"row"),i);!(s<=a||n-d-1<=s)||a===t&&n===e||(l.startIndex=t,l.endIndex=e,pe.updateScrollYData())};d=r=>function(e){var t=re.fullAllDataRowIdData;if(e){t=t[fo(pe,e)];if(t)return t[r]}return-1},c=r=>function(e){var t=re.fullColumnIdData;if(e){t=t[e.id];if(t)return t[r]}return-1};let Xr=e=>{var t=re.xeGanttView;t&&(t=t.internalData.elemStore,t=To(t["main-body-scroll"]))&&(t.scrollTop=e)},j=(e,t,r)=>{l(e,Zl(r,{$table:pe,$grid:Q,$gantt:J},t))},Kr=()=>{var e=le.value;e&&e.clientWidth&&e.clientHeight&&pe.recalculate()},Yr=(e,t)=>{pe.analyColumnWidth(),pe.recalculate().then(()=>{pe.saveCustomStore("update:width"),pe.updateCellAreas(),pe.dispatchEvent("column-resizable-change",t,e),pe.dispatchEvent("resizable-change",t,e),setTimeout(()=>pe.recalculate(!0),300)})},Zr=(e,t)=>{te.resizeHeightFlag++,pe.recalculate().then(()=>{pe.updateCellAreas(),pe.dispatchEvent("row-resizable-change",t,e),setTimeout(()=>pe.recalculate(!0),300)})},Qr=()=>{var{visibleColumn:r,fullColumnIdData:l}=re;let o=0;for(let e=0,t=r.length;e<t;e++){var a=r[e],n=l[a.id];n&&(n.oLeft=o),o+=a.renderWidth}},G=()=>{var r=te.expandColumn,{afterFullData:l,fullAllDataRowIdData:o,rowExpandedMaps:a}=re,n=V.value,i=ne.value,s=_.value,d=H.value,c=xo(pe).handleGetRowId;let u=0;for(let e=0,t=l.length;e<t;e++){var p=c(l[e]),g=o[p]||{};g.oTop=u,u+=g.resizeHeight||s.height||i.height||g.height||d,r&&a[p]&&(u+=g.expandHeight||n.height||0)}},Jr=()=>{let{expandColumn:e,scrollYLoad:s,scrollYTop:d,isScrollYBig:c}=te;var t=V.value;let u=ne.value,p=_.value,g=H.value;t=t.mode;if(e&&"fixed"===t){let{elemStore:e,fullAllDataRowIdData:n}=re;t=K.value;let i=To(e["main-body-scroll"]);if(t&&i){let a=!1;oo().arrayEach(t.children,t=>{var r=t.getAttribute("rowid")||"",l=n[r];if(l){var o=t.offsetHeight+1,r=i.querySelector(`.vxe-body--row[rowid="${r}"]`);let e=0;s?e=c&&r?r.offsetTop+r.offsetHeight:l.oTop+(l.resizeHeight||p.height||u.height||l.height||g):r&&(e=r.offsetTop+r.offsetHeight),c&&(e+=d),t.style.top=Ao(e),a||l.expandHeight!==o&&(a=!0),l.expandHeight=o}}),a&&(te.rowExpandHeightFlag++,(0,co.nextTick)(()=>{G()}))}}},el=()=>{var e=Y.treeConfig;if(e){let r=te.tableData,{fullAllDataRowIdData:i,treeExpandedMaps:s}=re,d=_.value,c=ne.value,u=H.value;e=ue.value;let{transform:p,mapChildrenField:g}=e,h=e.children||e.childrenField,v=xo(pe).handleGetRowId,m=[],f=(e,t,r)=>{var l=v(e),o=i[l]||{};let a=e[p?g:h];var n=r[t-1]||null,r=r[t+1]||null;a&&a.length&&s[l]?(m.push({row:e,prevRow:n,nextRow:r}),a.forEach((e,t)=>{var r=v(e);s[r]&&f(e,t,a)})):r?(t=v(r),l=i[t]||{},e=Co(o,d,c,u),n=Co(l,d,c,u),o.oHeight=e,o.lineHeight=Math.floor(e/2+n/2)):(o.oHeight=0,o.lineHeight=0)};r.forEach((e,t)=>{f(e,t,r)}),oo().lastArrayEach(m,({row:e,nextRow:t})=>{var r=v(e),e=e[p?g:h],r=i[r];if(r){let l=Co(r,d,c,u),o=0;e.forEach(e=>{var t=v(e),r=i[t]||{},e=e[p?g:h];s[t]&&e&&e.length?(l+=r.oHeight||0,o+=r.oHeight||0):(t=Co(r,d,c,u),r.oHeight=t,r.lineHeight=t,l+=t,o+=t)}),t&&(e=v(t),t=i[e]||{},e=Co(r,d,c,u),t=Co(t,d,c,u),l+=e,o+=Math.floor(e/2+t/2)),r.lineHeight=o,r.oHeight=l}})}},tl=()=>{var e=re.elemStore,t=K.value,e=To(e["main-body-scroll"]);t&&e&&(t.scrollTop=e.scrollTop)},rl=(N={dispatchEvent:j,getEl(){return le.value},clearAll(){return Ko(pe)},syncData(){return _l("vxe.error.delFunc",["syncData","getData"]),(0,co.nextTick)().then(()=>(te.tableData=[],l("update:data",re.tableFullData),(0,co.nextTick)()))},updateData(){let{scrollXLoad:e,scrollYLoad:t}=te;return pe.handleTableData(!0).then(()=>{if(pe.updateFooter(),e||t)return e&&pe.updateScrollXSpace(),t&&pe.updateScrollYSpace(),pe.refreshScroll()}).then(()=>(pe.updateCellAreas(),w(!0,!0,!0))).then(()=>{setTimeout(()=>w(!1,!0,!0),50)})},loadData(e){let t=re.initStatus;return Lr(e,!1).then(()=>(re.inited=!0,re.initStatus=!0,t||Hr(),w(!1,!0,!0)))},reloadData(e){return pe.clearAll().then(()=>(re.inited=!0,re.initStatus=!0,Lr(e,!0))).then(()=>(Hr(),w(!1,!0,!0)))},setRow(t,o){if(t&&o){let e=t,l=(oo().isArray(t)||(e=[t]),Bo(pe));e.forEach(e=>{var t=fo(pe,e),r=oo().clone(Object.assign({},o),!0);oo().set(r,l,t),Object.assign(e,r)})}return(0,co.nextTick)()},reloadRow(e,t,r){var l=Y.keepSource,o=te.tableData,a=re.sourceDataRowIdData;if(l){if(pe.isAggregateRecord(e))return(0,co.nextTick)();l=a[fo(pe,e)];l&&e&&(r?(a=oo().clone(oo().get(t||e,r),!0),oo().set(e,r,a),oo().set(l,r,a)):(r=Bo(pe),a=fo(pe,e),t=oo().clone(Object.assign({},t),!0),oo().set(t,r,a),oo().destructuring(l,Object.assign(e,t)))),te.tableData=o.slice(0)}else _l("vxe.error.reqProp",["keep-source"]);return(0,co.nextTick)()},getParams(){return Y.params},loadTreeChildren(l,e){let t=Y.keepSource,{tableSourceData:o,fullDataRowIdData:i,fullAllDataRowIdData:s,sourceDataRowIdData:a}=re;var r=ue.value;let{transform:n,mapChildrenField:d}=r,c=r.children||r.childrenField,u=s[fo(pe,l)],p=u?u.level:0;return N.createData(e).then(e=>{if(t){let t=fo(pe,l);var r=oo().findTree(o,e=>t===fo(pe,e),{children:c});r&&(r.item[c]=oo().clone(e,!0)),e.forEach(e=>{var t=fo(pe,e);a[t]=oo().clone(e,!0)})}return oo().eachTree(e,(e,t,r,l,o,a)=>{var n=fo(pe,e),e={row:e,rowid:n,seq:-1,index:t,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:r,parent:o||u.row,level:p+a.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};i[n]=e,s[n]=e},{children:c}),l[c]=e,n&&(l[d]=oo().clone(e,!1)),gr(),e})},loadColumn(e){let{lastScrollLeft:o,lastScrollTop:a}=re;e=oo().mapTree(e,e=>(0,co.reactive)(Qo.createColumn(pe,e)));return Nr(e).then(()=>{let e=o,t=a;var r=ze.value,l=R.value;r.scrollToLeftOnChange&&(e=0),l.scrollToTopOnChange&&(t=0),_o(pe,e,t)})},reloadColumn(e){return N.clearAll().then(()=>N.loadColumn(e))},getRowNode(e){if(e){var t=re.fullAllDataRowIdData,e=e.getAttribute("rowid");if(e){t=t[e];if(t)return{rowid:t.rowid,item:t.row,index:t.index,items:t.items,parent:t.parent}}}return null},getColumnNode(e){if(e){var t=re.fullColumnIdData,e=e.getAttribute("colid");if(e){t=t[e];if(t)return{colid:t.colid,item:t.column,index:t.index,items:t.items,parent:t.parent}}}return null},getRowSeq:d("seq"),getRowIndex:d("index"),getVTRowIndex:d("_index"),getVMRowIndex:d("$index"),getColumnIndex:c("index"),getVTColumnIndex:c("_index"),getVMColumnIndex:c("$index"),createData(e){return(0,co.nextTick)().then(()=>(0,co.reactive)(z.defineField(e)))},createRow(e){let t=oo().isArray(e);return t||(e=[e||{}]),N.createData(e).then(e=>t?e:e[0])},revertData(e,l){var{keepSource:t,treeConfig:r}=Y;let{fullAllDataRowIdData:o,fullDataRowIdData:a,tableSourceData:n,sourceDataRowIdData:i,tableFullData:s,afterFullData:d,removeRowMaps:c}=re;var u=ue.value.transform;let p=xo(pe).handleGetRowId;if(!t)return _l("vxe.error.reqProp",["keep-source"]),(0,co.nextTick)();let g=e,h=(e?oo().isArray(e)||(g=[e]):g=oo().toArray(pe.getUpdateRecords()),!1);return g.length&&g.forEach(e=>{var t,e=p(e),r=o[e];r&&(r=r.row,pe.isInsertByRow(r)||(t=i[e])&&r&&(l?oo().set(r,l,oo().clone(oo().get(t,l),!0)):oo().destructuring(r,oo().clone(t,!0)),!a[e])&&pe.isRemoveByRow(r)&&(c[e]&&delete c[e],s.unshift(r),d.unshift(r),h=!0))}),e?(h&&(te.removeRowFlag++,pe.updateFooter(),pe.cacheRowMap(!1),pe.handleTableData(r&&u),r&&u||pe.updateAfterDataIndex(),pe.checkSelectionStatus(),te.scrollYLoad)&&pe.updateScrollYSpace(),(0,co.nextTick)().then(()=>(pe.updateCellAreas(),w(!1,!0,!0)))):pe.reloadData(n)},clearData(e,t){let{tableFullData:r,visibleColumn:l}=re;return arguments.length?e&&!oo().isArray(e)&&(e=[e]):e=r,t?e.forEach(e=>oo().set(e,t,null)):e.forEach(t=>{l.forEach(e=>{e.field&&yo(t,e,null)})}),(0,co.nextTick)()},getCellElement(e,t){var r=re.elemStore,t=bo(pe,t);if(!t)return null;var e=fo(pe,e),l=To(r["main-body-scroll"]),o=To(r["left-body-scroll"]),r=To(r["right-body-scroll"]);let a;return t&&(t.fixed&&("left"===t.fixed?o&&(a=o):r&&(a=r)),a=a||l)?a.querySelector(`.vxe-body--row[rowid="${e}"] .`+t.id):null},getCellLabel(t,r){r=bo(pe,r);if(!r)return null;var l=r.formatter,o=wo(t,r);let a=o;if(l){let e;var n=re.fullAllDataRowIdData,i=fo(pe,t),s=r.id,d=n[i];if(d&&(e=(e=d.formatData)||(n[i].formatData={}),d)&&e[s]&&e[s].value===o)return e[s].label;n={cellValue:o,row:t,rowIndex:pe.getRowIndex(t),column:r,columnIndex:pe.getColumnIndex(r)};a=oo().isString(l)?(d=(i=Yl.get(l))?i.tableCellFormatMethod||i.cellFormatMethod:null)?d(n):"":oo().isArray(l)?(r=(t=Yl.get(l[0]))?t.tableCellFormatMethod||t.cellFormatMethod:null)?r(n,...l.slice(1)):"":l(n),e&&(e[s]={value:o,label:a})}return a},getFooterCellLabel(r,l){l=bo(pe,l);if(!l)return null;var o=l.footerFormatter,a=pe.getVTColumnIndex(l);let n="",i=n=oo().isArray(r)?r[a]:oo().get(r,l.field);if(o){let e;var s=te.footerTableData,d=re.footerFullDataRowData,c=l.id,s=s.indexOf(r);let t=null;if(-1<s&&(t=(t=d[s])||(d[s]={}),e=(e=t.formatData)||(d[s].formatData={}),t)&&e[c]&&e[c].value===n)return e[c].label;d={cellValue:n,itemValue:n,row:r,items:r,$rowIndex:s,column:l,_columnIndex:a,columnIndex:pe.getColumnIndex(l)};i=oo().isString(o)?(s=(r=Yl.get(o))?r.tableFooterCellFormatMethod:null)?s(d):"":oo().isArray(o)?(l=(a=Yl.get(o[0]))?a.tableFooterCellFormatMethod:null)?l(d,...o.slice(1)):"":o(d),e&&(e[c]={value:n,label:i})}return i},isInsertByRow(e){e=fo(pe,e);return!!te.insertRowFlag&&!!re.insertRowMaps[e]},isRemoveByRow(e){e=fo(pe,e);return!!te.removeRowFlag&&!!re.removeRowMaps[e]},removeInsertRow(){var e=re.insertRowMaps;return pe.remove(oo().values(e))},isUpdateByRow(e,t){var r=Y.keepSource,{tableFullColumn:l,fullDataRowIdData:o,sourceDataRowIdData:a}=re;if(r){r=oo().isString(e)||oo().isNumber(e)?e:fo(pe,e),e=o[r];if(!e)return!1;var n=e.row,i=a[r];if(i){if(1<arguments.length)return!jt(i,n,t);for(let e=0,t=l.length;e<t;e++){var s=l[e].field;if(s&&!jt(i,n,s))return!0}}}return!1},getColumns(e){var t=re.visibleColumn;return oo().isUndefined(e)?t.slice(0):t[e]},getColid(e){e=bo(pe,e);return e?e.id:null},getColumnById(e){var t=re.fullColumnIdData;return e&&t[e]?t[e].column:null},getColumnByField(e){var t=re.fullColumnFieldData;return e&&t[e]?t[e].column:null},getParentColumn(e){var t=re.fullColumnIdData,e=bo(pe,e);return e&&e.parentId&&t[e.parentId]?t[e.parentId].column:null},getTableColumn(){return{collectColumn:re.collectColumn.slice(0),fullColumn:re.tableFullColumn.slice(0),visibleColumn:re.visibleColumn.slice(0),tableColumn:te.tableColumn.slice(0)}},moveColumnTo(e,r,t){var{fullColumnIdData:l,visibleColumn:o}=re,{dragToChild:t,dragPos:a,isCrossDrag:n}=Object.assign({},t),e=bo(pe,e);let i=null;var s=e?l[e.id]:null;let d="left";if(oo().isNumber(r)){if(s&&r){let e=s.items,t=s._index+r;n&&(e=o,t=s._index+r),0<t&&t<e.length-1&&(i=e[t]),0<r&&(d="right")}}else{n=(i=bo(pe,r))?l[i.id]:null;s&&n&&n._index>s._index&&(d="right")}return pe.handleColDragSwapEvent(null,!0,e,i,a||d,!0===t)},moveRowTo(e,r,t){var l=Y.treeConfig,{fullAllDataRowIdData:o,afterFullData:a}=re,{dragToChild:t,dragPos:n,isCrossDrag:i}=Object.assign({},t),s=ue.value,e=No(pe,e);let d=null,c="top";var u=e?o[fo(pe,e)]:null;if(oo().isNumber(r)){if(u&&r){let e=a,t=u._index+r;l&&(e=u.items,s.transform)&&(t=u.treeIndex+r,i)&&(e=a,t=u._index+r),0<=t&&t<=e.length-1&&(d=e[t]),0<r&&(c="bottom")}}else{l=(d=No(pe,r))?o[fo(pe,d)]:null;u&&l&&l._index>u._index&&(c="bottom")}return pe.handleRowDragSwapEvent(null,!0,e,d,n||c,!0===t)},getFullColumns(){var e=re.collectColumn;return e.slice(0)},getData(e){var t=Y.data||re.tableSynchData;return oo().isUndefined(e)?t.slice(0):t[e]},getCheckboxRecords(e){var t=Y.treeConfig,r=te.updateCheckboxFlag;let{tableFullData:l,afterFullData:o,tableFullTreeData:a,fullDataRowIdData:n,afterFullRowMaps:i,selectCheckboxMaps:s}=re;var d=ue.value,{transform:c,mapChildrenField:u}=d;let p=de.value.checkField;d=d.children||d.childrenField;let g=[];if(r)if(p)g=t?(r=e?c?a:l:c?a:o,oo().filterTree(r,e=>oo().get(e,p),{children:c?u:d})):(e?l:o).filter(e=>oo().get(e,p));else{let r=e||t&&!c?n:i;oo().each(s,(e,t)=>{r[t]&&g.push(n[t].row)})}return g},getTreeRowChildren(t){var r=Y.treeConfig,l=re.fullAllDataRowIdData,o=ue.value,{transform:a,mapChildrenField:n}=o,o=o.children||o.childrenField;if(t&&r){let e;if(e=oo().isString(t)?t:fo(pe,t)){r=l[e],t=r?r.row:null;if(t)return t[a?n:o]||[]}}return[]},getTreeRowLevel(t){var r=Y.treeConfig,l=re.fullAllDataRowIdData;if(t&&r){let e;if(e=oo().isString(t)?t:fo(pe,t)){r=l[e];if(r)return r.level}}return-1},getTreeParentRow(t){var r=Y.treeConfig,l=re.fullAllDataRowIdData;if(t&&r){let e;if(e=oo().isString(t)?t:fo(pe,t)){r=l[e];if(r)return r.parent}}return null},getParentRow(e){return Hl("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),pe.getTreeParentRow(e)},getRowById(e){var t=re.fullAllDataRowIdData,e=oo().eqNull(e)?"":encodeURIComponent(e||"");return t[e]?t[e].row:null},getRowid(e){return fo(pe,e)},getTableData(){var{tableData:e,footerTableData:t}=te,{tableFullData:r,afterFullData:l,tableFullTreeData:o}=re;return{fullData:(Y.treeConfig?o:r).slice(0),visibleData:l.slice(0),tableData:e.slice(0),footerData:t.slice(0)}},getFullData(){var e,t,r,l,o=Y.treeConfig,{tableFullData:a,tableFullTreeData:n}=re;return o?({transform:e,mapChildrenField:t,rowField:r,parentField:l}=o=ue.value,o=o.children||o.childrenField,e?oo().toArrayTree(oo().toTreeArray(n,{children:t}),{key:r,parentKey:l,children:o,mapChildren:t}):n.slice(0)):a.slice(0)},setColumnFixed(e,t){let r=!1;var l=oo().isArray(e)?e:[e],o=ae.value,a=Lt.value;for(let e=0;e<l.length;e++){var n=l[e],n=bo(pe,n),n=qo(pe,n);if(n&&n.fixed!==t){if(!n.fixed&&a)return lo.VxeUI.modal&&lo.VxeUI.modal.message({status:"error",content:Bl("vxe.table.maxFixedCol",[o.maxFixedSize])}),(0,co.nextTick)();oo().eachTree([n],e=>{e.fixed=t,e.renderFixed=t}),z.saveCustomStore("update:fixed"),r=r||!0}}return r?N.refreshColumn():(0,co.nextTick)()},clearColumnFixed(e){let t=!1;return(oo().isArray(e)?e:[e]).forEach(e=>{e=bo(pe,e),e=qo(pe,e);e&&e.fixed&&(oo().eachTree([e],e=>{e.fixed=null,e.renderFixed=null}),z.saveCustomStore("update:fixed"),t=t||!0)}),t?N.refreshColumn():(0,co.nextTick)()},hideColumn(e){let t=!1;return(oo().isArray(e)?e:[e]).forEach(e=>{e=bo(pe,e);e&&e.visible&&(e.visible=!1,t=t||!0)}),t?z.handleCustom():(0,co.nextTick)()},showColumn(e){let t=!1;return(oo().isArray(e)?e:[e]).forEach(e=>{e=bo(pe,e);e&&!e.visible&&(e.visible=!0,t=t||!0)}),t?z.handleCustom():(0,co.nextTick)()},setColumnWidth(e,t){var r=re.elemStore;let l=!1;e=oo().isArray(e)?e:[e];let o=oo().toInteger(t);return ko(t)&&(r=(t=To(r["main-body-scroll"]))?t.clientWidth-1:0,o=Math.floor(o*r)),(o&&(e.forEach(e=>{e=bo(pe,e);e&&(e.resizeWidth=o,l=l||!0)}),l)?pe.refreshColumn():(0,co.nextTick)()).then(()=>({status:l}))},getColumnWidth(e){e=bo(pe,e);return e?e.renderWidth:0},resetColumn(e){return Hl("vxe.error.delFunc",["resetColumn","resetCustom"]),pe.resetCustom(e)},refreshColumn(e){return e&&Pr(),Vr(!0).then(()=>pe.refreshScroll()).then(()=>w(!1,!0,!0))},setRowHeightConf(e){let r=re.fullAllDataRowIdData,l=!1;return e&&(oo().each(e,(e,t)=>{t=r[t];t&&(e=oo().toInteger(e))&&(t.resizeHeight=e,l=l||!0)}),l)&&(re.isResizeCellHeight=!0,te.resizeHeightFlag++),(0,co.nextTick)().then(()=>(G(),{status:l}))},getRowHeightConf(l){let{fullAllDataRowIdData:o,afterFullData:e}=re,a=xo(pe).handleGetRowId,n=ne.value,i=_.value,s=H.value,d={};return e.forEach(e=>{var t,e=a(e),r=o[e];r&&((t=r.resizeHeight)||l)&&(t=t||i.height||n.height||r.height||s,d[e]=t)}),d},recalcRowHeight(e){let r=re.fullAllDataRowIdData;e=oo().isArray(e)?e:[e];let l=le.value;if(l){let t=xo(pe).handleGetRowId;l.setAttribute("data-calc-row","Y"),e.forEach(e=>{e=oo().isString(e)||oo().isNumber(e)?e:t(e),e=r[e];e&&(e.resizeHeight=cr(e,l)),l.removeAttribute("data-calc-row")}),te.calcCellHeightFlag++}return(0,co.nextTick)()},setRowHeight(e,t){let r=re.fullAllDataRowIdData,l=!1;e=oo().isArray(e)?e:[e];let o=oo().toInteger(t);if(ko(t)&&(t=(t=(t=x.value)?t.$el:null)?t.clientHeight-1:0,o=Math.floor(o*t)),o){let t=xo(pe).handleGetRowId;e.forEach(e=>{e=oo().isString(e)||oo().isNumber(e)?e:t(e),e=r[e];e&&(e.resizeHeight=o,l=l||!0)}),l&&(re.isResizeCellHeight=!0,te.resizeHeightFlag++)}return(0,co.nextTick)().then(()=>({status:l}))},getRowHeight(e){var t=re.fullAllDataRowIdData,r=ne.value,l=_.value,o=H.value,t=t[oo().isString(e)||oo().isNumber(e)?e:fo(pe,e)];return t?t.resizeHeight||l.height||r.height||t.height||o:0},refreshScroll(){let{elemStore:e,lastScrollLeft:t,lastScrollTop:r}=re,l=To(e["main-header-scroll"]),o=To(e["main-body-scroll"]),a=To(e["main-footer-scroll"]),n=To(e["left-body-scroll"]),i=To(e["right-body-scroll"]),s=k.value,d=O.value;return new Promise(e=>{if(t||r)return _o(pe,t,r).then(()=>{setTimeout(e,10)});re.intoRunScroll=!0,ho(d,r),ho(o,r),ho(n,r),ho(i,r),vo(s,t),vo(o,t),vo(l,t),vo(a,t),setTimeout(()=>{re.intoRunScroll=!1,e()},10)})},recalculate(e){e=!!e;return w(e,e,e)},openTooltip(e,t){var r=be.value;return r&&r.open?r.open(e,t):(0,co.nextTick)()},closeTooltip(){var e=te.tooltipStore,t=oe.value,r=be.value;return e.visible&&(Object.assign(e,{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}}),t)&&t.close&&t.close(),r&&r.close&&r.close(),(0,co.nextTick)()},isAllCheckboxChecked(){return te.isAllSelected},isAllCheckboxIndeterminate(){return!te.isAllSelected&&te.isIndeterminate},getCheckboxIndeterminateRecords(e){var t=Y.treeConfig;let{fullDataRowIdData:o,treeIndeterminateRowMaps:a}=re;if(t){let r=[],l=[];return oo().each(a,(e,t)=>{e&&(r.push(e),o[t])&&l.push(e)}),e?r:l}return[]},setCheckboxRow(e,t){return e&&!oo().isArray(e)&&(e=[e]),Cr(e,t,!0)},setCheckboxRowKey(e,t){let r=re.fullAllDataRowIdData,l=(oo().isArray(e)||(e=[e]),[]);return e.forEach(e=>{e=r[e];e&&l.push(e.row)}),Cr(l,t,!0)},isCheckedByCheckboxRow(e){var t=te.updateCheckboxFlag,r=re.selectCheckboxMaps,l=de.value.checkField;return l?oo().get(e,l):!!t&&!!r[fo(pe,e)]},isCheckedByCheckboxRowKey(e){var t=te.updateCheckboxFlag,{fullAllDataRowIdData:r,selectCheckboxMaps:l}=re,o=de.value.checkField;return o?!!(r=r[e])&&oo().get(r.row,o):!!t&&!!l[e]},isIndeterminateByCheckboxRow(e){var t=re.treeIndeterminateRowMaps;return!!t[fo(pe,e)]&&!pe.isCheckedByCheckboxRow(e)},isIndeterminateByCheckboxRowKey(e){var t=re.treeIndeterminateRowMaps;return!!t[e]&&!pe.isCheckedByCheckboxRowKey(e)},toggleCheckboxRow(e){var t=re.selectCheckboxMaps,r=de.value.checkField,r=r?!oo().get(e,r):!t[fo(pe,e)];return z.handleBatchSelectRows([e],r,!0),z.checkSelectionStatus(),(0,co.nextTick)()},setAllCheckboxRow(e){return wr(e,!0)},getRadioReserveRecord(e){var l=Y.treeConfig,{fullDataRowIdData:t,radioReserveRow:o,afterFullData:a}=re,r=B.value,n=ue.value,n=n.children||n.childrenField;if(r.reserve&&o){let r=fo(pe,o);if(e){if(!t[r])return o}else{let t=Bo(pe);if(l){if(oo().findTree(a,e=>r===oo().get(e,t),{children:n}))return o}else if(!a.some(e=>r===oo().get(e,t)))return o}}return null},clearRadioReserve(){return(re.radioReserveRow=null,co.nextTick)()},getCheckboxReserveRecords(l){var e=Y.treeConfig;let{afterFullData:o,fullDataRowIdData:a,checkboxReserveRowMap:n}=re;var t=de.value,i=ue.value,i=i.children||i.childrenField;let s=[];if(t.reserve){let t=xo(pe).handleGetRowId,r={};e?oo().eachTree(o,e=>{r[t(e)]=1},{children:i}):o.forEach(e=>{r[t(e)]=1}),oo().each(n,(e,t)=>{e&&(l?a[t]||s.push(e):r[t]||s.push(e))})}return s},clearCheckboxReserve(){return re.checkboxReserveRowMap={},(0,co.nextTick)()},toggleAllCheckboxRow(){return Wr(null,!te.isAllSelected),(0,co.nextTick)()},clearCheckboxRow(){let t=Y.treeConfig;var e=re.tableFullData,r=ue.value,r=r.children||r.childrenField,l=de.value;let{checkField:o,reserve:a}=l,n=l.indeterminateField||l.halfField;return o&&(l=e=>{t&&n&&oo().set(e,n,!1),oo().set(e,o,!1)},t?oo().eachTree(e,l,{children:r}):e.forEach(l)),a&&e.forEach(e=>xr(e,!1)),te.isAllSelected=!1,te.isIndeterminate=!1,re.selectCheckboxMaps={},re.treeIndeterminateRowMaps={},te.updateCheckboxFlag++,(0,co.nextTick)()},setCurrentRow(e){var t=re.xeGanttView,r=ne.value,l=le.value;return N.clearCurrentRow(),te.currentRow=e,(r.isCurrent||Y.highlightCurrentRow)&&l&&oo().arrayEach(l.querySelectorAll(`[rowid="${fo(pe,e)}"]`),e=>go(e,"row--current")),t&&t.handleUpdateCurrentRow&&t.handleUpdateCurrentRow(e),(0,co.nextTick)()},isCheckedByRadioRow(e){var t=te.selectRadioRow;return!(!e||!t)&&pe.eqRow(t,e)},isCheckedByRadioRowKey(e){var t=te.selectRadioRow;return!!t&&e===fo(pe,t)},setRadioRow(e){return br(e,!0)},setRadioRowKey(e){var t=re.fullAllDataRowIdData,t=t[e];return t?br(t.row,!0):(0,co.nextTick)()},clearCurrentRow(){var e=re.xeGanttView,t=le.value;return te.currentRow=null,re.hoverRow=null,t&&oo().arrayEach(t.querySelectorAll(".row--current"),e=>po(e,"row--current")),e&&e.handleUpdateCurrentRow&&e.handleUpdateCurrentRow(),(0,co.nextTick)()},clearRadioRow(){return(te.selectRadioRow=null,co.nextTick)()},getCurrentRecord(e){var t=te.currentRow,{fullDataRowIdData:r,afterFullRowMaps:l}=re;if(ne.value.isCurrent||Y.highlightCurrentRow){var o=fo(pe,t);if(e){if(r[o])return t}else if(l[o])return t}return null},getRadioRecord(e){var{fullDataRowIdData:t,afterFullRowMaps:r}=re,l=te.selectRadioRow;if(l){var o=fo(pe,l);if(e){if(t[o])return l}else if(r[o])return l}return null},getCurrentColumn(){return ae.value.isCurrent||Y.highlightCurrentColumn?te.currentColumn:null},setCurrentColumn(e){var t=Y.mouseConfig,r=ce.value;let l=t&&r.selected;t=bo(pe,e);return t&&(pe.clearCurrentColumn(),te.currentColumn=t),(0,co.nextTick)().then(()=>{l&&pe.addCellSelectedClass()})},clearCurrentColumn(){return(te.currentColumn=null,co.nextTick)()},setPendingRow(e,t){let r=xo(pe).handleGetRowId,l=re.pendingRowMaps;return e&&!oo().isArray(e)&&(e=[e]),t?e.forEach(e=>{var t=r(e);t&&!l[t]&&(l[t]=e)}):e.forEach(e=>{e=r(e);e&&l[e]&&delete l[e]}),te.pendingRowFlag++,(0,co.nextTick)()},togglePendingRow(e){let r=xo(pe).handleGetRowId,l=re.pendingRowMaps;return(e=e&&!oo().isArray(e)?[e]:e).forEach(e=>{var t=r(e);t&&(l[t]?delete l[t]:l[t]=e)}),te.pendingRowFlag++,(0,co.nextTick)()},hasPendingByRow(e){return N.isPendingByRow(e)},isPendingByRow(e){var t=re.pendingRowMaps;return!!t[fo(pe,e)]},getPendingRecords(){let{fullAllDataRowIdData:r,pendingRowMaps:e}=re,l=[];return oo().each(e,(e,t)=>{r[t]&&l.push(e)}),l},clearPendingRow(){return re.pendingRowMaps={},te.pendingRowFlag++,(0,co.nextTick)()},sort(e,t){let{multiple:r,remote:l,orders:a}=S.value;return e&&oo().isString(e)&&(e=[{field:e,order:t}]),(e=oo().isArray(e)?e:[e]).length?(r||rr(),(r?e:[e[0]]).forEach((e,t)=>{let{field:r,order:l}=e,o=r;(o=oo().isString(r)?N.getColumnByField(r):o)&&o.sortable&&(a&&-1===a.indexOf(l)&&(l=Ut(o)),o.order!==l&&(o.order=l),o.sortTime=Date.now()+t)}),l||z.handleTableData(!0),(0,co.nextTick)().then(()=>(G(),N.updateCellAreas(),I()))):(0,co.nextTick)()},setSort(e,t){return tr(null,e,t)},setSortByEvent(e,t){return tr(e,t,!0)},clearSort(e){var t=S.value;return e?(e=bo(pe,e))&&(e.order=null):rr(),t.remote||pe.handleTableData(!0),(0,co.nextTick)().then(()=>(G(),I()))},clearSortByEvent(e,t){var r=re.tableFullColumn,l=S.value,o=l.multiple;let a=[],n=null;return e&&(t?(n=bo(pe,t))&&(n.order=null):r.forEach(e=>{e.order&&(e.order=null,a.push(e))}),l.remote||pe.handleTableData(!0),(n=o?n:a[0])&&pe.handleColumnSortEvent(e,n),o)&&a.length&&(t={$table:pe,$event:e,cols:a,sortList:[]},j("clear-all-sort",t,e)),(0,co.nextTick)().then(()=>(G(),I()))},isSort(e){return e?!!(e=bo(pe,e))&&e.sortable&&!!e.order:0<N.getSortColumns().length},getSortColumns(){var{multiple:e,chronological:t}=S.value;let l=[];var r=re.tableFullColumn;return r.forEach(e=>{var{field:t,order:r}=e;e.sortable&&r&&l.push({column:e,field:t,property:t,order:r,sortTime:e.sortTime})}),e&&t&&1<l.length?oo().orderBy(l,"sortTime"):l},setFilterByEvent(e,t,r){t=bo(pe,t);return t&&t.filters?(t.filters=zo(r||[],t.id),pe.handleColumnConfirmFilter(t,e)):(0,co.nextTick)()},closeFilter(){var e=te.filterStore,{column:t,visible:r}=e;return e.isAllSelected=!1,e.isIndeterminate=!1,e.visible=!1,r&&(e=t?t.field:null,j("filter-visible",{column:t,property:e,field:e,filterList:()=>pe.getCheckedFilters(),visible:!1},null)),(0,co.nextTick)()},isActiveFilterByColumn(e){e=bo(pe,e);return e?e.filters&&e.filters.some(e=>e.checked):0<pe.getCheckedFilters().length},isFilter(e){return N.isActiveFilterByColumn(e)},clearFilterByEvent(e,l){var t=te.filterStore,o=re.tableFullColumn,r=at.value,a=r.multiple;let n=[],i=null;if(l?(i=bo(pe,l))&&pe.handleClearFilter(i):o.forEach(e=>{e.filters&&(n.push(e),pe.handleClearFilter(e))}),l&&i===t.column||Object.assign(t,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),r.remote||pe.updateData(),i=a?i:n[0]){o=()=>pe.getCheckedFilters();let t=[],r=[];i.filters.forEach(e=>{e.checked&&(t.push(e.value),r.push(e.data))});l={$table:pe,$event:e,column:i,field:i.field,property:i.field,values:t,datas:r,filters:o,filterList:o};pe.dispatchEvent("filter-change",l,e),pe.dispatchEvent("clear-filter",l,e)}return a&&n.length&&(t={$table:pe,$event:e,cols:n,filterList:[]},j("clear-all-filter",t,e)),(0,co.nextTick)()},isRowExpandLoaded(e){var t=re.fullAllDataRowIdData,t=t[fo(pe,e)];return t&&!!t.expandLoaded},clearRowExpandLoaded(e){var{fullAllDataRowIdData:t,rowExpandLazyLoadedMaps:r}=re,l=V.value.lazy,e=fo(pe,e),t=t[e];return l&&t&&(t.expandLoaded=!1,delete r[e]),te.rowExpandedFlag++,(0,co.nextTick)()},reloadRowExpand(e){var t=re.rowExpandLazyLoadedMaps,r=V.value.lazy,l=fo(pe,e);return r&&!t[l]&&pe.clearRowExpandLoaded(e).then(()=>Er(e)),(0,co.nextTick)()},reloadExpandContent(e){return Hl("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),pe.reloadRowExpand(e)},toggleRowExpand(e){return pe.setRowExpand(e,!pe.isRowExpandByRow(e))},setAllRowExpand(e){var t=ue.value,{tableFullData:r,tableFullTreeData:l}=re,t=t.children||t.childrenField;let o=[];return Y.treeConfig?oo().eachTree(l,e=>{o.push(e)},{children:t}):o=r,N.setRowExpand(o,e)},setRowExpand(e,t){let r=te.expandColumn,{fullAllDataRowIdData:l,rowExpandedMaps:o,rowExpandLazyLoadedMaps:a}=re,n=xo(pe).handleGetRowId;let{reserve:i,lazy:s,accordion:d,toggleMethod:c}=V.value,u=[],p=r?pe.getColumnIndex(r):-1,g=r?pe.getVMColumnIndex(r):-1;return e&&(oo().isArray(e)||(e=[e]),d&&(o={},re.rowExpandedMaps=o,e=e.slice(e.length-1,e.length)),e=c?e.filter(e=>c({$table:pe,expanded:t,column:r,columnIndex:p,$columnIndex:g,row:e,rowIndex:pe.getRowIndex(e),$rowIndex:pe.getVMRowIndex(e)})):e,t?e.forEach(e=>{var t,r=n(e);o[r]||(t=l[r],s&&!t.expandLoaded&&!a[r]?u.push(Er(e)):o[r]=e)}):e.forEach(e=>{e=n(e);o[e]&&delete o[e]}),i)&&e.forEach(e=>Rr(e,t)),te.rowExpandedFlag++,Promise.all(u).then(()=>(0,co.nextTick)()).then(()=>w(!0,!0,!0)).then(()=>(G(),Jr(),tl(),pe.updateCellAreas()))},isRowExpandByRow(e){var t=te.rowExpandedFlag,r=re.rowExpandedMaps,e=fo(pe,e);return!!t&&!!r[e]},isExpandByRow(e){return Hl("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),N.isRowExpandByRow(e)},clearRowExpand(){var{tableFullData:e,scrollYStore:t}=re,r=V.value.reserve;let l=pe.getRowExpandRecords();return re.rowExpandedMaps={},r&&e.forEach(e=>Rr(e,!1)),te.rowExpandedFlag++,t.startIndex=0,t.endIndex=1,(0,co.nextTick)().then(()=>{if(l.length)return w(!0,!0,!0)}).then(()=>(G(),Jr(),tl(),pe.updateCellAreas()))},clearRowExpandReserve(){return re.rowExpandedReserveRowMap={},(0,co.nextTick)()},getRowExpandRecords(){let t=[];return oo().each(re.rowExpandedMaps,e=>{e&&t.push(e)}),t},setRowGroups(e){var{aggregateConfig:t,rowGroupConfig:r}=Y,l=P.value.maxGroupSize;return t||r?(t=e?oo().isArray(e)?e:[e]:[],l&&t.length>l?(lo.VxeUI.modal&&lo.VxeUI.modal.message({status:"error",content:Bl("vxe.table.maxGroupCol",[l])}),(0,co.nextTick)()):t.length?(kr(t.map(e=>oo().isString(e)?e:e.field)),Lr(re.tableSynchData,!0)):(0,co.nextTick)()):(_l("vxe.error.reqProp",["aggregate-config"]),(0,co.nextTick)())},getRowGroups(){var{aggregateConfig:e,rowGroupConfig:t}=Y;let r=re.fullColumnFieldData;return e||t?(e=te.rowGroupList,e.map(({field:e})=>{var t=r[e];return t?t.column:{field:e}})):[]},getRowGroupFields(){return pe.getRowGroups().map(e=>e.field)},clearRowGroups(){var{aggregateConfig:e,rowGroupConfig:t}=Y;return e||t?(kr([]),Lr(re.tableSynchData,!0)):(_l("vxe.error.reqProp",["aggregate-config"]),(0,co.nextTick)())},isRowGroupRecord(e){return Hl("vxe.error.delFunc",["isRowGroupRecord","isAggregateRecord"]),pe.isAggregateRecord(e)},isRowGroupExpandByRow(e){return Hl("vxe.error.delFunc",["isRowGroupExpandByRow","isAggregateExpandByRow"]),pe.isAggregateExpandByRow(e)},isAggregateRecord(e){var t=te.isRowGroupStatus;return t&&e.isAggregate},getAggregateContentByRow(e){var t=te.isRowGroupStatus;return t&&e&&e.isAggregate?e.groupContent:""},getAggregateRowChildren(e){var{childrenField:t,mapChildrenField:r}=P.value,l=te.isRowGroupStatus;return l&&e&&e.isAggregate&&t&&r&&e[r]||[]},isAggregateExpandByRow(e){var t=te.rowGroupExpandedFlag,r=re.rowGroupExpandedMaps;return!!t&&!!r[fo(pe,e)]},setRowGroupExpand(e,t){return e?(oo().isArray(e)||(e=[e]),Ur(e,t)):(0,co.nextTick)()},setRowGroupExpandByField(e,l){var t=te.isRowGroupStatus,o=P.value.childrenField;if(e&&(oo().isArray(e)||(e=[e]),t)){let t=[],r={};if(e.forEach(e=>{r[e]=!0}),oo().eachTree(re.afterGroupFullData,e=>{e.isAggregate&&r[e.groupField]&&t.push(e)},{children:o}),t.length)return Ur(t,l)}return(0,co.nextTick)()},setAllRowGroupExpand(e){var t=re.tableFullGroupData;let r=P.value.mapChildrenField,l={};return e&&r&&oo().eachTree(t,e=>{e[r]&&e[r].length&&(l[fo(pe,e)]=e)},{children:r}),re.rowGroupExpandedMaps=l,i(),pe.handleTableData(),gr(),te.rowGroupExpandedFlag++,w(!0,!0,!0)},clearRowGroupExpand(){return re.rowGroupExpandedMaps={},i(),pe.handleTableData(),gr(),te.rowGroupExpandedFlag++,w(!0,!0,!0)},getTreeExpandRecords(){let t=[];return oo().each(re.treeExpandedMaps,e=>{e&&t.push(e)}),t},isTreeExpandLoaded(e){var t=re.fullAllDataRowIdData,t=t[fo(pe,e)];return t&&!!t.treeLoaded},clearTreeExpandLoaded(e){let{fullAllDataRowIdData:r,treeExpandedMaps:l}=re;var t=ue.value.transform;return e?(e=oo().isArray(e)?e:[e]).forEach(e=>{var e=fo(pe,e),t=r[e];t&&(t.treeLoaded=!1,l[e])&&delete l[e]}):oo().each(r,e=>{e.treeLoaded=!1}),re.treeExpandedMaps={},t&&(i(),pe.handleTableData()),te.treeExpandedFlag++,(0,co.nextTick)()},reloadTreeExpand(e){var t=re.treeExpandLazyLoadedMaps,r=ue.value,l=r.hasChild||r.hasChildField;let{transform:o,lazy:a}=r;r=fo(pe,e);return a&&e[l]&&!t[r]?pe.clearTreeExpandLoaded(e).then(()=>yr(e)).then(()=>{o&&(i(),pe.handleTableData()),te.treeExpandedFlag++}).then(()=>pe.recalculate()):(0,co.nextTick)()},reloadTreeChilds(e){return Hl("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),pe.reloadTreeExpand(e)},toggleTreeExpand(e){return pe.setTreeExpand(e,!pe.isTreeExpandByRow(e))},setAllTreeExpand(e){var t=re.tableFullData,r=ue.value;let{transform:l,lazy:o}=r,a=r.children||r.childrenField,n=[];return oo().eachTree(t,e=>{var t=e[a];(o||t&&t.length)&&n.push(e)},{children:a}),pe.setTreeExpand(n,e).then(()=>{if(l)return i(),te.treeExpandedFlag++,pe.recalculate()})},setTreeExpand(e,t){var r=ue.value.transform;return e&&(e=oo().isArray(e)?e:[e]).length?(r?(e,t)=>{let{lastScrollLeft:r,lastScrollTop:l}=re;return Gr(e,t).then(()=>(i(),pe.handleTableData(),te.treeExpandedFlag++,gr(),(0,co.nextTick)())).then(()=>Dr(!0,!0,!0)).then(()=>{_o(pe,r,l),el(),setTimeout(()=>{pe.updateCellAreas()},30)})}:Gr)(e,t):(0,co.nextTick)()},isTreeExpandByRow(e){var t=te.treeExpandedFlag,r=re.treeExpandedMaps;return!!t&&!!r[fo(pe,e)]},clearTreeExpand(){var e=re.tableFullTreeData,t=ue.value,r=t.children||t.childrenField;let{transform:l,reserve:o}=t,a=pe.getTreeExpandRecords();return re.treeExpandedMaps={},o&&oo().eachTree(e,e=>Tr(e,!1),{children:r}),pe.handleTableData().then(()=>{l&&(i(),pe.handleTableData()),te.treeExpandedFlag++}).then(()=>{if(el(),a.length)return pe.recalculate()})},clearTreeExpandReserve(){return re.treeExpandedReserveRowMap={},(0,co.nextTick)()},getScroll(){return pe.getScrollData()},getScrollData(){var{scrollXLoad:e,scrollYLoad:t,scrollbarHeight:r,scrollbarWidth:l}=te,o=re.elemStore,o=To(o["main-body-scroll"]),a=o?o.scrollTop:0,n=o?o.scrollLeft:0,i=o?o.clientHeight:0,s=o?o.clientWidth:0,d=o?o.scrollHeight:0,o=o?o.scrollWidth:0;return{virtualX:e,virtualY:t,isTop:a<=0,isBottom:d<=a+i,isLeft:n<=0,isRight:o<=n+s,scrollbarHeight:r,scrollbarWidth:l,scrollTop:a,scrollLeft:n,scrollHeight:d,scrollWidth:o,clientHeight:i,clientWidth:s}},scrollTo(e,t){var r=re.elemStore,l=To(r["main-header-scroll"]),o=To(r["main-body-scroll"]),a=To(r["main-footer-scroll"]),n=To(r["left-body-scroll"]),r=To(r["right-body-scroll"]),i=k.value,s=O.value;return re.intoRunScroll=!0,e&&!oo().isNumber(e)&&(t=e.top,e=e.left),oo().isNumber(e)&&(vo(i,e),vo(o,e),vo(l,e),vo(a,e),Br()),oo().isNumber(t)&&(ho(s,t),ho(o,t),ho(n,t),ho(r,t),qr()),te.scrollXLoad||te.scrollYLoad?new Promise(e=>{setTimeout(()=>{(0,co.nextTick)(()=>{re.intoRunScroll=!1,e()})},30)}):(0,co.nextTick)().then(()=>{re.intoRunScroll=!1})},scrollToRow(e,t){let{isAllOverflow:r,scrollYLoad:l,scrollXLoad:o}=te;var a,n,i=[];return e&&(Y.treeConfig?i.push(pe.scrollToTreeRow(e)):i.push(Yo(pe,e))),t&&i.push((t=t,a=e,n=re.fullColumnIdData,(t=bo(pe,t))&&n[t.id]?Zo(pe,t,a):(0,co.nextTick)())),Promise.all(i).then(()=>{if(e)return r||!l&&!o||(ur(),sr()),(0,co.nextTick)()})},scrollToColumn(e){var t=re.fullColumnIdData,e=bo(pe,e);return e&&t[e.id]?Zo(pe,e):(0,co.nextTick)()},clearScroll(){var{elemStore:e,scrollXStore:t,scrollYStore:r}=re,l=To(e["main-header-scroll"]),o=To(e["main-body-scroll"]),a=To(e["main-footer-scroll"]),n=To(e["left-body-scroll"]),e=To(e["right-body-scroll"]),i=k.value,s=O.value;return re.intoRunScroll=!0,vo(i,0),vo(o,0),vo(l,0),vo(a,0),ho(s,0),ho(o,0),ho(n,0),ho(e,0),t.startIndex=0,t.visibleStartIndex=0,t.endIndex=t.visibleSize,t.visibleEndIndex=t.visibleSize,r.startIndex=0,r.visibleStartIndex=0,r.endIndex=r.visibleSize,r.visibleEndIndex=r.visibleSize,(0,co.nextTick)().then(()=>{re.lastScrollLeft=0,re.lastScrollTop=0,re.intoRunScroll=!1})},updateFooter(){var{showFooter:e,footerData:t,footerMethod:r}=Y,{visibleColumn:l,afterFullData:o}=re;let a=[];return e&&t&&t.length?a=t.slice(0):e&&r&&(a=l.length?r({columns:l,data:o,$table:pe,$grid:Q,$gantt:J}):[]),te.footerTableData=a,pe.handleUpdateFooterMerge(),pe.dispatchEvent("footer-data-change",{visibleColumn:re.visibleColumn,footData:a},null),(0,co.nextTick)()},updateStatus(t,r){return(0,co.nextTick)().then(()=>{var e=Y.editRules;if(t&&e)return pe.handleCellRuleUpdateStatus("change",t,r)})},setMergeCells(e){return Y.spanMethod&&_l("vxe.error.errConflicts",["merge-cells","span-method"]),(t=>{let{fullAllDataRowIdData:i,fullColumnIdData:s,visibleColumn:d,afterFullData:c,mergeBodyList:u,mergeBodyMaps:p}=re;if(t){let e=xo(pe).handleGetRowId;(t=oo().isArray(t)?t:[t]).forEach(t=>{var{row:t,col:r,rowspan:l,colspan:o}=t;let a=-1,n=-1;if(oo().isNumber(t)?a=t:(t=(t=t?e(t):null)?i[t]:null)&&(a=t._index),oo().isNumber(r)?n=r:(r=(t=r?r.id:null)?s[t]:null)&&(n=r._index),-1<a&&-1<n&&(l||o)&&(l=oo().toNumber(l)||1,o=oo().toNumber(o)||1,1<l||1<o)){t=c[a],r=d[n];let e=p[a+":"+n];e?(e.rowspan=l,e.colspan=o,e._rowspan=l,e._colspan=o):(e={row:a,col:n,rowspan:l,colspan:o,_row:t,_col:r,_rowspan:l,_colspan:o},p[a+":"+n]=e,u.push(e))}})}})(e),pe.handleUpdateBodyMerge(),(0,co.nextTick)().then(()=>{var e=te.expandColumn,t=re.mergeBodyList;return e&&t.length&&Hl("vxe.error.errConflicts",["type=expand","merge-cells | span-method"]),pe.updateCellAreas(),I()})},removeMergeCells(e){Y.spanMethod&&_l("vxe.error.errConflicts",["merge-cells","span-method"]);let t=(e=>{let{mergeBodyList:a,fullColumnIdData:n,fullAllDataRowIdData:i,mergeBodyMaps:s}=re,d=[];if(e){let o=xo(pe).handleGetRowId;(e=oo().isArray(e)?e:[e]).forEach(e=>{var{row:e,col:t}=e;let r=-1,l=-1;oo().isNumber(e)?r=e:(e=(e=e?o(e):null)?i[e]:null)&&(r=e._index),oo().isNumber(t)?l=t:(t=(e=t?t.id:null)?n[e]:null)&&(l=t._index);t=oo().findIndexOf(a,e=>e.row===r&&e.col===l);if(-1<t){t=a.splice(t,1);let e=t[0];e&&(d.push(t[0]),s[r+":"+l])&&delete s[r+":"+l]}})}return d})(e);return pe.handleUpdateBodyMerge(),(0,co.nextTick)().then(()=>(pe.updateCellAreas(),I(),t))},getMergeCells(){return re.mergeBodyList.slice(0)},clearMergeCells(){return re.mergeBodyList=[],re.mergeBodyMaps={},re.mergeBodyCellMaps={},te.mergeBodyFlag++,(0,co.nextTick)().then(()=>I())},setMergeHeaderCells(e){return(e=>{let s=Y.showCustomHeader,d=te.footerTableData,{mergeHeaderList:c,mergeHeaderMaps:u,fullColumnIdData:p}=re;if(e){let i=re.visibleColumn;(e=oo().isArray(e)?e:[e]).forEach(t=>{var{row:t,col:r,rowspan:l,colspan:o}=t,t=oo().isNumber(t)?t:-1;let a=-1;if(oo().isNumber(r)?a=r:(r=(r=r?r.id:null)?p[r]:null)&&(a=r._index),-1<t&&-1<a&&(l||o))if(l=oo().toNumber(l)||1,o=oo().toNumber(o)||1,!s&&1<l)_l("vxe.error.notSupportProp",["[table] show-custom-header=false","rowspan="+l,"rowspan=1"]);else if(1<l||1<o){var r=d[t],n=i[a];let e=u[t+":"+a];e?(e.rowspan=l,e.colspan=o,e._rowspan=l,e._colspan=o):(e={row:t,col:a,rowspan:l,colspan:o,_row:r,_col:n,_rowspan:l,_colspan:o},u[t+":"+a]=e,c.push(e))}})}})(e),pe.handleUpdateHeaderMerge(),(0,co.nextTick)().then(()=>I())},removeMergeHeaderCells(e){let t=(e=>{let{mergeHeaderList:o,fullColumnIdData:a,mergeHeaderMaps:n}=re,i=[];return e&&(e=oo().isArray(e)?e:[e]).forEach(e=>{var{row:e,col:t}=e;let r=oo().isNumber(e)?e:-1,l=-1;oo().isNumber(t)?l=t:(t=(e=t?t.id:null)?a[e]:null)&&(l=t._index);t=oo().findIndexOf(o,e=>e.row===r&&e.col===l);if(-1<t){let e=o.splice(t,1)[0];e&&(i.push(e),n[r+":"+l])&&delete n[r+":"+l]}}),i})(e);return pe.handleUpdateHeaderMerge(),(0,co.nextTick)().then(()=>(I(),t))},getMergeHeaderCells(){return re.mergeHeaderList.slice(0)},clearMergeHeaderCells(){return re.mergeHeaderList=[],re.mergeHeaderMaps={},re.mergeHeaderCellMaps={},te.mergeHeadFlag++,(0,co.nextTick)().then(()=>I())},setMergeFooterCells(e){return Y.footerSpanMethod&&_l("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]),(e=>{let s=te.footerTableData,{mergeFooterList:d,mergeFooterMaps:c,fullColumnIdData:u}=re;if(e){let i=re.visibleColumn;(e=oo().isArray(e)?e:[e]).forEach(t=>{var{row:t,col:r,rowspan:l,colspan:o}=t,t=oo().isNumber(t)?t:-1;let a=-1;if(oo().isNumber(r)?a=r:(r=(r=r?r.id:null)?u[r]:null)&&(a=r._index),-1<t&&-1<a&&(l||o)&&(l=oo().toNumber(l)||1,o=oo().toNumber(o)||1,1<l||1<o)){var r=s[t],n=i[a];let e=c[t+":"+a];e?(e.rowspan=l,e.colspan=o,e._rowspan=l,e._colspan=o):(e={row:t,col:a,rowspan:l,colspan:o,_row:r,_col:n,_rowspan:l,_colspan:o},c[t+":"+a]=e,d.push(e))}})}})(e),pe.handleUpdateFooterMerge(),(0,co.nextTick)().then(()=>I())},setMergeFooterItems(e){return pe.setMergeFooterCells(e)},removeMergeFooterCells(e){Y.footerSpanMethod&&_l("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]);let t=(e=>{let{mergeFooterList:o,fullColumnIdData:a,mergeFooterMaps:n}=re,i=[];return e&&(e=oo().isArray(e)?e:[e]).forEach(e=>{var{row:e,col:t}=e;let r=oo().isNumber(e)?e:-1,l=-1;oo().isNumber(t)?l=t:(t=(e=t?t.id:null)?a[e]:null)&&(l=t._index);t=oo().findIndexOf(o,e=>e.row===r&&e.col===l);if(-1<t){let e=o.splice(t,1)[0];e&&(i.push(e),n[r+":"+l])&&delete n[r+":"+l]}}),i})(e);return pe.handleUpdateFooterMerge(),(0,co.nextTick)().then(()=>(I(),t))},removeMergeFooterItems(e){return pe.removeMergeFooterCells(e)},getMergeFooterCells(){return re.mergeFooterList.slice(0)},getMergeFooterItems(){return pe.getMergeFooterCells()},clearMergeFooterCells(){return re.mergeFooterList=[],re.mergeFooterMaps={},re.mergeFooterCellMaps={},te.mergeFootFlag++,(0,co.nextTick)().then(()=>I())},clearMergeFooterItems(){return pe.clearMergeFooterCells()},updateCellAreas(){var e=Y.mouseConfig,t=ce.value;return e&&t.area&&pe.handleRecalculateCellAreaEvent?pe.handleRecalculateCellAreaEvent():(0,co.nextTick)()},getCustomStoreData(){var e=Y.id,t=kt.value,{isRowGroupStatus:r,rowGroupList:l}=te;let{fullColumnFieldData:o,collectColumn:a}=re,{storage:n,checkMethod:g,storeOptions:i}=t;var t=!0===n,h=Object.assign({},!t&&n||{},i);let v=F(h.resizable,t),m=F(h.visible,t),f=F(h.fixed,t),x=F(h.sort,t);var b=F(h.aggGroup,t);let C=F(h.aggFunc,t),w={},y=[],T={},E={},R={},S={};h={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0,aggGroupData:void 0,aggFuncData:void 0};if(e){let i=0,s=0,d=0,c=0,u=0,p={};oo().eachTree(a,(e,t,r,l,o)=>{var a,n=e.getKey();n?(o?x&&(o=o.getKey(),o=p[o],s=1,o)&&(a={k:n},p[n]=a,o.c||(o.c=[]),o.c.push(a)):(x&&(s=1,o={k:n},p[n]=o,y.push(o)),f&&(e.fixed||"")!==(e.defaultFixed||"")&&(d=1,E[n]=e.fixed)),v&&e.resizeWidth&&(i=1,w[n]=e.renderWidth),!m||g&&!g({$table:pe,column:e})||(!e.visible&&e.defaultVisible?(c=1,T[n]=!1):e.visible&&!e.defaultVisible&&(c=1,T[n]=!0)),C&&(e.aggFunc||"")!==(e.defaultAggFunc||"")&&(u=1,S[n]=e.aggFunc)):_l("vxe.error.reqProp",[`${e.getTitle()||e.type||""} -> column.field=?`])}),i&&(h.resizableData=w),s&&(h.sortData=y),d&&(h.fixedData=E),c&&(h.visibleData=T),b&&r&&(l.forEach(e=>{e=o[e.field];e&&(R[e.column.getKey()]=!0)}),h.aggGroupData=R),u&&(h.aggFuncData=S)}else n&&_l("vxe.error.reqProp",["id"]);return h},focus(){return re.isActivated=!0,(0,co.nextTick)()},blur(){return(re.isActivated=!1,co.nextTick)()},connect(e){return pe.connectToolbar(e)},connectToolbar(e){return e?(L=e).syncUpdate({collectColumn:re.collectColumn,$table:pe}):_l("vxe.error.barUnableLink"),(0,co.nextTick)()}},r=>{var{editStore:e,ctxMenuStore:t,customStore:l}=te;let{mouseConfig:o,editRules:a}=Y,n=le.value,i=ot.value,s=Ve.value;var d=it.value;let c=e.actived;var e=Ce.value,u=ye.value,p=Te.value,g=we.value;if(!u||mo(r,n,"vxe-cell--filter").flag||mo(r,u.getRefMaps().refElem.value).flag||mo(r,document.body,"vxe-table--ignore-clear").flag||z.preventEvent(r,"event.clearFilter",re._currFilterParams,N.closeFilter),!p||l.btnEl===r.target||mo(r,document.body,"vxe-toolbar-custom-target").flag||mo(r,p.getRefMaps().refElem.value).flag||mo(r,document.body,"vxe-table--ignore-clear").flag||l.visible&&pe.closeCustom&&z.preventEvent(r,"event.clearCustom",{},()=>{pe.closeCustom(),pe.dispatchEvent("custom",{type:"close"},r)}),c.row)!1===i.autoClear||(u=c.args.cell)&&mo(r,u).flag||e&&mo(r,e.$el).flag||re._lastCallTime&&!(re._lastCallTime+50<Date.now())||mo(r,document.body,"vxe-table--ignore-clear").flag||z.preventEvent(r,"event.clearEdit",c.args,()=>{let e;var t;(e=(e=(e="row"===i.mode?!!(t=(t=mo(r,n,"vxe-body--row")).flag?N.getRowNode(t.targetElem):null)&&!pe.eqRow(t.item,c.args.row):!mo(r,n,"col--edit").flag)||mo(r,n,"vxe-header--row").flag)||mo(r,n,"vxe-footer--row").flag)||!Y.height||te.overflowY||uo(t=r.target,"vxe-table--body-wrapper")&&(e=r.offsetY<t.clientHeight),!e&&mo(r,n).flag||setTimeout(()=>{pe.handleClearEdit(r).then(()=>{!re.isActivated&&a&&s.autoClear&&(te.validErrorMaps={})})})});else if(o&&!(mo(r,n).flag||ee&&mo(r,ee.getRefMaps().refElem.value).flag||g&&mo(r,g.getRefMaps().refElem.value).flag||L&&mo(r,L.getRefMaps().refElem.value).flag)&&(pe.clearSelected&&pe.clearSelected(),d.autoClear)&&pe.getCellAreas){let e=pe.getCellAreas();e&&e.length&&!mo(r,document.body,"vxe-table--ignore-areas-clear").flag&&z.preventEvent(r,"event.clearAreas",{},()=>{pe.clearCellAreas(),pe.clearCopyCellArea(),j("clear-cell-area-selection",{cellAreas:e},r)})}pe.closeMenu&&t.visible&&g&&!mo(r,g.getRefMaps().refElem.value).flag&&pe.closeMenu();p=mo(r,ee?ee.getRefMaps().refElem.value:n).flag;!p&&a&&s.autoClear&&(te.validErrorMaps={}),re.isActivated=p}),ll=()=>{N.closeFilter(),pe.closeMenu&&pe.closeMenu()},ol=()=>{N.closeTooltip(),pe.closeMenu&&pe.closeMenu()},al=t=>{let{mouseConfig:e,keyboardConfig:r}=Y,{filterStore:l,ctxMenuStore:o,editStore:a}=te,n=ce.value,i=st.value,s=a.actived;Vl.hasKey(t,Nl.ESCAPE)&&z.preventEvent(t,"event.keydown",null,()=>{if(j("keydown-start",{},t),r&&e&&n.area&&pe.handleKeyboardCellAreaEvent)pe.handleKeyboardCellAreaEvent(t);else if((s.row||l.visible||o.visible)&&(t.stopPropagation(),pe.closeMenu&&pe.closeMenu(),N.closeFilter(),r)&&i.isEsc&&s.row){let e=s.args;pe.handleClearEdit(t),n.selected&&(0,co.nextTick)(()=>pe.handleSelected(e,t))}j("keydown",{},t),j("keydown-end",{},t)})},nl=V=>{re.isActivated&&pe.preventEvent(V,"event.keydown",null,()=>{var{mouseConfig:e,keyboardConfig:t,treeConfig:r,editConfig:l,highlightCurrentRow:o,highlightCurrentColumn:a}=Y;let{ctxMenuStore:n,editStore:H,currentRow:i}=te;var s=re.afterFullData,d=Tt.value,c=Ct.value,u=st.value,p=ce.value,g=ot.value,h=ue.value,v=Et.value,m=ne.value,_=ae.value,{selected:f,actived:x}=H,h=h.children||h.childrenField,b=V.keyCode,C=Vl.hasKey(V,Nl.ESCAPE),w=Vl.hasKey(V,Nl.BACKSPACE),P=Vl.hasKey(V,Nl.TAB),y=Vl.hasKey(V,Nl.ENTER),T=Vl.hasKey(V,Nl.SPACEBAR),E=Vl.hasKey(V,Nl.ARROW_LEFT),R=Vl.hasKey(V,Nl.ARROW_UP),S=Vl.hasKey(V,Nl.ARROW_RIGHT),F=Vl.hasKey(V,Nl.ARROW_DOWN),B=Vl.hasKey(V,Nl.DELETE),D=Vl.hasKey(V,Nl.F2),I=Vl.hasKey(V,Nl.CONTEXT_MENU),M=Oo(V),k=V.shiftKey,O=V.altKey,A=E||R||S||F,d=d&&n.visible&&(y||T||A),$=ao(l)&&x.column&&x.row;let L=g.beforeEditMethod||g.activeMethod;if(d)V.preventDefault(),n.showChild&&Fo(n.selected)?pe.moveCtxMenu(V,n,"selectChild",E,!1,n.selected.children):pe.moveCtxMenu(V,n,"selected",S,!0,v);else if(t&&e&&p.area&&pe.handleKeyboardCellAreaEvent)pe.handleKeyboardCellAreaEvent(V);else if(C){if(pe.closeMenu&&pe.closeMenu(),pe.closeFilter(),t&&u.isEsc&&x.row){let e=x.args;pe.handleClearEdit(V),p.selected&&(0,co.nextTick)(()=>pe.handleSelected(e,V))}}else if(T&&t&&u.isChecked&&f.row&&f.column&&("checkbox"===f.column.type||"radio"===f.column.type))V.preventDefault(),"checkbox"===f.column.type?z.handleToggleCheckRowEvent(V,f.args):z.triggerRadioRowEvent(V,f.args);else if(D&&ao(l))$||f.row&&f.column&&(V.preventDefault(),pe.handleEdit(f.args,V));else if(I)re._keyCtx=f.row&&f.column&&c.length,clearTimeout(re.keyCtxTimeout),re.keyCtxTimeout=setTimeout(()=>{re._keyCtx=!1},1e3);else if(y&&!O&&t&&u.isEnter&&(f.row||x.row||r&&(m.isCurrent||o)&&i)){var{isLastEnterAppendRow:d,beforeEnterMethod:v,enterMethod:e}=u;if(M){if(x.row){let e=x.args;pe.handleClearEdit(V),p.selected&&(0,co.nextTick)(()=>{pe.handleSelected(e,V)})}}else if(f.row||x.row){let r=(f.row?f:x).args;if(k)u.enterToTab?pe.moveTabSelected(r,k,V):pe.moveEnterSelected(r,E,!0,S,!1,V);else if(u.enterToTab)pe.moveTabSelected(r,k,V);else{var C=f.row||x.row;let t=f.column||x.column;D=pe.getVTRowIndex(C),I={row:C,rowIndex:pe.getRowIndex(C),$rowIndex:pe.getVMRowIndex(C),_rowIndex:D,column:t,columnIndex:pe.getColumnIndex(t),$columnIndex:pe.getVMColumnIndex(t),_columnIndex:pe.getVTColumnIndex(t),$table:pe};if(!v||!1!==v(I)){if(d&&D>=s.length-1)return pe.insertAt({},-1).then(({row:e})=>{pe.scrollToRow(e,t),pe.handleSelected({...r,row:e},V)}),void pe.dispatchEvent("enter-append-row",I,V);pe.moveEnterSelected(r,E,!1,S,!0,V),e&&e(I)}}}else if(r&&(m.isCurrent||o)&&i){c=i[h];if(c&&c.length){V.preventDefault();let e=c[0],t={$table:pe,row:e,rowIndex:pe.getRowIndex(e),$rowIndex:pe.getVMRowIndex(e)};pe.setTreeExpand(i,!0).then(()=>pe.scrollToRow(e)).then(()=>pe.triggerCurrentRowEvent(V,t))}}}else if(A&&t&&u.isArrow)$||(p.selected&&f.row&&f.column?pe.moveArrowSelected(f.args,E,R,S,F,V):((R||F)&&(m.isCurrent||o)&&pe.moveCurrentRow(R,F,V),(E||S)&&(_.isCurrent||a)&&pe.moveCurrentColumn(E,S,V)));else if(P&&t&&u.isTab)f.row||f.column?pe.moveTabSelected(f.args,k,V):(x.row||x.column)&&pe.moveTabSelected(x.args,k,V);else if(t&&u.isDel&&B&&ao(l)&&(f.row||f.column))$||(y=u.delMethod,O={row:f.row,rowIndex:N.getRowIndex(f.row),column:f.column,columnIndex:N.getColumnIndex(f.column),$table:pe,$grid:Q,$gantt:J},L&&!L(O))||(y?y(O):yo(f.row,f.column,null),N.updateFooter(),j("cell-delete-value",O,V));else if(w&&t&&u.isBack&&ao(l)&&(f.row||f.column))$||(C=u.backMethod,u.isDel&&ao(l)&&(f.row||f.column)&&(v={row:f.row,rowIndex:pe.getRowIndex(f.row),column:f.column,columnIndex:pe.getColumnIndex(f.column),$table:pe,$grid:Q,$gantt:J},L&&!L(v)||(C?C(v):(yo(f.row,f.column,null),pe.handleEdit(f.args,V)),j("cell-backspace-value",v,V))));else if(w&&t&&r&&u.isBack&&(m.isCurrent||o)&&i){let t=oo().findTree(re.afterTreeFullData,e=>e===i,{children:h}).parent;if(t){V.preventDefault();let e={row:t,rowIndex:pe.getRowIndex(t),$rowIndex:pe.getVMRowIndex(t),$table:pe,$grid:Q,$gantt:J};pe.setTreeExpand(t,!1).then(()=>pe.scrollToRow(t)).then(()=>pe.triggerCurrentRowEvent(V,e))}}else if(t&&ao(l)&&u.isEdit&&!M&&(T||48<=b&&b<=57||65<=b&&b<=90||96<=b&&b<=111||186<=b&&b<=192||219<=b&&b<=222)){var{editMode:d,editMethod:D}=u;if(f.column&&f.row&&ao(f.column.editRender)){let e=g.beforeEditMethod||g.activeMethod;s={row:f.row,rowIndex:pe.getRowIndex(f.row),column:f.column,columnIndex:pe.getColumnIndex(f.column),$table:pe,$grid:Q,$gantt:J};e&&!e({...f.args,$table:pe,$grid:Q,$gantt:J})||(D?D(s):("insert"!==d&&yo(f.row,f.column,null),pe.handleEdit(f.args,V)))}}j("keydown",{},V)})},il=e=>{var{keyboardConfig:t,mouseConfig:r}=Y,{editStore:l,filterStore:o}=te,a=re.isActivated,n=ce.value,i=st.value,l=l.actived;a&&!o.visible&&(l.row||l.column||t&&i.isClip&&r&&n.area&&pe.handlePasteCellAreaEvent&&pe.handlePasteCellAreaEvent(e),j("paste",{},e))},sl=e=>{var{keyboardConfig:t,mouseConfig:r}=Y,{editStore:l,filterStore:o}=te,a=re.isActivated,n=ce.value,i=st.value,l=l.actived;a&&!o.visible&&(l.row||l.column||t&&i.isClip&&r&&n.area&&pe.handleCopyCellAreaEvent&&pe.handleCopyCellAreaEvent(e),j("copy",{},e))},dl=e=>{var{keyboardConfig:t,mouseConfig:r}=Y,{editStore:l,filterStore:o}=te,a=re.isActivated,n=ce.value,i=st.value,l=l.actived;a&&!o.visible&&(l.row||l.column||t&&i.isClip&&r&&n.area&&pe.handleCutCellAreaEvent&&pe.handleCutCellAreaEvent(e),j("cut",{},e))},cl=()=>{pe.closeMenu&&pe.closeMenu();var e=le.value;e&&e.clientWidth&&(Ir(),pe.updateCellAreas())},ul=e=>{var t=oe.value;clearTimeout(re.tooltipTimeout),e?N.closeTooltip():t&&t.setActived&&t.setActived(!0)},U=()=>{jl=null,fe.row=null},pl=()=>{var{dragRow:e,dragCol:t}=te;(e||t)&&(hl(),gl(),ml(),U(),te.dragRow=null,te.dragCol=null)},gl=()=>{var e=le.value;if(e){let t="row--drag-origin";oo().arrayEach(e.querySelectorAll("."+t),e=>{e.draggable=!1,po(e,t)})}},hl=()=>{var e=le.value;if(e){let t="col--drag-origin";oo().arrayEach(e.querySelectorAll("."+t),e=>{e.draggable=!1,po(e,t)})}},vl=(e,r,l,t,o)=>{let a=le.value;if(a=J&&r&&(n=J.getRefMaps().refGanttContainerElem,n=n.value)?n:a){var{overflowX:n,scrollbarWidth:i,overflowY:s,scrollbarHeight:d}=te,c=re.prevDragToChild,u=a.getBoundingClientRect(),s=s?i:0,i=n?d:0,n=a.clientWidth,d=a.clientHeight;if(r){var p=Me.value;if(p)if(t){var g=qe.value,h=r.getBoundingClientRect();let e=r.clientHeight;r=Math.max(1,h.y-u.y);r+e>d-i&&(e=d-r-i),p.style.display="block",p.style.left=`${g?s:0}px`,p.style.top=r+"px",p.style.height=e+"px",p.style.width=n-s+"px",p.setAttribute("drag-pos",o),p.setAttribute("drag-to-child",c?"y":"n")}else p.style.display=""}else if(l){h=ke.value;if(h)if(t){var g=We.value,r=q.value,p=r?r.clientWidth:0,r=X.value,r=r?r.clientWidth:0,v=l.getBoundingClientRect();let e=l.clientWidth;l=Math.max(0,v.y-u.y);let t=v.x-u.x;t<p&&(e-=p-t,t=p);p=n-r-(r?0:s);t+e>p&&(e=p-t),h.style.display="block",h.style.top=l+"px",h.style.left=t+"px",h.style.width=e+"px",h.style.height=c?v.height+"px":d-l-(g?0:i)+"px",h.setAttribute("drag-pos",o),h.setAttribute("drag-to-child",c?"y":"n")}else h.style.display=""}n=Ie.value;n&&(n.style.display="block",n.style.top=Math.min(a.clientHeight-a.scrollTop-n.clientHeight,e.clientY-u.y)+"px",n.style.left=Math.min(a.clientWidth-a.scrollLeft-n.clientWidth-16,e.clientX-u.x)+"px",n.setAttribute("drag-status",t?c?"sub":"normal":"disabled"))}},ml=()=>{var e=Ie.value,t=Me.value,r=ke.value;e&&(e.style.display=""),t&&(t.style.display=""),r&&(r.style.display="")},fl=()=>{let e=le.value;var t,r,l,o=[".vxe-body--row"];J&&(t=J.getRefMaps().refGanttContainerElem,(t=t.value)&&(e=t),o.push(".vxe-gantt-view--body-row",".vxe-gantt-view--chart-row")),ml(),gl(),r=e,l=o,setTimeout(()=>{r&&oo().arrayEach(r.querySelectorAll(l.map(e=>e+"."+Ul).join(",")),e=>po(e,Ul))},500),re.prevDragToChild=!1,te.dragRow=null,te.dragCol=null},xl=()=>{var e,t,r=le.value;ml(),hl(),e=r,t=[".vxe-table--column"],setTimeout(()=>{e&&oo().arrayEach(e.querySelectorAll(t.map(e=>e+"."+Ul).join(",")),e=>po(e,Wl))},500),re.prevDragToChild=!1,te.dragRow=null,te.dragCol=null},bl=(e,l,o,a,n,i,s)=>{let d=n||a;if(d){s.cell=a;var n=te.tooltipStore,{column:a,row:c}=s,{showAll:t,contentMethod:u}=l,s=u?u(s):null,u=u&&!oo().eqNull(s),s=u?s:oo().toString("html"===a.type?d.innerText:d.textContent).trim();let r=d.scrollWidth>d.clientWidth;if(s&&(t||u||r)){let t=io(s);Object.assign(n,{row:c,column:a,visible:!0,content:t,type:o,currOpts:l}),(0,co.nextTick)(()=>{var e=oe.value;e&&e.open&&e.open(r?d:i,t)})}}return(0,co.nextTick)()},Cl=(e,t)=>{if(e){if(ee)return ee.callSlot(e,t);if(oo().isFunction(e))return Eo(e(t))}return[]},wl=(z={getSetupOptions(){return Pl()},updateAfterDataIndex:gr,callSlot:Cl,getParentElem(){var e,t=le.value;return ee?(e=ee.getRefMaps().refElem.value)?e.parentNode:null:t?t.parentNode:null},getParentHeight(){var r=Y.height,l=le.value;if(l){l=l.parentNode;let e=0,t=0;return l&&(J&&uo(l,"vxe-gantt--table-wrapper")?t=J.getParentHeight():Q&&uo(l,"vxe-grid--table-wrapper")?t=Q.getParentHeight():(t=l.clientHeight,e="100%"===r||"auto"===r?$o(l):0)),Math.floor(t-e)}return 0},getExcludeHeight(){return ee?ee.getExcludeHeight():0},defineField(e){let t=Y.treeConfig,r=V.value,l=ue.value,a=B.value,n=de.value,i=l.children||l.childrenField,s=Bo(pe);return(e=oo().isArray(e)?e:[e]).map(o=>(re.tableFullColumn.forEach(t=>{var{field:r,editRender:l}=t;if(r&&!oo().has(o,r)&&!o[r]){let e=null;l&&(l=l.defaultValue,oo().isFunction(l)?e=l({column:t}):oo().isUndefined(l)||(e=l)),oo().set(o,r,e)}}),[a.labelField,n.checkField,n.labelField,r.labelField].forEach(e=>{e&&so(oo().get(o,e))&&oo().set(o,e,null)}),t&&l.lazy&&oo().isUndefined(o[i])&&(o[i]=null),so(oo().get(o,s))&&oo().set(o,s,Po()),o))},handleTableData(e){var t=te.scrollYLoad;let{scrollYStore:r,fullDataRowIdData:o}=re;var l=re.xeGanttView;let a=re.afterFullData;e&&((()=>{var e=Y.treeConfig,t=te.isRowGroupStatus,{tableFullColumn:r,tableFullData:l,tableFullTreeData:o,tableFullGroupData:i}=re,s=at.value,d=S.value,c=P.value,u=ue.value,p=u.children||u.childrenField,{transform:u,rowField:g,parentField:h,mapChildrenField:v}=u;let{isEvery:m,remote:f,filterMethod:x}=s,{remote:b,sortMethod:C,multiple:w,chronological:y}=d,T=[],E=[];if(f&&b)t?(E=oo().searchTree(i,()=>!0,{original:!0,isEvery:!0,children:c.mapChildrenField,mapChildren:c.childrenField}),T=E):e&&u?(E=oo().searchTree(o,()=>!0,{original:!0,isEvery:m,children:v,mapChildren:p}),T=E):(T=(e?o:l).slice(0),E=T);else{let a=[],n=[];r.forEach(e=>{var{field:t,sortable:r,order:l,filters:o}=e;if(!f&&o&&o.length){let t=[],r=[];o.forEach(e=>{e.checked&&(r.push(e),t.push(e.value))}),r.length&&a.push({column:e,valueList:t,itemList:r})}!b&&r&&l&&n.push({column:e,field:t,property:t,order:l,sortTime:e.sortTime})}),w&&y&&1<n.length&&(n=oo().orderBy(n,"sortTime")),!f&&a.length?(s=d=>a.every(({column:t,valueList:e,itemList:r})=>{let{filterMethod:l,filterRender:o}=t;var a=ao(o)?Kl.get(o.name):null;let n=a?a.tableFilterMethod||a.filterMethod:null,i=a?a.tableFilterDefaultMethod||a.defaultTableFilterMethod||a.defaultFilterMethod:null,s=wo(d,t);return l?r.some(e=>l({value:e.value,option:e,cellValue:s,row:d,column:t,$table:pe})):n?r.some(e=>n({value:e.value,option:e,cellValue:s,row:d,column:t,$table:pe})):x?x({$table:pe,options:r,values:e,cellValue:s,row:d,column:t}):i?r.some(e=>i({value:e.value,option:e,cellValue:s,row:d,column:t,$table:pe})):-1<e.indexOf(oo().get(d,t.field))}),t?(E=oo().searchTree(i,s,{original:!0,isEvery:!0,children:c.mapChildrenField,mapChildren:c.childrenField}),T=E):e&&u?(E=oo().searchTree(o,s,{original:!0,isEvery:m,children:v,mapChildren:p}),T=E):(T=(e?o:l).filter(s),E=T)):t?(E=oo().searchTree(i,()=>!0,{original:!0,isEvery:!0,children:c.mapChildrenField,mapChildren:c.childrenField}),T=E):e&&u?(E=oo().searchTree(o,()=>!0,{original:!0,isEvery:m,children:v,mapChildren:p}),T=E):(T=(e?o:l).slice(0),E=T),!b&&n.length&&(t?(E=C?(d=C({data:E,sortList:n,$table:pe}),oo().isArray(d)?d:E):(r=oo().toTreeArray(E,{key:c.rowField,parentKey:c.parentField,children:c.mapChildrenField}),oo().toArrayTree(oo().orderBy(r,n.map(({column:e,order:t})=>[pr(e),t])),{key:c.rowField,parentKey:c.parentField,children:c.childrenField,mapChildren:c.mapChildrenField})),T=E):e&&u?(E=C?(s=C({data:E,sortList:n,$table:pe}),oo().isArray(s)?s:E):(i=oo().toTreeArray(E,{children:v}),oo().toArrayTree(oo().orderBy(i,n.map(({column:e,order:t})=>[pr(e),t])),{key:g,parentKey:h,children:p,mapChildren:v})),T=E):(T=C?(o=C({data:T,sortList:n,$table:pe}),oo().isArray(o)?o:T):oo().orderBy(T,n.map(({column:e,order:t})=>[pr(e),t])),E=T))}re.afterFullData=T,re.afterTreeFullData=E,re.afterGroupFullData=E,gr()})(),a=i());e=t?a.slice(r.startIndex,r.endIndex):a.slice(0);let n={};return e.forEach((e,t)=>{var r=fo(pe,e),l=o[r];l&&(l.$index=t),n[r]=e}),te.tableData=e,re.visibleDataRowIdData=n,l&&l.updateViewData&&l.updateViewData(),(0,co.nextTick)()},cacheRowMap(e){let c=Y.treeConfig;var t=te.isRowGroupStatus;let{currKeyField:d,fullAllDataRowIdData:r,tableFullData:l,tableFullTreeData:o,tableFullGroupData:a,treeExpandedMaps:u,rowExpandedMaps:p,selectCheckboxMaps:g}=re,h=e?{}:{...r},v={},m={},f=Vo(pe).handleUpdateRowId,x=(e,t,r,l,o,a,n,i)=>{let s=h[a];m[a]&&_l("vxe.error.repeatKey",[d,a]),s||(s={row:e,rowid:a,seq:i,index:-1,_index:-1,$index:-1,treeIndex:t,_tIndex:-1,items:r,parent:o,level:n,height:0,resizeHeight:0,oTop:0,expandHeight:0},v[a]=s,h[a]=s),s.treeLoaded=!1,s.expandLoaded=!1,s.row=e,s.items=r,s.parent=o,s.level=n,s.index=l,s.treeIndex=t,g[a]&&(g[a]=e),p[a]&&(p[a]=e),m[a]=!0,v[a]=s,h[a]=s};if(c){var e=ue.value;let i=e.lazy,s=e.children||e.childrenField,d=e.hasChild||e.hasChildField;oo().eachTree(o,(e,t,r,l,o,a)=>{var n=f(e);c&&i&&(e[d]&&void 0===e[s]&&(e[s]=null),!u[n]||e[s]&&e[s].length||delete u[n]),x(e,t,r,o?-1:t,o,n,a.length-1,jo(l))},{children:s})}else t?(e=P.value.mapChildrenField,oo().eachTree(a,(e,t,r,l,o,a)=>{var n=f(e);x(e,t,r,o?-1:t,o,n,a.length-1,jo(l))},{children:e})):l.forEach((e,t,r)=>{x(e,t,r,t,null,f(e),0,t+1)});re.fullDataRowIdData=v,re.fullAllDataRowIdData=h,te.treeExpandedFlag++},cacheSourceMap(e){var t=Y.treeConfig,r=ue.value,e=oo().clone(e,!0);let l=Vo(pe).handleUpdateRowId,o={};var a=e=>{var t=l(e);o[t]=e};t?(t=r.children||r.childrenField,oo().eachTree(e,a,{children:r.transform?r.mapChildrenField:t})):e.forEach(a),re.sourceDataRowIdData=o,re.tableSourceData=e},analyColumnWidth(){var e=re.tableFullColumn;let{width:t,minWidth:r}=ae.value,l=[],o=[],a=[],n=[],i=[],s=[],d=[],c=[];e.forEach(e=>{t&&!e.width&&(e.width=t),r&&!e.minWidth&&(e.minWidth=r),e.visible&&(e.resizeWidth?l:"auto"===e.width?d:Mo(e.width)?o:ko(e.width)?i:Mo(e.minWidth)?a:"auto"===e.minWidth?n:ko(e.minWidth)?s:c).push(e)}),Object.assign(te.columnStore,{resizeList:l,pxList:o,pxMinList:a,autoMinList:n,scaleList:i,scaleMinList:s,autoList:d,remainList:c})},handleColResizeMousedownEvent(t,r,l){t.stopPropagation(),t.preventDefault();var o=l.column,{columnStore:a,overflowX:n,scrollbarHeight:i}=te;let T=re.visibleColumn;var{leftList:a,rightList:E}=a;let R=Ze.value,S=n?i:0,F=le.value,D=q.value;n=X.value;let I=Se.value;if(I){let f="left"===r,x="right"===r,b=I.firstElementChild,C=We.value,w=t.clientX;i=t.target;let e=i.parentElement,y=o;var r=o.children&&o.children.length;if(r&&(y=Xo(o),r)&&(r=(o=e?e.parentElement:null)?o.parentElement:null,e=r?r.querySelector(`.vxe-header--column[colid="${y.id}"]`):null),e){o=oo().assign(l,{cell:e,$table:pe});let s=0,d=F.getBoundingClientRect(),c=n?n.getBoundingClientRect():null;var r=e.getBoundingClientRect(),n=i.getBoundingClientRect(),i=i.clientWidth,M=oo().floor(i/2);let u=n.x-d.x+M,p=Uo(o)-M,g=x?0:r.x-d.x+i+p,h=r.x-d.x+e.clientWidth-p,v=0,m=0;if(f||x){let t=!1;var k=f?a:E;for(let e=0;e<k.length;e++){var O=k[e];t?v+=O.renderWidth:(t=O.id===y.id)||(m+=O.renderWidth)}}n=t=>{t.stopPropagation(),t.preventDefault();var r=F.clientHeight,l=t.clientX-w;let e=u+l;f?c&&(e=Math.min(e,c.x-d.x-v-p)):x&&(D&&(e=Math.max(e,D.clientWidth+m+p)),e=Math.min(e,h)),s=Math.max(e,g);l=Math.max(1,s);if(I.style.left=l+"px",I.style.top=`${C?S:0}px`,I.style.height=`${C?r-S:r}px`,R.showDragTip&&b){b.textContent=Bl("vxe.table.resizeColTip",[Math.floor(y.renderWidth+(x?u-s:s-u))]);var o=F.clientWidth,a=I.clientWidth,n=b.clientWidth,i=b.clientHeight;let e=-n;l<n+a?e=0:o<l&&(e+=o-l),b.style.left=e+"px",b.style.top=Math.min(r-i,Math.max(0,t.clientY-d.y-i/2))+"px"}te.isDragResize=!0};te.isDragResize=!0,go(F,"col-drag--resize"),I.style.display="block",document.onmousemove=n,document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null,I.style.display="none",re._lastResizeTime=Date.now(),setTimeout(()=>{te.isDragResize=!1},50);var t=y.renderWidth+(x?u-s:s-u),r={...l,resizeWidth:t,resizeColumn:y};"fixed"===R.dragMode&&T.forEach(e=>{e.id===y.id||e.resizeWidth||(e.resizeWidth=e.renderWidth)}),pe.handleColResizeCellAreaEvent?pe.handleColResizeCellAreaEvent(e,r):(y.resizeWidth=t,Yr(e,r)),po(F,"col-drag--resize")},n(t),pe.closeMenu&&pe.closeMenu()}}},handleColResizeDblclickEvent(r,l){var o=Ze.value.isDblclickAutoWidth,a=le.value;if(o&&a){r.stopPropagation(),r.preventDefault();var o=re.fullColumnIdData,n=l.column;let t=n;n.children&&n.children.length&&oo().eachTree(n.children,e=>{t=e});n=o[t.id],o=r.target.parentNode,o=Uo(Object.assign(l,{cell:o,$table:pe}));a.setAttribute("data-calc-col","Y");let e=ir(t,a);a.removeAttribute("data-calc-col"),n&&(e=Math.max(e,n.width)),e=Math.max(o,e);a={...l,resizeWidth:e,resizeColumn:t};te.isDragResize=!1,re._lastResizeTime=Date.now(),pe.handleColResizeDblclickCellAreaEvent?pe.handleColResizeDblclickCellAreaEvent(r,a):(t.resizeWidth=e,Yr(r,a))}},handleRowResizeMousedownEvent(l,o){l.stopPropagation(),l.preventDefault();let a=o.row;var n=Y.showOverflow,{overflowX:i,scrollbarWidth:h,overflowY:v,scrollbarHeight:m}=te,{elemStore:f,fullAllDataRowIdData:x}=re;let b=v?h:0,C=i?m:0,w=qe.value,y=Ze.value;v=ne.value,h=_.value;let T=le.value,E=(J&&(i=J.getRefMaps().refGanttContainerElem,m=i.value)&&(T=m),Fe.value);if(E){let p=l.clientY,g=E.firstElementChild;i=l.currentTarget.parentNode,m=i.parentNode;if(To(f["main-body-scroll"])){let r=x[fo(pe,a)];if(r){f=H.value;let s=r.resizeHeight||h.height||v.height||r.height||f,d=(n||(s=i.clientHeight),T.getBoundingClientRect());x=m.getBoundingClientRect();let e=p-x.y-m.clientHeight,c=s;h=i.querySelector(".vxe-cell");let t=0,u=(h&&(v=getComputedStyle(h),t=Math.max(1,Math.ceil(oo().toNumber(v.paddingTop)+oo().toNumber(v.paddingBottom)))),x.y-d.y+t);f=r=>{r.stopPropagation(),r.preventDefault();var l=T.clientWidth-b,o=T.clientHeight-C;let a=r.clientY-d.y-e;if(a<u?a=u:c=Math.max(t,s+r.clientY-p),E.style.left=`${w?b:0}px`,E.style.top=a+"px",E.style.width=l+"px",y.showDragTip&&g){g.textContent=Bl("vxe.table.resizeRowTip",[c]);var n=g.clientWidth,i=g.clientHeight;let e=Math.max(2,r.clientX-d.x),t=0;e+n>=l-2&&(e=l-n-2),a+i>=o&&(t=o-(a+i)),g.style.left=e+"px",g.style.top=t+"px"}te.isDragResize=!0};te.isDragResize=!0,go(T,"row-drag--resize"),E.style.display="block",document.onmousemove=f,document.onmouseup=function(e){var t;document.onmousemove=null,document.onmouseup=null,E.style.display="none",re._lastResizeTime=Date.now(),setTimeout(()=>{te.isDragResize=!1},50),c!==s&&(t={...o,resizeHeight:c,resizeRow:a},re.isResizeCellHeight=!0,pe.handleRowResizeCellAreaEvent?pe.handleRowResizeCellAreaEvent(e,t):(r.resizeHeight=c,Zr(e,t),G())),po(T,"row-drag--resize")},f(l)}}}},handleRowResizeDblclickEvent(o,a){var e=Ze.value.isDblclickAutoHeight;let n=le.value;if(e&&n){o.stopPropagation(),o.preventDefault();var e=te.editStore,t=re.fullAllDataRowIdData,e=e.actived;let r=a.row,l=t[fo(pe,r)];l&&(t=()=>{n.setAttribute("data-calc-row","Y");var e=cr(l,n),t=(n.removeAttribute("data-calc-row"),{...a,resizeHeight:e,resizeRow:r});te.isDragResize=!1,re._lastResizeTime=Date.now(),pe.handleRowResizeDblclickCellAreaEvent?pe.handleRowResizeDblclickCellAreaEvent(o,t):(l.resizeHeight=e,Zr(o,t))},e.row||e.column?pe.clearEdit().then(t):t())}},saveCustomStore(e){var t=Y.customConfig,r=g.value,l=kt.value,{updateStore:o,storage:a,storeOptions:n}=l,i=!0===a,n=Object.assign({},!i&&a||{},n),s=F(n.resizable,i),d=F(n.visible,i),c=F(n.fixed,i),u=F(n.sort,i),p=F(n.aggGroup,i),n=F(n.aggFunc,i);if("reset"!==e&&(te.isCustomStatus=!0),a&&(t?ao(l):l.enabled)&&(s||d||c||u||p||n)){if(!r)return _l("vxe.error.reqProp",["id"]),(0,co.nextTick)();i="reset"===e?{resizableData:{},sortData:[],visibleData:{},fixedData:{},aggGroupData:{},aggFuncData:{}}:N.getCustomStoreData();if(o)return o({$table:pe,id:r,type:e,storeData:i});a=r,t="reset"===e?null:i,l=Pl().version,(s=Wt())[a]=t||void 0,s._v=l,localStorage.setItem(ro,oo().toJSONString(s))}return(0,co.nextTick)()},handleCustom(){var e=Y.mouseConfig;return e&&(pe.clearSelected&&pe.clearSelected(),pe.clearCellAreas)&&(pe.clearCellAreas(),pe.clearCopyCellArea()),z.analyColumnWidth(),N.refreshColumn(!0)},handleUpdateDataQueue(){te.upDataFlag++},handleRefreshColumnQueue(){te.reColumnFlag++},handleFilterOptions(o){if(o){var e=te.filterStore,{filterRender:t,filters:r}=o,r=r||[],t=ao(t)?Kl.get(t.name):null;let l=o.filterRecoverMethod||(t?t.tableFilterRecoverMethod||t.filterRecoverMethod:null);e.column=o,r.forEach(e=>{var{_checked:t,checked:r}=e;(e._checked=r)||t===r||l&&l({option:e,column:o,$table:pe})}),pe.checkFilterOptions()}},preventEvent(t,e,r,l,o){let a=Jl.get(e),n=(a.length||"event.clearEdit"!==e||(a=Jl.get("event.clearActived")).length&&Hl("vxe.error.delEvent",["event.clearActived","event.clearEdit"]),null),i=!1;for(let e=0;e<a.length;e++){var s=(0,a[e])(Object.assign({$table:pe,$grid:Q,gantt:J,$event:t},r));if(!1===s){i=!0;break}if(s&&!1===s.status){n=s.result,i=!0;break}}return i||l&&(n=l()),o&&o(),n},updateCheckboxStatus(){var e=Y.treeConfig,t=te.isRowGroupStatus;let{afterTreeFullData:r,afterGroupFullData:o,selectCheckboxMaps:d,treeIndeterminateRowMaps:c}=re;var i=P.value,u=ue.value;let p=u.children||u.childrenField,{checkField:g,indeterminateField:h,checkStrictly:l,checkMethod:v}=de.value;if(!l){if(t||e){let s=xo(pe).handleGetRowId,a={},n=[];if(t){let l=i.mapChildrenField;l&&oo().eachTree(o,e=>{var t=s(e),r=e[l];r&&r.length&&!a[t]&&(a[t]=1,n.unshift([e,t,r]))},{children:l})}else if(e){let{transform:l,mapChildrenField:o}=u;oo().eachTree(r,e=>{var t=s(e),r=e[l?o:p];r&&r.length&&!a[t]?(a[t]=1,n.unshift([e,t,r])):h&&oo().set(e,h,!1)},{children:l?o:p})}n.forEach(e=>{var t=e[0],r=e[1],e=e[2];let l=0,o=0,a=0;var n=e.length;e.forEach(v?e=>{var t=s(e),r=g?oo().get(e,g):d[t];v({$table:pe,row:e})?(r?l++:c[t]&&o++,a++):r?l++:c[t]&&o++}:e=>{var t=s(e);(g?oo().get(e,g):d[t])?l++:c[t]&&o++,a++});let i=!1;e=!(i=0<n?0<a?(0<l||0<o)&&l>=a:0<l&&l>=a||!!d[r]:d[r])&&(0<l||0<o);g&&oo().set(t,g,i),h&&oo().set(t,h,e),i?(g||(d[r]=t),c[r]&&delete c[r]):(g||d[r]&&delete d[r],e?c[r]=t:c[r]&&delete c[r])})}te.updateCheckboxFlag++}},updateAllCheckboxStatus(){var e=Y.treeConfig;let o=te.isRowGroupStatus,{afterFullData:t,afterTreeFullData:r,afterGroupFullData:l,checkboxReserveRowMap:a,selectCheckboxMaps:n,treeIndeterminateRowMaps:i}=re,s=P.value.mapChildrenField,{checkField:d,checkMethod:c,showReserveStatus:u}=de.value,p=xo(pe).handleGetRowId,g=0,h=0,v=0,m=0,f=0;e=e?r:o?l:t,e.forEach(c?e=>{var t,r=p(e),l=d?oo().get(e,d):n[r];o&&pe.isAggregateRecord(e)?(t=e[s||""],l?(f++,g++):i[r]?(f++,v++):t&&t.length&&t.some(e=>c({$table:pe,row:e}))&&f++):c({$table:pe,row:e})?(l?g++:i[r]&&v++,f++):l?h++:i[r]&&m++}:e=>{var t=p(e);(d?oo().get(e,d):n[t])?g++:i[t]&&v++,f++}),e=0<e.length&&(0<f?g>=f:g>=e.length);let x=!e&&(0<g||0<v||0<h||0<m);e||x||!u||(x=!oo().isEmpty(a)),te.isAllSelected=e,te.isIndeterminate=x},checkSelectionStatus(){pe.updateCheckboxStatus(),pe.updateAllCheckboxStatus()},handleBatchSelectRows(e,r,l){var t=Y.treeConfig,o=te.isRowGroupStatus;let a=re.selectCheckboxMaps;var n=P.value,i=ue.value,{transform:s,mapChildrenField:d}=i,i=i.children||i.childrenField,c=de.value;let{checkField:u,checkStrictly:p,checkMethod:g}=c,h=xo(pe).handleGetRowId,v=c.indeterminateField||c.halfField;if(u)!t&&!o||p?e.forEach(e=>{!l&&g&&!g({$table:pe,row:e})||(oo().set(e,u,r),xr(e,r))}):oo().eachTree(e,e=>{!l&&g&&!g({$table:pe,row:e})||(oo().set(e,u,r),v&&oo().set(e,v,!1),xr(e,r))},{children:s?d:i}),te.updateCheckboxFlag++;else{if(!p){if(o)return oo().eachTree(e,e=>{var t=h(e);!l&&g&&!g({$table:pe,row:e})||(r?a[t]=e:a[t]&&delete a[t],xr(e,r))},{children:n.mapChildrenField}),void te.updateCheckboxFlag++;if(t)return oo().eachTree(e,e=>{var t=h(e);!l&&g&&!g({$table:pe,row:e})||(r?a[t]=e:a[t]&&delete a[t],xr(e,r))},{children:s?d:i}),void te.updateCheckboxFlag++}e.forEach(e=>{var t=h(e);!l&&g&&!g({$table:pe,row:e})||(r?a[t]||(a[t]=e):a[t]&&delete a[t],xr(e,r),te.updateCheckboxFlag++)})}},handleSelectRow({row:e},t,r){pe.handleBatchSelectRows([e],t,r)},handleUpdateBodyMerge(){var e=re.mergeBodyList;re.mergeBodyCellMaps=er(e),te.mergeBodyFlag++},handleUpdateHeaderMerge(){var e=re.mergeHeaderList;re.mergeHeaderCellMaps=er(e),te.mergeHeadFlag++},handleUpdateFooterMerge(){var e=re.mergeFooterList;re.mergeFooterCellMaps=er(e),te.mergeFootFlag++},handleAggregateSummaryData(){return(()=>{var{aggregateConfig:e,rowGroupConfig:t}=Y,r=te.isRowGroupStatus,l=re.tableFullGroupData,o=P.value.mapChildrenField;if((e||t)&&r){let t=[];oo().eachTree(l,e=>{e.isAggregate&&t.push(e)},{children:o}),Or(t)}})()},triggerHeaderTitleEvent(r,e,l){var o=e.content||e.message;if(o){var a=te.tooltipStore,l=l.column;let t=no(o);ul(!0),a.row=null,a.column=l,a.visible=!0,a.currOpts=e,(0,co.nextTick)(()=>{var e=oe.value;e&&e.open&&e.open(r.currentTarget,t)})}},triggerHeaderTooltipEvent(e,t){var r,l,o=te.tooltipStore,a=et.value,n=t.column,e=(ul(!0),e.currentTarget);(e=e&&e.parentElement)&&(r=e.parentElement)&&(l=r.parentElement)&&(o.column!==n||!o.visible)&&(n=l.querySelector(".vxe-cell--title"),bl(0,a,"header",l,(uo(l,"col--ellipsis")?n:e)||e,n||r,t))},triggerBodyTooltipEvent(r,l){var o=Y.editConfig,e=te.editStore,t=te.tooltipStore,a=Je.value,n=ot.value,e=e.actived,{row:i,column:s}=l,r=r.currentTarget;if(ul(t.column!==s||t.row!==i),s.editRender&&ao(o)){if("row"===n.mode&&e.row===i)return;if(e.row===i&&e.column===s)return}if(t.column!==s||t.row!==i||!t.visible){o=r.querySelector(".vxe-cell--wrapper");let e=null,t=r.querySelector("html"===s.type?".vxe-cell--html":".vxe-cell--label");s.treeNode&&(e=r.querySelector(".vxe-tree-cell")),t=t||o,bl(0,a,"body",r,e||o,t,l)}},triggerFooterTooltipEvent(r,l){var o=l.column,a=te.tooltipStore,n=tt.value,r=r.currentTarget;if(ul(a.column!==o||!!a.row),a.column!==o||!a.visible){a=r.querySelector(".vxe-cell--wrapper");let e=null,t=r.querySelector("html"===o.type?".vxe-cell--html":".vxe-cell--label");"html"===o.type&&(e=r.querySelector(".vxe-cell--html")),t=t||a,bl(0,n,"footer",r,e||a,t,l)}},handleTargetLeaveEvent(){var e=Je.value;let t=oe.value;t&&t.setActived&&t.setActived(!1),e.enterable?re.tooltipTimeout=setTimeout(()=>{(t=oe.value)&&t.isActived&&!t.isActived()&&pe.closeTooltip()},e.leaveDelay):pe.closeTooltip()},triggerHeaderCellClickEvent(e,t){var r=re._lastResizeTime,l=S.value,o=ae.value,a=Ke.value,n=t.column,i=e.currentTarget,r=r&&r>Date.now()-300,s=mo(e,i,"vxe-cell--sort").flag,d=mo(e,i,"vxe-cell--filter").flag;"cell"!==l.trigger||r||s||d||pe.triggerSortEvent(e,n,Ut(n)),j("header-cell-click",Object.assign({triggerResizable:r,triggerSort:s,triggerFilter:d,cell:i},t),e),!o.isCurrent&&!Y.highlightCurrentColumn||a.trigger&&!["header","default"].includes(a.trigger)||pe.triggerCurrentColumnEvent(e,t)},triggerHeaderCellDblclickEvent(e,t){j("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},triggerCellClickEvent(e,t){var r,l,o,a,n,i,s,d,c,u,p,g,h,v,m,f,x,b,C,w,y,T,E,{treeConfig:R,highlightCurrentRow:S,highlightCurrentColumn:F,editConfig:D,aggregateConfig:I,rowGroupConfig:M}=Y,{editStore:k,isDragResize:O,expandColumn:A,checkboxColumn:$,radioColumn:L}=te;O||(O=V.value,r=ot.value,l=ue.value,o=B.value,a=de.value,n=st.value,i=P.value,s=ne.value,d=ae.value,c=Ke.value,{actived:k,focused:u}=k,{row:p,column:g}=t,{type:m,treeNode:h,rowGroupNode:v}=g,f="checkbox"===m,x="expand"===m,b=e.currentTarget,C=(m="radio"===m)&&mo(e,b,"vxe-cell--radio").flag,w=f&&mo(e,b,"vxe-cell--checkbox").flag,y=h&&mo(e,b,"vxe-cell--tree-btn").flag,T=x&&mo(e,b,"vxe-table--expanded").flag,E=x&&mo(e,b,"vxe-row-group--node-btn").flag,t=Object.assign({cell:b,triggerRadio:C,triggerCheckbox:w,triggerTreeNode:y,triggerExpandNode:T},t),w||C||(!T&&(A&&"row"===O.trigger||x&&"cell"===O.trigger)&&pe.triggerRowExpandEvent(e,t),R&&("row"===l.trigger||h&&"cell"===l.trigger)&&pe.triggerTreeExpandEvent(e,t),(I||M)&&("row"===i.trigger||v&&"cell"===i.trigger)&&pe.triggerRowGroupExpandEvent(e,t)),y||(T||E||(!s.isCurrent&&!S||w||C||pe.triggerCurrentRowEvent(e,t),!d.isCurrent&&!F||c.trigger&&!["cell","default"].includes(c.trigger)||w||C||pe.triggerCurrentColumnEvent(e,t),!C&&(L&&"row"===o.trigger||m&&"cell"===o.trigger)&&pe.triggerRadioRowEvent(e,t),!w&&($&&"row"===a.trigger||f&&"cell"===a.trigger)&&pe.handleToggleCheckRowEvent(e,t)),ao(D)&&(n.arrowCursorLock&&e&&"cell"===r.mode&&e.target&&/^input|textarea$/i.test(e.target.tagName)&&(u.column=g,u.row=p),"manual"===r.trigger?k.args&&k.row===p&&g!==k.column&&vr(e,t):k.args&&p===k.row&&g===k.column||("click"===r.trigger||"dblclick"===r.trigger&&"row"===r.mode&&k.row===p)&&vr(e,t))),ao(D)&&"dblclick"===r.trigger&&k.row&&k.column&&("row"===r.mode?pe.eqRow(k.row,p)||pe.handleClearEdit(e):"cell"!==r.mode||pe.eqRow(k.row,p)&&k.column.id===g.id||pe.handleClearEdit(e)),j("cell-click",t,e))},triggerCellDblclickEvent(e,t){var r,l=Y.editConfig,{editStore:o,isDragResize:a}=te;a||(a=ot.value,o=o.actived,r=e.currentTarget,t=Object.assign({cell:r},t),!ao(l)||"dblclick"!==a.trigger||o.args&&e.currentTarget===o.args.cell||("row"===a.mode?hr("blur").catch(e=>e).then(()=>{pe.handleEdit(t,e).then(()=>hr("change")).catch(e=>e)}):"cell"===a.mode&&pe.handleEdit(t,e).then(()=>hr("change")).catch(e=>e)),j("cell-dblclick",t,e))},handleToggleCheckRowEvent(t,r){var l=re.selectCheckboxMaps,{checkField:o,trigger:e}=de.value,a=r.row;if("manual"!==e){let e=!1;e=o?!oo().get(a,o):!l[fo(pe,a)],t?pe.triggerCheckRowEvent(t,r,e):(pe.handleBatchSelectRows([a],e),pe.checkSelectionStatus())}},triggerCheckRowEvent(t,r,e){var l=Y.treeConfig,o=r.row,a=te.isRowGroupStatus,n=re.afterFullData,i=de.value,{checkMethod:s,trigger:d}=i;if("manual"!==d){if(t.stopPropagation(),i.isShiftKey&&t.shiftKey&&!l&&!a){d=pe.getCheckboxRecords();if(d.length){i=d[0],l=pe.getVTRowIndex(o),d=pe.getVTRowIndex(i);if(l!==d){pe.setAllCheckboxRow(!1);let e=l<d?n.slice(l,d+1):n.slice(d,l+1);return(0,co.nextTick)(()=>{Cr(e,!0,!1)}),void j("checkbox-range-select",Object.assign({rangeRecords:e},r),t)}}}!a&&s&&!s({$table:pe,row:o})||(pe.handleBatchSelectRows([o],e),pe.checkSelectionStatus(),j("checkbox-change",Object.assign({records:()=>pe.getCheckboxRecords(),reserves:()=>pe.getCheckboxReserveRecords(),indeterminates:()=>pe.getCheckboxIndeterminateRecords(),checked:e},r),t))}},triggerCheckAllEvent(e,t){var r=de.value.trigger;"manual"!==r&&(e&&e.stopPropagation(),Wr(e,t))},triggerRadioRowEvent(r,l){var o=te.selectRadioRow,a=l.row,n=B.value,{trigger:e,checkMethod:t}=n;if("manual"!==e&&(r.stopPropagation(),!t||t({$table:pe,row:a}))){let e=a,t=o!==e;t?br(e):n.strict||(t=o===e)&&(e=null,pe.clearRadioRow()),t&&j("radio-change",{oldValue:o,newValue:e,...l},r)}},triggerCurrentColumnEvent(e,t){var r=te.currentColumn,l=ae.value,o=Ke.value,l=o.beforeSelectMethod||l.currentMethod,a=t.column,o=o.trigger;"manual"!==o&&(o=r!==a,!l||l({column:a,$table:pe})?(pe.setCurrentColumn(a),o&&j("current-column-change",{oldValue:r,newValue:a,...t},e)):j("current-column-disabled",t,e))},triggerCurrentRowEvent(e,t){var r=te.currentRow,l=ne.value,o=Ye.value,l=o.beforeSelectMethod||l.currentMethod,a=t.row,o=o.trigger;"manual"!==o&&(o=r!==a,!l||l({row:a,$table:pe})?(pe.setCurrentRow(a),o&&(j("current-row-change",{oldValue:r,newValue:a,...t},e),j("current-change",{oldValue:r,newValue:a,...t},e))):j("current-row-disabled",t,e))},triggerRowExpandEvent(e,t){var r=te.expandColumn,l=re.rowExpandLazyLoadedMaps,t=t.row,{lazy:o,trigger:a}=V.value;"manual"===a||(e.stopPropagation(),a=fo(pe,t),o&&l[a])||(o=!pe.isRowExpandByRow(t),l=r?pe.getColumnIndex(r):-1,a=r?pe.getVMColumnIndex(r):-1,pe.setRowExpand(t,o),j("toggle-row-expand",{expanded:o,column:r,columnIndex:l,$columnIndex:a,row:t,rowIndex:pe.getRowIndex(t),$rowIndex:pe.getVMRowIndex(t)},e))},triggerRowGroupExpandEvent(e,t){var r,l=re.rowGroupExpandedMaps,{row:t,column:o}=t,a=P.value.trigger;"manual"!==a&&(e.stopPropagation(),a=!l[fo(pe,t)],l=pe.getColumnIndex(o),r=pe.getVMColumnIndex(o),pe.setRowGroupExpand(t,a),j("toggle-row-group-expand",{expanded:a,column:o,columnIndex:l,$columnIndex:r,row:t},e))},triggerTreeExpandEvent(e,t){var{treeExpandLazyLoadedMaps:r,treeEATime:l}=re,o=ue.value;let{row:a,column:n}=t,{lazy:i,trigger:s,accordion:d}=o;"manual"===s||(e.stopPropagation(),t=fo(pe,a),i&&r[t])||(o=!pe.isTreeExpandByRow(a),r=pe.getColumnIndex(n),t=pe.getVMColumnIndex(n),l&&clearTimeout(l),pe.setTreeExpand(a,o).then(()=>{d&&(re.treeEATime=setTimeout(()=>{re.treeEATime=void 0,pe.scrollToRow(a)},30))}),j("toggle-tree-expand",{expanded:o,column:n,columnIndex:r,$columnIndex:t,row:a},e))},handleColumnSortEvent(e,t){var r=Y.mouseConfig,l=ce.value,{field:o,sortable:a,order:n}=t;a&&(a={$table:pe,$event:e,column:t,field:o,property:o,order:n,sortList:N.getSortColumns(),sortTime:t.sortTime},r&&l.area&&pe.handleSortEvent&&pe.handleSortEvent(e,a),n||j("clear-sort",a,e),j("sort-change",a,e))},triggerSortEvent(e,t,r){var{multiple:l,allowClear:o}=S.value,{field:a,sortable:n}=t;n&&(r&&t.order!==r?pe.sort({field:a,order:r}):o&&pe.clearSort(l?t:null),pe.handleColumnSortEvent(e,t))},handleCellRuleUpdateStatus(e,t,l){let o=te.validStore,{row:a,column:n}=t;if(pe.hasCellRules&&pe.hasCellRules(e,a,n)){let r=pe.getCellElement(a,n);if(r){let t=!oo().isUndefined(l);return pe.validCellRules(e,a,n,l).then(()=>{t&&o.visible&&yo(a,n,l),pe.clearValidate(a,n)}).catch(({rule:e})=>{t&&yo(a,n,l),pe.showValidTooltip({rule:e,row:a,column:n,cell:r})})}}return(0,co.nextTick)()},triggerHeaderCellMousedownEvent(e,t){var r=Y.mouseConfig,l=ce.value,o=ae.value,{trigger:a,isCrossDrag:n,isPeerDrag:i,disabledMethod:s}=se.value,d=e.currentTarget,c=d&&d.tagName&&"input"===d.tagName.toLowerCase(),u=mo(e,d,"vxe-cell--checkbox").flag,p=mo(e,d,"vxe-cell--sort").flag,g=mo(e,d,"vxe-cell--filter").flag;let h=!1;o=o.drag&&"cell"===a;c||u||p||g||(a=t.column,!o)||a.fixed||!n&&!i&&a.parentId||s&&s(t)||(h=!0,pe.handleHeaderCellDragMousedownEvent(e,t)),!h&&r&&l.area&&pe.handleHeaderCellAreaMouseDnEvent&&pe.handleHeaderCellAreaMouseDnEvent(e,Object.assign({cell:d,triggerSort:p,triggerFilter:g},t)),pe.focus(),pe.closeMenu&&pe.closeMenu()},triggerCellMousedownEvent(e,t){var r=t.column,{type:l,treeNode:o}=r,a="radio"===l,n="checkbox"===l,l="expand"===l,i=ne.value,{trigger:s,isCrossDrag:d,isPeerDrag:c,disabledMethod:u}=ie.value,p=e.currentTarget,g=(t.cell=p)&&p.tagName&&"input"===p.tagName.toLowerCase(),a=a&&mo(e,p,"vxe-cell--radio").flag,n=n&&mo(e,p,"vxe-cell--checkbox").flag,o=o&&mo(e,p,"vxe-cell--tree-btn").flag,l=l&&mo(e,p,"vxe-table--expanded").flag;let h=!1,v=(i.drag&&(h="row"===s||r.dragSort&&"cell"===s),!1);g||a||n||o||l||!h||!d&&!c&&t.level||u&&u(t)||(v=!0,pe.handleCellDragMousedownEvent(e,t)),!v&&pe.handleCellMousedownEvent&&pe.handleCellMousedownEvent(e,t),pe.focus(),pe.closeFilter(),pe.closeMenu&&pe.closeMenu()},triggerCellMouseupEvent(){pl()},handleRowDragDragstartEvent(e){e.dataTransfer&&e.dataTransfer.setDragImage(Io(),0,0)},handleRowDragSwapEvent(p,e,g,h,v,t){let{treeConfig:m,dragConfig:r}=Y;var l=ie.value;let{afterFullData:f,tableFullData:x,fullAllDataRowIdData:b}=re,C=re.xeGanttView,{animation:w,isPeerDrag:y,isCrossDrag:T,isSelfToChildDrag:E,dragEndMethod:o,dragToChildMethod:a}=l;l=ue.value;let R=_.value,S=ne.value,F=H.value,{transform:D,rowField:I,mapChildrenField:M,parentField:k}=l,O=l.children||l.childrenField;l=o||(r?r.dragEndMethod:null);let A="bottom"===v?1:0,$=le.value,L={status:!1};if(!($&&h&&g))return Promise.resolve(L);if(h===g)return Promise.resolve(L);{var n={oldRow:g,newRow:h,dragRow:g,dragPos:v,dragToChild:!!t,offsetIndex:A};let u=E&&a?a(n):t;return Promise.resolve(!l||l(n)).then(r=>{if(!r)return fl(),U(),L;let e=fo(pe,g);r=b[e]||{};let d=r._index,c=0,t=-1,l=(w&&(c=Co(r,R,S,F),a=$.querySelector(`.vxe-body--row[rowid="${e}"]`))&&(t=a.offsetTop),-1),o=-1;if(m){if(D){var a=r,r=fo(pe,h),n=b[r];if(a&&n){var i=a.level,s=n.level;let t={},e=(oo().eachTree([g],e=>{t[fo(pe,e)]=e},{children:M}),!1);if(i&&s)if(y&&!T){if(a.row[k]!==n.row[k])return L}else{if(!T)return L;if(t[r]&&(e=!0,!T||!E))return lo.VxeUI.modal&&lo.VxeUI.modal.message({status:"error",content:Bl("vxe.error.treeDragChild")}),L}else if(i){if(!T)return L}else if(s){if(!T)return L;if(t[r]&&(e=!0,!T||!E))return lo.VxeUI.modal&&lo.VxeUI.modal.message({status:"error",content:Bl("vxe.error.treeDragChild")}),L}a=oo().toTreeArray(re.afterTreeFullData,{key:I,parentKey:k,children:M}),n=pe.findRowIndexOf(a,g),i=(a.splice(n,1),pe.findRowIndexOf(a,h)),s=i+A;a.splice(s,0,g),e&&T&&E&&oo().each(g[O],e=>{e[k]=g[k]}),g[k]=u?h[I]:h[k],re.tableFullTreeData=oo().toArrayTree(a,{key:I,parentKey:k,children:O,mapChildren:M})}}}else{l=pe.findRowIndexOf(f,g);r=pe.findRowIndexOf(x,g),n=(f.splice(l,1),x.splice(r,1),pe.findRowIndexOf(f,h)),i=pe.findRowIndexOf(x,h),s=(o=n+A,i+A);f.splice(o,0,g),x.splice(s,0,g)}return fl(),U(),pe.handleTableData(m&&D),pe.cacheRowMap(!1),jr(),m&&D||pe.updateAfterDataIndex(),pe.checkSelectionStatus(),te.scrollYLoad&&pe.updateScrollYSpace(),p&&j("row-dragend",{oldRow:g,newRow:h,dragRow:g,dragPos:v,dragToChild:u,offsetIndex:A,_index:{newIndex:o,oldIndex:l}},p),(0,co.nextTick)().then(()=>{if(w){var o=te.tableData,a=b[e],n=a._index,i=o[0],i=b[fo(pe,i)];let l=$;if(J&&C&&(s=J.getRefMaps().refGanttContainerElem,s=s.value)&&(l=s),i){var s=i._index,i=s+o.length;let e=-1,t=-1,r=1;d<s?(e=0,t=n-s):d>i?(i=a.$index,e=i+1,t=o.length,r=-1):n>d?(e=d-s,t=e+n-d):(e=n-s,t=e+d-n+1,r=-1);a=o.slice(e,t);if(a.length){let t=[];a.forEach(e=>{e=fo(pe,e);t.push(`.vxe-body--row[rowid="${e}"]`),J&&t.push(`.vxe-gantt-view--body-row[rowid="${e}"]`,`.vxe-gantt-view--chart-row[rowid="${e}"]`)}),Jo(l.querySelectorAll(t.join(",")),r*c)}}i=[`.vxe-body--row[rowid="${e}"]`],s=(J&&i.push(`.vxe-gantt-view--body-row[rowid="${e}"]`,`.vxe-gantt-view--chart-row[rowid="${e}"]`),l.querySelectorAll(i.join(","))),n=s[0];-1<t&&n&&Jo(s,t-n.offsetTop)}G(),Jr(),pe.updateCellAreas(),pe.recalculate()}).then(()=>({status:!0}))}).catch(()=>L)}},handleCrossTableRowDragCancelEvent(){fl(),U()},handleCrossTableRowDragFinishEvent(t){var r=te.tableData,a=re.fullAllDataRowIdData,n=ne.value,i=_.value,s=H.value;let{animation:d,isCrossTableDrag:e}=ie.value;var c=ue.value.mapChildrenField;let u=le.value;if(e&&jl&&fe){var p=fe.row;if(p){a=a[fo(pe,p)];let l=0,e=-1,o=(a&&(d&&(l=Co(a,i,n,s)),e=a.$index),-1<e&&e<r.length-1?r.slice(e+1):[]);i=oo().toTreeArray([p],{updated:!0,children:c});pe.remove(i).then(()=>{if(d&&l&&o.length){var r=re.xeGanttView;let e=u,t=(J&&r&&(r=J.getRefMaps().refGanttContainerElem,r=r.value)&&(e=r),[]);o.forEach(e=>{e=fo(pe,e);t.push(`.vxe-body--row[rowid="${e}"]`),J&&t.push(`.vxe-gantt-view--body-row[rowid="${e}"]`,`.vxe-gantt-view--chart-row[rowid="${e}"]`)}),Jo(e.querySelectorAll(t.join(",")),l)}}),j("row-remove-dragend",{row:p},t),fl(),U()}}},handleCrossTableRowDragoverEmptyEvent(e){var t,r=te.tableData,l=ie.value.isCrossTableDrag;l&&jl&&!r.length&&({$oldTable:l,$newTable:r}=jl,l)&&(t=l.reactData,l.xID!==pe.xID)&&(r&&r.xID!==pe.xID&&r.hideCrossTableRowDropClearStatus(),e.preventDefault(),l.hideCrossTableRowDropClearStatus(),jl.$newTable=pe,re.prevDragRow=null,te.dragTipText=t.dragTipText,vl(e,e.currentTarget,null,!0,""))},handleCrossTableRowDragInsertEvent(d){let c=Y.treeConfig,{prevDragRow:u,prevDragPos:p,prevDragToChild:e}=re;let{animation:g,isSelfToChildDrag:t,isCrossTableDrag:r,dragEndMethod:h,dragToChildMethod:v}=ie.value,m=ne.value,f=_.value,x=H.value;var b=ue.value;let{parentField:C,mapChildrenField:w}=b,y=b.children||b.childrenField;if(r&&jl&&fe){let n=fe.row,i=jl.$oldTable,s=le.value;if(i&&n){let a=n,r=-1;u&&(r="bottom"===p?1:0);b={oldRow:a,newRow:u,dragRow:a,dragPos:p,dragToChild:!!e,offsetIndex:r};let l=t&&v?v(b):e,o={status:!1};Promise.resolve(!h||h(b)).then(e=>{if(!e)return i&&i.xID!==pe.xID&&i.handleCrossTableRowDragCancelEvent(d),fl(),U(),o;let t=Promise.resolve();t=c?(e=oo().toTreeArray([a],{updated:!0,children:w}),i.handleCrossTableRowDragFinishEvent(d),u?a[C]=u[C]:a[C]=null,e.forEach(e=>{e[y]=void 0,e[w]=void 0}),u?"bottom"===p?pe.insertNextAt(e,u):pe.insertAt(e,u):pe.insert(e)):(i.handleCrossTableRowDragFinishEvent(d),u?"bottom"===p?pe.insertNextAt(a,u):pe.insertAt(a,u):pe.insert(a)),j("row-insert-dragend",{oldRow:n,newRow:u,dragRow:a,dragPos:p,dragToChild:l,offsetIndex:r},d),fl(),t.then(()=>{var r=te.tableData,l=re.fullAllDataRowIdData,l=l[fo(pe,a)];let o=0,e=-1;l&&(g&&(o=Co(l,f,m,x)),e=l.$index);l=-1<e?r.slice(e):[];if(g&&o&&l.length){var r=re.xeGanttView;let e=s,t=(J&&r&&(r=J.getRefMaps().refGanttContainerElem,r=r.value)&&(e=r),[]);l.forEach(e=>{e=fo(pe,e);t.push(`.vxe-body--row[rowid="${e}"]`),J&&t.push(`.vxe-gantt-view--body-row[rowid="${e}"]`,`.vxe-gantt-view--chart-row[rowid="${e}"]`)}),Jo(e.querySelectorAll(t.join(",")),-o)}})})}}},hideCrossTableRowDropClearStatus(){ml()},handleRowDragDragendEvent(e){var t=Y.treeConfig,{fullAllDataRowIdData:r,prevDragToChild:l}=re,o=te.dragRow,a=ue.value,n=a.lazy,a=a.hasChild||a.hasChildField,{prevDragRow:i,prevDragPos:s}=re,d=ie.value.isCrossTableDrag;if(d&&jl){var d=jl.$newTable;if(d&&d.xID!==pe.xID)return void d.handleCrossTableRowDragInsertEvent(e)}t&&n&&l&&(d=r[fo(pe,i)],i[a])&&(!d||!d.treeLoaded)||pe.handleRowDragSwapEvent(e,!0,o,i,s,l)},handleRowDragDragoverEvent(t){var r=Y.treeConfig,l=re.fullAllDataRowIdData,o=te.dragRow,a=ue.value,{lazy:n,transform:i,parentField:s}=a,a=a.hasChild||a.hasChildField,{isPeerDrag:d,isCrossDrag:c,isToChildDrag:u,isCrossTableDrag:p}=ie.value;if(o||p&&(!r||c)&&jl){var g=Oo(t),h=t.currentTarget;let e=h.getAttribute("rowid")||"";var v=l[e];if(v){t.preventDefault();var m=v.row;let e=fo(pe,m);var l=l[e],f=t.clientY-h.getBoundingClientRect().y<h.clientHeight/2?"top":"bottom";if(re.prevDragToChild=!!(r&&i&&c&&u&&g),re.prevDragRow=m,re.prevDragPos=f,p&&(!r||c)&&jl){var{$oldTable:u,$newTable:p}=jl;if(u){var x=u.reactData;if(u.xID!==pe.xID)return p&&p.xID!==pe.xID&&p.hideCrossTableRowDropClearStatus(),u.hideCrossTableRowDropClearStatus(),x.isCrossDragRow=!0,te.dragTipText=x.dragTipText,jl.$newTable=pe,void vl(t,h,null,!0,f);p&&p.hideCrossTableRowDropClearStatus(),te.isCrossDragRow=!1,x.isCrossDragRow=!1,jl.$newTable=null}}pe.eqRow(o,m)||g&&r&&n&&m[a]&&l&&!l.treeLoaded||!c&&r&&i&&(d?o[s]!==m[s]:v.level)?vl(t,h,null,!1,f):(vl(t,h,null,!0,f),j("row-dragover",{oldRow:o,targetRow:m,dragPos:f},t))}}else t.preventDefault()},handleCellDragMousedownEvent(e,t){e.stopPropagation();var r=Y.dragConfig,{isCrossTableDrag:l,trigger:o,dragStartMethod:a}=ie.value,n=t.row,i=e.currentTarget,o="cell"===o||"row"===o?i:i.parentElement?.parentElement,i=o.parentElement,a=a||(r?r.dragStartMethod:null);gl(),a&&!a(t)?(i.draggable=!1,te.dragRow=null,te.dragCol=null,U(),ml()):(l&&(fe.row=n,jl={$oldTable:pe,$newTable:null}),te.dragRow=n,te.isCrossDragRow=!1,te.dragCol=null,i.draggable=!0,(e=>{var t=le.value;if(t){e=fo(pe,e);oo().arrayEach(t.querySelectorAll(`[rowid="${e}"]`),e=>{go(e,"row--drag-origin")})}})(n),(e=>{var t=Y.dragConfig,r=te.dragRow,l=ie.value.tooltipMethod,l=l||(t?t.rowTooltipMethod:null);let o="";o=l?""+(l({$table:pe,row:r})||""):Bl("vxe.table.dragTip",[e.textContent||""]),te.dragTipText=o})(o),j("row-dragstart",t,e))},handleCellDragMouseupEvent(){pl()},handleHeaderCellDragDragstartEvent(e){e.dataTransfer&&e.dataTransfer.setDragImage(Io(),0,0)},handleColDragSwapColumn(){return Pr(),Vr(!1).then(()=>{pe.updateCellAreas(),pe.saveCustomStore("update:sort")})},handleColDragSwapEvent(f,x,e,t,b,r){let C=Y.mouseConfig;let{animation:w,isPeerDrag:y,isCrossDrag:T,isSelfToChildDrag:E,isToChildDrag:R,dragEndMethod:l,dragToChildMethod:o}=se.value,{collectColumn:S,fullColumnIdData:F}=re,D=le.value,I="right"===b?1:0,M={status:!1};if(!(D&&t&&e))return Promise.resolve(M);if(t===e)return Promise.resolve(M);{let h=e,v=t;e={oldColumn:h,newColumn:v,dragColumn:h,dragPos:b,dragToChild:!!r,offsetIndex:I};let m=E&&o?o(e):r;return Promise.resolve(!l||l(e)).then(e=>{if(!e)return xl(),U(),M;let t=null,r=[],u=0,p=(w&&oo().eachTree([h],e=>{t||e.children&&e.children.length||(t=e,u+=e.renderWidth),r.push(e)}),t=t||h,F[t.id]||{}),g=p._index,l=-1;w&&(e=D.querySelector(`.vxe-table--column[colid="${t.id}"]`))&&(l=e.offsetLeft);let o=-1,a=-1,n={},i=(oo().eachTree([h],e=>{n[e.id]=e}),!1);if(h.parentId&&v.parentId)if(y&&!T){if(h.parentId!==v.parentId)return M}else{if(!T)return M;if(n[v.id]&&(i=!0,!T||!E))return lo.VxeUI.modal&&lo.VxeUI.modal.message({status:"error",content:Bl("vxe.error.treeDragChild")}),M}else if(h.parentId){if(!T)return M}else if(v.parentId){if(!T)return M;if(n[v.id]&&(i=!0,!T||!E))return lo.VxeUI.modal&&lo.VxeUI.modal.message({status:"error",content:Bl("vxe.error.treeDragChild")}),M}var s,d,c,e=oo().findTree(S,e=>e.id===h.id),e=(i&&T&&E?e&&({items:s,index:c}=e,(d=h.children||[]).forEach(e=>{e.parentId=h.parentId}),s.splice(c,1,...d),h.children=[]):e&&({items:s,index:c,parent:d}=e,s.splice(c,1),d||(o=c)),oo().findTree(S,e=>e.id===v.id));return e&&({items:s,index:d,parent:c}=e,T&&R&&m?(h.parentId=v.id,v.children=(v.children||[]).concat([h])):(h.parentId=v.parentId,s.splice(d+I,0,h)),c||(a=d)),oo().eachTree(S,(e,t,r,l,o)=>{o||(e.renderSortNumber=t+1)}),C&&(pe.clearSelected&&pe.clearSelected(),pe.clearCellAreas)&&(pe.clearCellAreas(),pe.clearCopyCellArea()),xl(),U(),f&&j("column-dragend",{oldColumn:h,newColumn:v,dragColumn:h,dragPos:b,dragToChild:m,offsetIndex:I,_index:{newIndex:a,oldIndex:o}},f),(0,co.nextTick)().then(()=>{if(x)return pe.handleColDragSwapColumn()}).then(()=>{if(w){var n=te.tableColumn,{visibleColumn:i,fullColumnIdData:s}=re;let t=null,a={};if(oo().eachTree([h],e=>{t||e.children&&e.children.length||(t=e),a[e.id]=e}),t=t||h,u&&r.length){i=oo().findIndexOf(i,e=>!!t&&e.id===t.id),s=s[n[0].id];if(s){var s=s._index,d=s+n.length;let t=-1,r=-1,e=1,l=(g<s?(t=0,r=i-s):g>d?(d=p.$index,t=d+1,r=n.length,e=-1):i>g?(t=g-s,r=t+i-g):(t=i-s+1,r=t+g-i,e=-1),[]),o={};for(let e=t;e<r;e++){var c=n[e];o[c.id]||a[c.id]||(o[c.id]=c,l.push(c))}oo().eachTree([v],e=>{o[e.id]||(o[e.id]=e,l.push(e))}),l.length&&ea(D.querySelectorAll(l.map(e=>`.vxe-table--column[colid="${e.id}"]`).join(",")),e*u)}d=D.querySelectorAll(r.map(e=>`.vxe-table--column[colid="${e.id}"]`).join(",")),s=d[0];-1<l&&s&&ea(d,l-s.offsetLeft)}}return Qr(),Br(),pe.updateCellAreas(),{status:!0}})}).catch(()=>M)}},handleHeaderCellDragDragendEvent(e){var t=te.dragCol,{prevDragCol:r,prevDragPos:l,prevDragToChild:o}=re;pe.handleColDragSwapEvent(e,!0,t,r,l,o)},handleHeaderCellDragDragoverEvent(e){var t,r,l,o,a,n=te.dragCol,{isToChildDrag:i,isPeerDrag:s,isCrossDrag:d}=se.value;n?(a=Oo(e),l=(r=e.currentTarget).getAttribute("colid"),(l=pe.getColumnById(l))&&(e.preventDefault(),t=e.clientX,o=t-r.getBoundingClientRect().x<r.clientWidth/2?"left":"right",re.prevDragToChild=!!(d&&i&&a),re.prevDragCol=l,re.prevDragPos=o,l.fixed||n&&n.id===l.id||!d&&(s?n.parentId!==l.parentId:l.parentId)?vl(e,null,r,!1,o):(vl(e,null,r,!0,o),j("column-dragover",{oldColumn:n,targetColumn:l,dragPos:o},e),(i=le.value)&&(a=k.value,s=(d=x.value)?d.$el:null,r=a||s)&&(n=i.getBoundingClientRect(),l=i.clientWidth,d=(o=q.value)?o.clientWidth:0,s=(a=X.value)?a.clientWidth:0,i=t-(n.x+d),o=n.x+l-s-t,0<i&&i<=28?(a=Math.floor(l/(14<i?240:120)),r.scrollLeft-=a*(28-i)):0<o&&o<=28&&(d=Math.floor(l/(14<o?240:120)),r.scrollLeft+=d*(28-o)))))):e.preventDefault()},handleHeaderCellDragMousedownEvent(e,t){e.stopPropagation();var{trigger:r,dragStartMethod:l}=se.value,o=t.column,a=e.currentTarget,r="cell"===r?a:a.parentElement?.parentElement;hl(),l&&!l(t)?(r.draggable=!1,te.dragRow=null,te.dragCol=null,U(),ml()):(te.dragCol=o,te.dragRow=null,r.draggable=!0,U(),(e=>{var r=le.value;if(r){let t=[];oo().eachTree([e],e=>{t.push(`[colid="${e.id}"]`)});oo().arrayEach(r.querySelectorAll(t.join(",")),e=>{go(e,"col--drag-origin")})}})(o),(e=>{var t=te.dragCol,r=se.value.tooltipMethod;let l="";l=r?""+(r({$table:pe,column:t})||""):Bl("vxe.table.dragTip",[e.textContent||""]),te.dragTipText=l})(r),j("column-dragstart",t,e))},handleHeaderCellDragMouseupEvent(){hl(),ml(),U(),te.dragRow=null,te.dragCol=null},handleScrollEvent(d,c,u,p,g,h){var v=Y.highlightHoverRow,{lastScrollLeft:m,lastScrollTop:f}=re,x=k.value,b=O.value;if(x&&b){var C=ne.value,w=Ce.value,y=oe.value,T=b.clientHeight,E=x.clientWidth,b=b.scrollHeight,x=x.scrollWidth;let e=!1,t=!1,r=!1,l=!1,o="",a=!1,n=!1,i=!1,s=!1;u&&(F=Ne.value,(r=g<=0)||(l=x<=g+E),m<g?(o="right",x-F<=g+E&&(s=!0)):(o="left",g<=F&&(i=!0)),pe.checkScrolling(),re.lastScrollLeft=g),c&&(m=Xe.value,(e=p<=1)||(t=b-1<=p+T),f<p?(o="bottom",b-m<=p+T&&(n=!0)):(o="top",p<=m&&(a=!0)),re.lastScrollTop=p),te.lastScrollTime=Date.now();var R,S,F={scrollTop:p,scrollLeft:g,bodyHeight:T,bodyWidth:E,scrollHeight:b,scrollWidth:x,isX:u,isY:c,isTop:e,isBottom:t,isLeft:r,isRight:l,direction:o,...h};Jr(),R=u,S=c,f=re.lcsTimeout,te.lazScrollLoading=!0,f&&clearTimeout(f),re.lcsTimeout=setTimeout(()=>{let{scrollXLoad:e,scrollYLoad:t,isAllOverflow:r}=te;re.lcsRunTime=Date.now(),re.lcsTimeout=void 0,re.intoRunScroll=!1,re.inVirtualScroll=!1,re.inWheelScroll=!1,re.inHeaderScroll=!1,re.inBodyScroll=!1,re.inFooterScroll=!1,te.lazScrollLoading=!1,re.scrollRenderType="",r||(ur(),G()),R&&e&&pe.updateScrollXData(),S&&t&&pe.updateScrollYData().then(()=>{r||(ur(),G()),pe.updateScrollYSpace()}),Jr(),pe.updateCellAreas()},200),u&&pe.closeFilter(),(C.isHover||v)&&pe.clearHoverRow(),w&&w.reactData.visible&&w.close(),y&&y.reactData.visible&&y.close(),(n||a||s||i)&&j("scroll-boundary",F,d),j("scroll",F,d)}},triggerScrollXEvent(){(ze.value.immediate?Br:()=>{var{lxTimeout:e,lxRunTime:t,scrollXStore:r}=re,r=r.visibleSize,r=26<r?26:16<r?14:6;e&&clearTimeout(e),(!t||t+r<Date.now())&&(re.lxRunTime=Date.now(),Br()),re.lxTimeout=setTimeout(()=>{re.lxTimeout=void 0,re.lxRunTime=void 0,Br()},r)})()},triggerScrollYEvent(){(R.value.immediate?qr:()=>{var{lyTimeout:e,lyRunTime:t,scrollYStore:r}=re,r=r.visibleSize,r=30<r?32:20<r?18:8;e&&clearTimeout(e),(!t||t+r<Date.now())&&(re.lyRunTime=Date.now(),qr()),re.lyTimeout=setTimeout(()=>{re.lyTimeout=void 0,re.lyRunTime=void 0,qr()},r)})()},triggerBodyScrollEvent(r,l){var{scrollYLoad:o,scrollXLoad:a}=te,{elemStore:n,intoRunScroll:i,lastScrollTop:s,lastScrollLeft:d,inWheelScroll:c,inVirtualScroll:u,inHeaderScroll:p,inBodyScroll:g,scrollRenderType:e,inFooterScroll:h}=re;if(!(c||u||p||h)){var c=k.value,u=O.value,p=To(n["left-body-scroll"]),h=To(n["main-body-scroll"]),v=To(n["right-body-scroll"]),m=To(n["main-header-scroll"]),n=To(n["main-footer-scroll"]),f=K.value;if(!i&&h&&c&&u&&(!g||e===l)){let e=u.scrollTop,t=c.scrollLeft;p&&"left"===l?e=p.scrollTop:v&&"right"===l?e=v.scrollTop:(e=h.scrollTop,t=h.scrollLeft);i=t!==d,g=e!==s;re.inBodyScroll=!0,re.scrollRenderType=l,g&&("left"===l?(ho(h,e),ho(v,e)):"right"===l?(ho(h,e),ho(p,e)):(ho(p,e),ho(v,e)),ho(u,e),ho(f,e),Xr(e),o)&&pe.triggerScrollYEvent(r),i&&(vo(c,t),vo(m,t),vo(n,t),a)&&pe.triggerScrollXEvent(r),pe.handleScrollEvent(r,g,i,e,t,{type:"body",fixed:l})}}},triggerHeaderScrollEvent(e,t){var r=te.scrollXLoad,{elemStore:l,intoRunScroll:o,inWheelScroll:a,inVirtualScroll:n,inBodyScroll:i,inFooterScroll:s}=re;a||n||i||s||(a=O.value,n=k.value,i=To(l["main-body-scroll"]),s=To(l["main-header-scroll"]),l=To(l["main-footer-scroll"]),o)||s&&n&&a&&(o=a.scrollTop,a=s.scrollLeft,re.inHeaderScroll=!0,vo(n,a),vo(l,a),vo(i,a),r&&pe.triggerScrollXEvent(e),pe.handleScrollEvent(e,!1,!0,o,a,{type:"header",fixed:t}))},triggerFooterScrollEvent(e,t){var r=te.scrollXLoad,{elemStore:l,intoRunScroll:o,inWheelScroll:a,inVirtualScroll:n,inHeaderScroll:i,inBodyScroll:s}=re;a||n||i||s||(a=O.value,n=k.value,i=To(l["main-body-scroll"]),s=To(l["main-header-scroll"]),l=To(l["main-footer-scroll"]),o)||l&&n&&a&&(o=a.scrollTop,a=l.scrollLeft,re.inFooterScroll=!0,vo(n,a),vo(s,a),vo(i,a),r&&pe.triggerScrollXEvent(e),pe.handleScrollEvent(e,!1,!0,o,a,{type:"footer",fixed:t}))},triggerBodyWheelEvent(g){var{target:h,deltaY:v,deltaX:m,shiftKey:f}=g;if((!h||!/^textarea$/i.test(h.tagName))&&(v||m)){h=Gl.highlightHoverRow;let{scrollXLoad:l,scrollYLoad:o,expandColumn:e}=te;var x=gt.value,b=ht.value,{elemStore:C,lastScrollTop:w,lastScrollLeft:y}=re,T=ne.value,E=Ge.value,R=Ue.value;let a=k.value,n=O.value,i=To(C["left-body-scroll"]),s=To(C["main-header-scroll"]),d=To(C["main-body-scroll"]),c=To(C["main-footer-scroll"]),u=To(C["right-body-scroll"]),p=K.value;if(d){var S,F,C=(e=>{let t=1;var r=Date.now();return r<e+25?t=1.18:r<e+30?t=1.15:r<e+40?t=1.12:r<e+55?t=1.09:r<e+75?t=1.06:r<e+100&&(t=1.03),t})(te.lastScrollTime),D=f?0:v*C,I=d.scrollTop,M=I+D,f=d.scrollLeft+(f?m||v:m)*C;let t=f!==y,r=M!==w;if(t&&"hidden"===E.visible)g.preventDefault();else{if(r){if("hidden"===R.visible)return void g.preventDefault();if(D<0?I<=0:I>=d.scrollHeight-d.clientHeight)return}if(A){if(r&&Lo(g.target,[i,d,u],g.currentTarget))return void g.stopPropagation();if(t&&Lo(g.target,[s,d,c],g.currentTarget))return void g.stopPropagation()}(x||b||e)&&((T.isHover||h)&&pe.clearHoverRow(),t&&(g.preventDefault(),re.inWheelScroll=!0,W.firefox||W.safari?(vo(a,v=f),vo(d,v),vo(s,v),vo(c,v),l&&pe.triggerScrollXEvent(g),pe.handleScrollEvent(g,r,t,d.scrollTop,v,{type:"table",fixed:""})):(S=f,F=e=>{re.inWheelScroll=!0;vo(a,e),vo(d,e),vo(s,e),vo(c,e),l&&pe.triggerScrollXEvent(g),pe.handleScrollEvent(g,r,t,d.scrollTop,e,{type:"table",fixed:""})},requestAnimationFrame(()=>{F(S)}))),r)&&(g.preventDefault(),re.inWheelScroll=!0,W.firefox||W.safari?(ho(n,m=M),ho(d,m),ho(i,m),ho(u,m),ho(p,m),Xr(m),o&&pe.triggerScrollYEvent(g),pe.handleScrollEvent(g,r,t,m,d.scrollLeft,{type:"table",fixed:""})):((r,l)=>{let o=Math.abs(r),a=performance.now(),n=0,i=e=>{let t=(e-a)/o;t<0?t=0:1<t&&(t=1);e=Math.pow(t,2),e=Math.floor(r*e)-n;n+=e,l(e),t<1&&requestAnimationFrame(i)};requestAnimationFrame(i)})(M-I,e=>{re.inWheelScroll=!0;e=d.scrollTop+e;ho(n,e),ho(d,e),ho(i,e),ho(u,e),ho(p,e),Xr(e),o&&pe.triggerScrollYEvent(g),pe.handleScrollEvent(g,r,t,e,d.scrollLeft,{type:"table",fixed:""})}))}}}},triggerVirtualScrollXEvent(t){var r=te.scrollXLoad,{elemStore:l,inWheelScroll:o,lastScrollTop:a,inHeaderScroll:n,inBodyScroll:i,inFooterScroll:s}=re;if(!(n||i||s||o)){n=To(l["main-header-scroll"]),i=To(l["main-body-scroll"]),s=To(l["main-footer-scroll"]),o=O.value,l=t.currentTarget.scrollLeft,o=o||i;let e=0;o=(e=o?o.scrollTop:e)!==a;re.inVirtualScroll=!0,vo(i,l),vo(n,l),vo(s,l),r&&pe.triggerScrollXEvent(t),pe.handleScrollEvent(t,o,!0,e,l,{type:"table",fixed:""})}},triggerVirtualScrollYEvent(t){var r=te.scrollYLoad,{elemStore:l,inWheelScroll:o,lastScrollLeft:a,inHeaderScroll:n,inBodyScroll:i,inFooterScroll:s}=re;if(!(n||i||s||o)){var n=To(l["left-body-scroll"]),i=To(l["main-body-scroll"]),s=To(l["right-body-scroll"]),o=K.value,l=k.value,d=t.currentTarget.scrollTop,l=l||i;let e=0;l=(e=l?l.scrollLeft:e)!==a;re.inVirtualScroll=!0,ho(i,d),ho(n,d),ho(s,d),ho(o,d),Xr(d),r&&pe.triggerScrollYEvent(t),pe.handleScrollEvent(t,!0,l,d,e,{type:"table",fixed:""})}},scrollToTreeRow(t){var e=Y.treeConfig,r=te.isRowGroupStatus,l=re.tableFullData;let o=[];if(e||r){var e=P.value,a=ue.value,a=a.children||a.childrenField,l=oo().findTree(l,e=>pe.eqRow(e,t),{children:r?e.mapChildrenField:a});if(l){let r=l.nodes;r.forEach((e,t)=>{t<r.length-1&&!pe.isTreeExpandByRow(e)&&o.push(pe.setTreeExpand(e,!0))})}}return Promise.all(o).then(()=>Yo(pe,t))},updateScrollYStatus:jr,updateScrollXSpace(){let{scrollXLoad:o,overflowX:a,scrollXWidth:n}=te,{visibleColumn:i,scrollXStore:s,elemStore:d,fullColumnIdData:c}=re;var u=re.xeGanttView,p=ce.value,g=x.value;if(g?g.$el:null){var g=To(d["main-body-scroll"]),h=To(d["main-body-table"]),v=To(d["main-header-table"]),m=To(d["main-footer-table"]);let e=0;var f=i[s.startIndex];f&&(f=c[f.id]||{},e=f.oLeft);let t=0,r=(g&&(t=g.clientWidth),!1),l=n;5e6<n&&(e=g&&h&&5e6<=g.scrollLeft+t?5e6-h.clientWidth:(5e6-t)*(e/(n-t)),l=5e6,r=!0),o&&a||(e=0),Pl().scrollMarginStyle?(v&&(v.style.marginLeft=v.getAttribute("xvm")?e+"px":""),h&&(h.style.marginLeft=e+"px"),m&&(m.style.marginLeft=m.getAttribute("xvm")?e+"px":"")):(v&&(v.style.transform=v.getAttribute("xvm")?`translate(${e}px, 0px)`:""),h&&(h.style.transform=`translate(${e}px, ${te.scrollYTop||0}px)`),m&&(m.style.transform=m.getAttribute("xvm")?`translate(${e}px, 0px)`:""));["main"].forEach(t=>{["header","body","footer"].forEach(e=>{e=To(d[t+`-${e}-xSpace`]);e&&(e.style.width=o?l+"px":"")})}),te.scrollXLeft=e,te.scrollXWidth=l,te.isScrollXBig=r;f=D.value;return f&&(f.style.width=l+"px"),Fr(),r&&p.area&&_l("vxe.error.notProp",["mouse-config.area"]),u&&u.handleUpdateSXSpace&&u.handleUpdateSXSpace(),(0,co.nextTick)().then(()=>{I()})}},updateScrollYSpace(){var{isAllOverflow:e,overflowY:t,scrollYLoad:r,scrollYHeight:l,expandColumn:o}=te;let{scrollYStore:a,elemStore:n,isResizeCellHeight:i,afterFullData:s,fullAllDataRowIdData:d,rowExpandedMaps:c}=re;var u,p=re.xeGanttView,g=a.startIndex,h=ce.value,v=V.value,m=ne.value,f=_.value,x=H.value,b=To(n["main-body-scroll"]),C=To(n["main-body-table"]),w=To(n["left-body-table"]),y=To(n["right-body-table"]);let T=0,E=l,R=!1,S=(r?i||f.height||m.height||o||!e?(e=s[g])?(e=d[fo(pe,e)]||{},T=e.oTop||0,u=s[s.length-1],(e=d[u=fo(pe,u)]||{}).oTop&&(E=(e.oTop||0)+(e.resizeHeight||f.height||m.height||e.height||x),o)&&c[u]&&(E+=e.expandHeight||v.height||0),5e6<E&&(R=!0)):E=C?C.clientHeight:0:(5e6<(E=s.length*x)&&(R=!0),T=Math.max(0,g*x)):C&&(E=C.clientHeight),0),F=(b&&(S=b.clientHeight),E),D=T;R&&(D=b&&C&&5e6<=b.scrollTop+S?5e6-C.clientHeight:(5e6-S)*(T/(l-S)),F=5e6),r&&t||(D=0),Pl().scrollMarginStyle?(w&&(w.style.marginTop=D+"px"),C&&(C.style.marginTop=D+"px"),y&&(y.style.marginTop=D+"px")):(w&&(w.style.transform=`translate(0px, ${D}px)`),C&&(C.style.transform=`translate(${te.scrollXLeft||0}px, ${D}px)`),y&&(y.style.transform=`translate(0px, ${D}px)`)),["main","left","right"].forEach(t=>{["header","body","footer"].forEach(e=>{e=To(n[t+`-${e}-ySpace`]);e&&(e.style.height=F?F+"px":"")})});f=$.value,f&&(f.style.height=F?F+"px":""),m=M.value;return m&&(m.style.height=F?F+"px":""),te.scrollYTop=D,te.scrollYHeight=F,te.isScrollYBig=R,Fr(),R&&h.area&&_l("vxe.error.notProp",["mouse-config.area"]),p&&p.handleUpdateSYSpace&&p.handleUpdateSYSpace(),(0,co.nextTick)().then(()=>{I()})},updateScrollXData(){let e=te.isAllOverflow;return _r(),pe.updateScrollXSpace(),(0,co.nextTick)().then(()=>{_r(),pe.updateScrollXSpace(),e||pe.updateScrollYSpace()})},updateScrollYData(){return pe.handleTableData(),pe.updateScrollYSpace(),(0,co.nextTick)().then(()=>{pe.handleTableData(),pe.updateScrollYSpace()})},checkScrolling(){var e=re.elemStore,e=To(e["main-body-scroll"]),t=q.value,r=X.value,e=k.value||e;e&&(t&&(0<e.scrollLeft?go:po)(t,"scrolling--middle"),r)&&(e.clientWidth<e.scrollWidth-Math.ceil(e.scrollLeft)?go:po)(r,"scrolling--middle")},handleUpdateAggData(){return Lr(re.tableSynchData,!0)},updateZindex(){Y.zIndex?re.tZindex=Y.zIndex:re.tZindex<So()&&(re.tZindex=Ro())},handleCheckedCheckboxRow:Cr,triggerHoverEvent(e,{row:t}){z.setHoverRow(t)},setHoverRow(e){var t=re.xeGanttView,r=fo(pe,e),l=le.value;z.clearHoverRow(),l&&oo().arrayEach(l.querySelectorAll(`.vxe-body--row[rowid="${r}"]`),e=>go(e,"row--hover")),re.hoverRow=e,t&&t.handleUpdateHoverRow&&t.handleUpdateHoverRow(e)},clearHoverRow(){var e=re.xeGanttView,t=le.value;t&&oo().arrayEach(t.querySelectorAll(".vxe-body--row.row--hover"),e=>po(e,"row--hover")),re.hoverRow=null,e&&e.handleUpdateHoverRow&&e.handleUpdateHoverRow()},getCell(e,t){return N.getCellElement(e,t)},findRowIndexOf(e,t){return t?oo().findIndexOf(e,e=>pe.eqRow(e,t)):-1},eqRow(e,t){return!(!e||!t||e!==t&&fo(pe,e)!==fo(pe,t))},handleConnectGanttView(e){return e&&e.connectUpdate&&(e.connectUpdate({$table:pe}),re.xeGanttView=e),(0,co.nextTick)()}},Object.assign(pe,N,z),e=>{var{showHeader:t,showFooter:r}=Y,{tableData:l,tableColumn:o,tableGroupColumn:a,columnStore:n,footerTableData:i}=te,s=je.value,d=Ge.value,c=Ue.value,u=d.overscrollBehavior,p=c.overscrollBehavior,g="left"===e,n=g?n.leftList:n.rightList,u=oo().eqNull(u)?s.overscrollBehavior:u,s=oo().eqNull(p)?s.overscrollBehavior:p;return(0,co.h)("div",{ref:g?q:X,class:[`vxe-table--fixed-${e}-wrapper`,"sx--"+d.visible,"sy--"+c.visible,{["x-ob--"+u]:u,["y-ob--"+s]:s}]},[t?(0,co.h)(ra,{ref:g?f:y,fixedType:e,tableData:l,tableColumn:o,tableGroupColumn:a,fixedColumn:n}):zl(pe),(0,co.h)(ta,{ref:g?b:T,fixedType:e,tableData:l,tableColumn:o,fixedColumn:n}),r?(0,co.h)(la,{ref:g?C:E,footerTableData:i,tableColumn:o,fixedColumn:n,fixedType:e}):zl(pe)])}),yl=()=>{var e=Y.dragConfig,{dragRow:t,dragCol:r,dragTipText:l}=te,o=se.value,a=ie.value,e=(a.slots||{}).tip||(e&&e.slots?e.slots.rowTip:null),o=(o.slots||{}).tip,t=t||(a.isCrossTableDrag?fe.row:null);return t&&e?Cl(e,{row:t}):r&&o?Cl(o,{column:r}):[(0,co.h)("span",l)]},Tl=()=>{let C=Y.treeConfig,{expandColumn:w,isRowGroupStatus:y}=te;var e=Ot.value,t=V.value.mode;if("fixed"!==t)return zl(pe);let T=[(0,co.h)("div",{key:"repY",ref:M})];if(w){let b=xo(pe).handleGetRowId;e.forEach(e=>{var{height:t,padding:r,indent:l}=V.value,{fullAllDataRowIdData:o,fullColumnIdData:a}=re,n=ue.value,{transform:i,seqMode:s}=n,d={},c=b(e),o=o[c],a=a[w.id]||{};let u=0,p=-1,g=-1,h=-1,v=-1,m=(o&&(h=o.index,v=o.$index,g=o._index,u=o.level,p=o.seq,y||C&&i&&"increasing"===s?p=o._index+1:C&&"fixed"===s&&(p=o._tIndex+1)),t&&(d.height=t+"px"),(y||C)&&(d.paddingLeft=u*(oo().isNumber(l)?l:n.indent)+30+"px"),-1),f=-1,x=-1;a&&(m=a.index,f=a.$index,x=a._index);i={$table:pe,$grid:Q,$gantt:J,seq:p,column:w,columnIndex:m,$columnIndex:f,_columnIndex:x,fixed:"",source:"table",type:"body",level:u,rowid:c,row:e,rowIndex:h,$rowIndex:v,_rowIndex:g,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};T.push((0,co.h)("div",{key:c,class:["vxe-body--row-expanded-cell",{"is--padding":r,"is--ellipsis":t}],rowid:c,style:d},w.renderData(i)))})}return(0,co.h)("div",{ref:K,class:"vxe-table--row-expanded-wrapper"},T)},El=()=>(0,co.h)("div",{key:"vsx",ref:Oe,class:"vxe-table--scroll-x-virtual"},[(0,co.h)("div",{ref:$e,class:"vxe-table--scroll-x-left-corner"}),(0,co.h)("div",{ref:_e,class:"vxe-table--scroll-x-wrapper"},[(0,co.h)("div",{ref:k,class:"vxe-table--scroll-x-handle",onScroll:pe.triggerVirtualScrollXEvent},[(0,co.h)("div",{ref:D,class:"vxe-table--scroll-x-space"})]),(0,co.h)("div",{class:"vxe-table--scroll-x-handle-appearance"})]),(0,co.h)("div",{ref:Le,class:"vxe-table--scroll-x-right-corner"})]),Rl=()=>(0,co.h)("div",{ref:Ae,class:"vxe-table--scroll-y-virtual"},[(0,co.h)("div",{ref:He,class:"vxe-table--scroll-y-top-corner"}),(0,co.h)("div",{ref:Pe,class:"vxe-table--scroll-y-wrapper"},[(0,co.h)("div",{ref:O,class:"vxe-table--scroll-y-handle",onScroll:pe.triggerVirtualScrollYEvent},[(0,co.h)("div",{ref:$,class:"vxe-table--scroll-y-space"})]),(0,co.h)("div",{class:"vxe-table--scroll-y-handle-appearance"})]),(0,co.h)("div",{ref:Be,class:"vxe-table--scroll-y-bottom-corner"})]),Sl=()=>{var{showHeader:e,showFooter:t}=Y,{overflowX:r,tableData:l,tableColumn:o,tableGroupColumn:a,footerTableData:n,columnStore:i}=te,s=je.value,d=Ge.value,c=Ue.value,u=d.overscrollBehavior,p=c.overscrollBehavior,{leftList:i,rightList:g}=i,u=oo().eqNull(u)?s.overscrollBehavior:u,s=oo().eqNull(p)?s.overscrollBehavior:p;return(0,co.h)("div",{ref:h,class:["vxe-table--viewport-wrapper",{["x-ob--"+u]:u,["y-ob--"+s]:s}]},[(0,co.h)("div",{class:["vxe-table--main-wrapper","sx--"+d.visible,"sy--"+c.visible]},[e?(0,co.h)(ra,{ref:v,tableData:l,tableColumn:o,tableGroupColumn:a}):zl(pe),(0,co.h)(ta,{ref:x,tableData:l,tableColumn:o}),t?(0,co.h)(la,{ref:m,footerTableData:n,tableColumn:o}):zl(pe)]),(0,co.h)("div",{class:"vxe-table--fixed-wrapper"},[i&&i.length&&r?wl("left"):zl(pe),g&&g.length&&r?wl("right"):zl(pe)]),Tl()])},Fl=()=>{var e=qe.value;return(0,co.h)("div",{class:"vxe-table--layout-wrapper"},e?[Rl(),Sl()]:[Sl(),Rl()])};let Dl=(0,co.ref)(0),Il=((0,co.watch)(()=>Y.data?Y.data.length:-1,()=>{Dl.value++}),(0,co.watch)(()=>Y.data,()=>{Dl.value++}),(0,co.watch)(Dl,()=>{let o=re.initStatus;var e=Y.data||[];e&&2e4<=e.length&&Hl("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),Lr(e,!0).then(()=>{var{scrollXLoad:e,scrollYLoad:t,expandColumn:r}=te,l=V.value;return re.inited=!0,re.initStatus=!0,o||Hr(),(e||t)&&r&&"fixed"!==l.mode&&Hl("vxe.error.scrollErrProp",["column.type=expand"]),N.recalculate()})}),(0,co.ref)(0)),Ml=((0,co.watch)(()=>te.staticColumns.length,()=>{Il.value++}),(0,co.watch)(()=>te.staticColumns,()=>{Il.value++}),(0,co.watch)(Il,()=>{(0,co.nextTick)(()=>Nr(oo().clone(te.staticColumns)))}),(0,co.ref)(0)),e=((0,co.watch)(()=>te.tableColumn.length,()=>{Ml.value++}),(0,co.watch)(()=>te.tableColumn,()=>{Ml.value++}),(0,co.watch)(Ml,()=>{z.analyColumnWidth()}),(0,co.watch)(()=>te.upDataFlag,()=>{(0,co.nextTick)(()=>{N.updateData()})}),(0,co.watch)(()=>te.reColumnFlag,()=>{(0,co.nextTick)(()=>{N.refreshColumn()})}),(0,co.ref)(0)),kl=((0,co.watch)(me,()=>{e.value++}),(0,co.watch)(()=>Y.showHeader,()=>{e.value++}),(0,co.watch)(()=>Y.showFooter,()=>{e.value++}),(0,co.watch)(()=>te.overflowX,()=>{e.value++}),(0,co.watch)(()=>te.overflowY,()=>{e.value++}),(0,co.watch)(()=>Y.height,()=>{e.value++}),(0,co.watch)(()=>Y.maxHeight,()=>{e.value++}),(0,co.watch)(We,()=>{e.value++}),(0,co.watch)(qe,()=>{e.value++}),(0,co.watch)(()=>lo.VxeUI.getLanguage(),()=>{e.value++}),(0,co.watch)(()=>Ge.value.visible,()=>{e.value++}),(0,co.watch)(()=>Ue.value.visible,()=>{e.value++}),(0,co.watch)(e,()=>{pe.recalculate(!0)}),(0,co.ref)(0)),Ol=((0,co.watch)(()=>Y.footerData?Y.footerData.length:-1,()=>{kl.value++}),(0,co.watch)(()=>Y.footerData,()=>{kl.value++}),(0,co.watch)(kl,()=>{re.footerFullDataRowData={},pe.updateFooter()}),(0,co.watch)(()=>Y.syncResize,e=>{e&&(Kr(),(0,co.nextTick)(()=>{Kr(),setTimeout(()=>Kr())}))}),(0,co.ref)(0)),Al=((0,co.watch)(()=>Y.mergeCells?Y.mergeCells.length:-1,()=>{Ol.value++}),(0,co.watch)(()=>Y.mergeCells,()=>{Ol.value++}),(0,co.watch)(Ol,()=>{var e;e=Y.mergeCells||[],re.mergeBodyList=[],re.mergeBodyMaps={},re.mergeBodyCellMaps={},pe.setMergeCells(e)}),(0,co.ref)(0)),$l=((0,co.watch)(()=>Y.mergeHeaderCells?Y.mergeHeaderCells.length:-1,()=>{Al.value++}),(0,co.watch)(()=>Y.mergeHeaderCells,()=>{Al.value++}),(0,co.watch)(Al,()=>{var e;e=Y.mergeHeaderCells||[],re.mergeHeaderList=[],re.mergeHeaderMaps={},re.mergeHeaderCellMaps={},pe.setMergeHeaderCells(e)}),(0,co.ref)(0));(0,co.watch)(()=>Y.mergeFooterCells?Y.mergeFooterCells.length:-1,()=>{$l.value++}),(0,co.watch)(()=>Y.mergeFooterCells,()=>{$l.value++}),(0,co.watch)(()=>Y.mergeFooterItems?Y.mergeFooterItems.length:-1,()=>{$l.value++}),(0,co.watch)(()=>Y.mergeFooterItems,()=>{$l.value++}),(0,co.watch)($l,()=>{var e=Y.mergeFooterCells||Y.mergeFooterItems;e=e||[],re.mergeFooterList=[],re.mergeFooterMaps={},re.mergeFooterCellMaps={},pe.setMergeFooterCells(e)}),(0,co.watch)(Bt,e=>{kr(e)}),(0,co.watch)(o,()=>{let{inited:e,tableFullData:t}=re;e&&(Gt(),te.tableData=[],(0,co.nextTick)(()=>{pe.reloadData(t)}))}),r&&(0,co.watch)(()=>r?r.reactData.resizeFlag:null,()=>{cl()}),Gt(),eo.forEach(e=>{var e=e.setupTable;e&&(e=e(pe))&&oo().isObject(e)&&Object.assign(pe,e)}),z.preventEvent(null,"created",{$table:pe});let Ll;return(0,co.onActivated)(()=>{N.recalculate().then(()=>N.refreshScroll()),z.preventEvent(null,"activated",{$table:pe})}),(0,co.onDeactivated)(()=>{var e=te.filterStore;e.visible&&pe.clearFilter(),pe.closeTooltip(),re.isActivated=!1,z.preventEvent(null,"deactivated",{$table:pe})}),(0,co.onMounted)(()=>{let y=ae.value;var e,t=ne.value,r=kt.value,l=P.value,o=R.value,l=l.groupFields;J&&(e=J.getRefMaps().refClassifyWrapperElem,e=e.value)&&(re.teleportToWrapperElem=e),ee&&(e=ee.getRefMaps().refPopupContainerElem,e=e.value)&&(re.popupToWrapperElem=e),(y.drag||t.drag||r.allowSort)&&Do(),kr(l),(0,co.nextTick)(()=>{var{exportConfig:e,importConfig:t,treeConfig:r,highlightCurrentRow:l,highlightCurrentColumn:o}=Y,{scrollXStore:a,scrollYStore:n}=re,i=ot.value;let s=ue.value;var d=B.value,c=de.value,u=V.value,p=ne.value,g=kt.value,h=ce.value;let v=Rt.value,m=St.value;var f=Ye.value,x=Ke.value,b=st.value,C=P.value,w=ie.value;if(Y.rowId&&Hl("vxe.error.delProp",["row-id","row-config.keyField"]),Y.rowKey&&Hl("vxe.error.delProp",["row-key","row-config.useKey"]),Y.columnKey&&Hl("vxe.error.delProp",["column-id","column-config.useKey"]),Y.rowId||p.keyField||!(c.reserve||c.checkRowKeys||d.reserve||d.checkRowKey||u.expandRowKeys||s.expandRowKeys)||Hl("vxe.error.reqProp",["row-config.keyField"]),Y.editConfig&&(i.showStatus||i.showUpdateStatus||i.showInsertStatus)&&!Y.keepSource&&Hl("vxe.error.reqProp",["keep-source"]),r&&!s.transform&&Y.stripe&&Hl("vxe.error.noTree",["stripe"]),!Y.showFooter||Y.footerMethod||Y.footerData||Hl("vxe.error.reqProp",["footer-data | footer-method"]),p.height&&Hl("vxe.error.delProp",["row-config.height","cell-config.height"]),Y.highlightCurrentRow&&Hl("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),Y.highlightHoverRow&&Hl("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),Y.highlightCurrentColumn&&Hl("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),Y.highlightHoverColumn&&Hl("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),Y.resizable&&Hl("vxe.error.delProp",["resizable","column-config.resizable"]),Y.aggregateConfig&&Y.rowGroupConfig&&Hl("vxe.error.notSupportProp",["aggregate-config","row-group-config","row-group-config=null"]),t&&m.types&&!m.importMethod&&!oo().includeArrays(oo().keys(m._typeMaps),m.types)&&Hl("vxe.error.errProp",["export-config.types="+m.types.join(","),m.types.filter(e=>oo().includes(oo().keys(m._typeMaps),e)).join(",")||oo().keys(m._typeMaps).join(",")]),e&&v.types&&!v.exportMethod&&!oo().includeArrays(oo().keys(v._typeMaps),v.types)&&Hl("vxe.error.errProp",["export-config.types="+v.types.join(","),v.types.filter(e=>oo().includes(oo().keys(v._typeMaps),e)).join(",")||oo().keys(v._typeMaps).join(",")]),Y.id||(Y.customConfig?ao(g):g.enabled)&&g.storage&&_l("vxe.error.reqProp",["id"]),Y.treeConfig&&c.range&&_l("vxe.error.noTree",["checkbox-config.range"]),p.height&&!Y.showOverflow&&Hl("vxe.error.notProp",["table.show-overflow"]),!pe.triggerCellAreaModnEvent&&(Y.areaConfig&&Hl("vxe.error.notProp",["area-config"]),Y.clipConfig&&Hl("vxe.error.notProp",["clip-config"]),Y.fnrConfig&&Hl("vxe.error.notProp",["fnr-config"]),h.area))_l("vxe.error.notProp",["mouse-config.area"]);else{if(!pe.handlePivotTableAggregateData){if(g.allowGroup)return void _l("vxe.error.notProp",["custom-config.allowGroup"]);if(g.allowValues)return void _l("vxe.error.notProp",["custom-config.allowValues"])}r&&p.drag&&!s.transform&&_l("vxe.error.notSupportProp",["row-config.drag","tree-config.transform=false","tree-config.transform=true"]),r&&w.isCrossTableDrag&&!w.isCrossDrag&&_l("vxe.error.reqSupportProp",["tree-config & row-drag-config.isCrossTableDrag","row-drag-config.isCrossDrag"]),Y.dragConfig&&Hl("vxe.error.delProp",["drag-config","row-drag-config"]),Y.rowGroupConfig&&Hl("vxe.error.delProp",["row-group-config","aggregate-config"]),C.countFields&&Hl("vxe.error.delProp",["row-group-config.countFields","column.agg-func"]),C.aggregateMethod&&Hl("vxe.error.delProp",["row-group-config.aggregateMethod","aggregate-config.calcValuesMethod"]),C.countMethod&&Hl("vxe.error.delProp",["aggregate-config.countMethod","aggregate-config.calcValuesMethod"]),Y.treeConfig&&s.children&&Hl("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),Y.treeConfig&&s.line&&Hl("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),h.area&&h.selected&&Hl("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),h.area&&Y.treeConfig&&!s.transform&&_l("vxe.error.noTree",["mouse-config.area"]),Y.editConfig&&i.activeMethod&&Hl("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),Y.treeConfig&&c.isShiftKey&&_l("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),c.halfField&&Hl("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),r&&oo().arrayEach(["rowField","parentField","childrenField","hasChildField","mapChildrenField"],e=>{var t=s[e];t&&-1<t.indexOf(".")&&_l("vxe.error.errProp",[e+"="+t,e+"="+t.split(".")[0]])}),p.currentMethod&&Hl("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),y.currentMethod&&Hl("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),(p.isCurrent||l)&&Y.keyboardConfig&&b.isArrow&&!oo().isBoolean(f.isFollowSelected)&&Hl("vxe.error.notConflictProp",["row-config.isCurrent","current-row-config.isFollowSelected"]),(y.isCurrent||o)&&Y.keyboardConfig&&b.isArrow&&!oo().isBoolean(x.isFollowSelected)&&Hl("vxe.error.notConflictProp",["column-config.isCurrent","current-column-config.isFollowSelected"]),Object.assign(n,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(a,{startIndex:0,endIndex:0,visibleSize:0}),$r(),Y.autoResize&&(d=le.value,u=z.getParentElem(),Ll=Ql.create(()=>{Y.autoResize&&Ir()}),d&&Ll.observe(d),u)&&Ll.observe(u)}}),"scroll"!==o.mode&&(e=h.value)&&e.addEventListener("wheel",pe.triggerBodyWheelEvent,{passive:!1}),Vl.on(pe,"paste",il),Vl.on(pe,"copy",sl),Vl.on(pe,"cut",dl),Vl.on(pe,"mousedown",rl),Vl.on(pe,"blur",ll),Vl.on(pe,"mousewheel",ol),Vl.on(pe,"keydown",nl),Vl.on(pe,"resize",cl),Vl.on(pe,"contextmenu",pe.handleGlobalContextmenuEvent),pe.preventEvent(null,"mounted",{$table:pe})}),(0,co.onBeforeUnmount)(()=>{var e=h.value;e&&e.removeEventListener("wheel",pe.triggerBodyWheelEvent),re.cvCacheMaps={},re.prevDragRow=null,re.prevDragCol=null,Ll&&Ll.disconnect(),N.closeFilter(),pe.closeMenu&&pe.closeMenu(),Vl.off(pe,"paste"),Vl.off(pe,"copy"),Vl.off(pe,"cut"),Vl.off(pe,"mousedown"),Vl.off(pe,"blur"),Vl.off(pe,"mousewheel"),Vl.off(pe,"keydown"),Vl.off(pe,"resize"),Vl.off(pe,"contextmenu"),z.preventEvent(null,"beforeUnmount",{$table:pe})}),(0,co.onUnmounted)(()=>{z.preventEvent(null,"unmounted",{$table:pe}),oo().assign(re,Ho())}),(0,co.nextTick)(()=>{!Y.loading||he||Z.loading||(_l("vxe.error.errProp",["loading=true","loading=false | <template #loading>...</template>"]),_l("vxe.error.reqComp",["vxe-loading"])),!0!==Y.showOverflow&&"tooltip"!==Y.showOverflow&&!0!==Y.showHeaderOverflow&&"tooltip"!==Y.showHeaderOverflow&&!0!==Y.showFooterOverflow&&"tooltip"!==Y.showFooterOverflow&&!Y.tooltipConfig&&!Y.editRules||ve||(!0===Y.showOverflow&&_l("vxe.error.errProp",["show-overflow=true","show-overflow=title"]),"tooltip"===Y.showOverflow&&_l("vxe.error.errProp",["show-overflow=tooltip","show-overflow=title"]),!0===Y.showHeaderOverflow&&_l("vxe.error.errProp",["show-header-overflow=true","show-header-overflow=title"]),"tooltip"===Y.showHeaderOverflow&&_l("vxe.error.errProp",["show-header-overflow=tooltip","show-header-overflow=title"]),!0===Y.showFooterOverflow&&_l("vxe.error.errProp",["show-footer-overflow=true","show-footer-overflow=title"]),"tooltip"===Y.showFooterOverflow&&_l("vxe.error.errProp",["show-footer-overflow=tooltip","show-footer-overflow=title"]),_l("vxe.error.reqComp",["vxe-tooltip"]))}),(0,co.provide)("$xeColgroup",null),(0,co.provide)("$xeTable",pe),pe.renderVN=()=>{var{loading:e,stripe:t,showHeader:r,height:l,treeConfig:o,mouseConfig:a,showFooter:n,highlightCell:i,highlightHoverRow:s,highlightHoverColumn:d,editConfig:c,editRules:u}=Y;let{isGroup:p,overflowX:H,overflowY:_,scrollXLoad:P,scrollYLoad:B,tableData:g,initStore:h,isRowGroupStatus:V,columnStore:N,filterStore:z,customStore:j,tooltipStore:v}=te;var{teleportToWrapperElem:m,popupToWrapperElem:f}=re,{leftList:G,rightList:U}=N;let x=Z.loading;var b={header:Z.headerTooltip||Z["header-tooltip"],body:Z.tooltip,footer:Z.footerTooltip||Z["footer-tooltip"]};let C=v.visible&&v.type?b[v.type]:null;var b=ie.value,w=rt.value,y=lt.value,T=Ve.value,W=de.value,E=ue.value,q=ne.value,R=ae.value,S=me.value,F=Ht.value,D=ce.value,I=it.value,M=It.value,X=Tt.value;let k=te.isColLoading||te.isRowLoading||e;var e=Ze.value,O=a&&D.area,K=se.value,A=We.value,$=qe.value,b=b.isCrossTableDrag,L={onKeydown:al};return b&&!g.length&&(L.onDragover=pe.handleCrossTableRowDragoverEmptyEvent),(0,co.h)("div",{ref:le,class:["vxe-table","vxe-table--render-default","tid_"+ge,"border--"+F,"sx-pos--"+(A?"top":"bottom"),"sy-pos--"+($?"left":"right"),{["size--"+S]:S,["valid-msg--"+T.msgMode]:!!u,"vxe-editable":!!c,"old-cell-valid":u&&"obsolete"===Pl().cellVaildMode,"cell--highlight":i,"cell--selected":a&&D.selected,"cell--area":O,"header-cell--area":O&&I.selectCellByHeader,"body-cell--area":O&&I.selectCellByBody,"row--highlight":q.isHover||s,"column--highlight":R.isHover||d,"checkbox--range":W.range,"col--drag-cell":R.drag&&"cell"===K.trigger,"is--header":r,"is--footer":n,"is--group":p,"is-row-group":V,"is--tree-line":o&&(E.showLine||E.line),"is--fixed-left":G.length,"is--fixed-right":U.length,"is--animat":!!Y.animat,"is--round":Y.round,"is--stripe":!o&&t,"is--loading":k,"is--empty":!k&&!g.length,"is--scroll-y":_,"is--scroll-x":H,"is--virtual-x":P,"is--virtual-y":B}],spellcheck:!1,...L},[(0,co.h)("div",{class:"vxe-table-slots"},Z.default?Z.default({}):[]),(0,co.h)("div",{ref:xe,class:"vxe-table-vars"},[(0,co.h)("div",{class:"vxe-table-var-default"}),(0,co.h)("div",{class:"vxe-table-var-medium"}),(0,co.h)("div",{class:"vxe-table-var-small"}),(0,co.h)("div",{class:"vxe-table-var-mini"})]),(0,co.h)("div",{key:"tw",class:"vxe-table--render-wrapper"},A?[El(),Fl()]:[Fl(),El()]),(0,co.h)("div",{key:"tn",ref:De,class:"vxe-table--empty-place-wrapper"},[(0,co.h)("div",{class:"vxe-table--empty-placeholder"},[(0,co.h)("div",{class:"vxe-table--empty-content"},(b=Dt.value,F=Z.empty,$={$table:pe,$grid:Q,gantt:J},F?F($):(F=(F=b.name?Kl.get(b.name):null)?F.renderTableEmpty||F.renderTableEmptyView||F.renderEmpty:null)?Eo(F(b,$)):no(Y.emptyText)||Bl("vxe.table.emptyText")))])]),(0,co.h)("div",{key:"tl",class:"vxe-table--border-line"}),(0,co.h)("div",{key:"tcl",ref:Se,class:"vxe-table--resizable-col-bar"},e.showDragTip?[(0,co.h)("div",{class:"vxe-table--resizable-number-tip"})]:[]),(0,co.h)("div",{key:"ttw"},[(0,co.h)(co.Teleport,{to:m,disabled:!(J&&m)},[(0,co.h)("div",{ref:Ee},[(0,co.h)("div",{key:"trl",ref:Fe,class:"vxe-table--resizable-row-bar"},e.showDragTip?[(0,co.h)("div",{class:"vxe-table--resizable-number-tip"})]:[]),h.custom?(0,co.h)(oa,{key:"cs",ref:Te,customStore:j}):zl(pe),he?(0,co.h)(he,{key:"lg",class:"vxe-table--loading",modelValue:k,icon:M.icon,text:M.text},x?{default:()=>Cl(x,{$table:pe,$grid:Q,$gantt:J,loading:k})}:{}):x?(0,co.h)("div",{class:["vxe-loading--custom-wrapper",{"is--visible":k}]},Cl(x,{$table:pe,$grid:Q,$gantt:J,loading:k})):zl(pe),(()=>{var{dragRow:e,dragCol:t}=te,r=ne.value,l=ae.value,o=ie.value,a=se.value,e=e||(o.isCrossTableDrag?fe.row:null);return r.drag||l.drag?(0,co.h)("div",{class:"vxe-table--drag-wrapper"},[(0,co.h)("div",{ref:Me,class:["vxe-table--drag-row-line",{"is--guides":o.showGuidesStatus}]}),(0,co.h)("div",{ref:ke,class:["vxe-table--drag-col-line",{"is--guides":a.showGuidesStatus}]}),e&&o.showDragTip||t&&a.showDragTip?(0,co.h)("div",{ref:Ie,class:"vxe-table--drag-sort-tip"},[(0,co.h)("div",{class:"vxe-table--drag-sort-tip-wrapper"},[(0,co.h)("div",{class:"vxe-table--drag-sort-tip-status"},[(0,co.h)("span",{class:["vxe-table--drag-sort-tip-normal-status",e?Xl().TABLE_DRAG_STATUS_ROW:Xl().TABLE_DRAG_STATUS_COLUMN]}),(0,co.h)("span",{class:["vxe-table--drag-sort-tip-sub-status",Xl().TABLE_DRAG_STATUS_SUB_ROW]}),(0,co.h)("span",{class:["vxe-table--drag-sort-tip-disabled-status",Xl().TABLE_DRAG_DISABLED]})]),(0,co.h)("div",{class:"vxe-table--drag-sort-tip-content"},yl())])]):zl(pe)]):zl(pe)})()])])]),(0,co.h)("div",{key:"tpw"},[(0,co.h)(co.Teleport,{to:f,disabled:!(ee&&f)},[(0,co.h)("div",{ref:Re},[h.filter?(0,co.h)(aa,{key:"tf",ref:ye,filterStore:z}):zl(pe),X?(0,co.h)(sa,{key:"tm",ref:we}):zl(pe)])])]),h.import&&Y.importConfig?(0,co.h)(na,{key:"it",defaultOptions:te.importParams,storeData:te.importStore}):zl(pe),h.export&&(Y.exportConfig||Y.printConfig)?(0,co.h)(ia,{key:"et",defaultOptions:te.exportParams,storeData:te.exportStore}):zl(pe),ve?(0,co.h)("div",{},[(0,co.h)(ve,{key:"ctp",ref:be,isArrow:!1,enterable:!1}),(0,co.h)(ve,{key:"btp",ref:oe,theme:w.theme,enterable:w.enterable,enterDelay:w.enterDelay,leaveDelay:w.leaveDelay,useHTML:w.useHTML,width:w.width,height:w.height,minWidth:w.minWidth,minHeight:w.minHeight,maxWidth:w.maxWidth,maxHeight:w.maxHeight},C?{content:()=>{var{type:e,row:t,column:r,content:l}=v;if(C){if(r&&"header"===e)return(0,co.h)("div",{key:e},C({column:r,tooltipContent:l,$table:pe,$grid:Q,$gantt:J}));if(t&&r&&"body"===e)return(0,co.h)("div",{key:e},C({row:t,column:r,tooltipContent:l,$table:pe,$grid:Q,$gantt:J}));if(t&&r&&"footer"===e)return(0,co.h)("div",{key:e},C({row:t,column:r,tooltipContent:l,$table:pe,$grid:Q,$gantt:J}))}return zl(pe)}}:{}),Y.editRules&&T.showMessage&&("default"===T.message?!l:"tooltip"===T.message)?(0,co.h)(ve,{key:"vtp",ref:Ce,class:[{"old-cell-valid":u&&"obsolete"===Pl().cellVaildMode},"vxe-table--valid-error"],theme:y.theme,enterable:y.enterable,enterDelay:y.enterDelay,leaveDelay:y.leaveDelay}):zl(pe)]):zl(pe)])},pe},render(){return this.renderVN()}});let{getConfig:B,getIcon:V,getI18n:N,renderer:nt,commands:it,createEvent:st,useFns:dt}=lo.VxeUI;function va(){return{connectTable:null}}var ma=It({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],refreshOptions:Object,import:[Boolean,Object],importOptions:Object,export:[Boolean,Object],exportOptions:Object,print:[Boolean,Object],printOptions:Object,zoom:[Boolean,Object],zoomOptions:Object,custom:[Boolean,Object],customOptions:Object,buttons:{type:Array,default:()=>B().toolbar.buttons},tools:{type:Array,default:()=>B().toolbar.tools},perfect:{type:Boolean,default:()=>B().toolbar.perfect},size:{type:String,default:()=>B().toolbar.size||B().size},className:[String,Function]},emits:["button-click","tool-click"],setup(c,e){let{slots:u,emit:l}=e;var t=oo().uniqueId();let p=lo.VxeUI.getComponent("VxeButton"),g=(0,co.inject)("$xeGrid",null),h=(0,co.inject)("$xeGantt",null),v=g||h,m=dt.useSize(c).computeSize,f=(0,co.reactive)({isRefresh:!1,connectFlag:0,columns:[]}),x=va(),b=(0,co.ref)(),r={refElem:b},C={xID:t,props:c,context:e,reactData:f,internalData:x,getRefMaps:()=>r};let w=(0,co.computed)(()=>Object.assign({},oo().clone(B().toolbar.refresh,!0),c.refreshOptions,c.refresh)),y=(0,co.computed)(()=>Object.assign({},oo().clone(B().toolbar.import,!0),c.importOptions,c.import)),T=(0,co.computed)(()=>Object.assign({},oo().clone(B().toolbar.export,!0),c.exportOptions,c.export)),E=(0,co.computed)(()=>Object.assign({},oo().clone(B().toolbar.print,!0),c.printOptions,c.print)),R=(0,co.computed)(()=>Object.assign({},oo().clone(B().toolbar.zoom,!0),c.zoomOptions,c.zoom)),S=(0,co.computed)(()=>Object.assign({},oo().clone(B().toolbar.custom,!0),c.customOptions,c.custom)),o=(0,co.computed)(()=>{var e=x.connectTable;if((f.connectFlag||e)&&e)return e=e.getComputeMaps().computeCustomOpts,e.value;return{trigger:""}}),F=(0,co.computed)(()=>o.value.trigger),a=()=>{var e=x.connectTable;if(e)return!0;_l("vxe.error.barUnableLink")},D=({$event:e})=>{var t=x.connectTable;t&&t.triggerCustomEvent&&t.triggerCustomEvent(e)},I=({$event:e})=>{var t=x.connectTable;t&&t.customOpenEvent(e)},M=({$event:t})=>{var e=x.connectTable;let r=e;if(r){let e=r.reactData.customStore;e.activeBtn=!1,setTimeout(()=>{e.activeBtn||e.activeWrapper||r.customCloseEvent(t)},350)}},k=({$event:e})=>{var t=f.isRefresh,r=w.value;if(!t){t=r.queryMethod||r.query;if(t){f.isRefresh=!0;try{Promise.resolve(t({})).catch(e=>e).then(()=>{f.isRefresh=!1})}catch(e){f.isRefresh=!1}}else v&&(f.isRefresh=!0,v.triggerToolbarCommitEvent({code:r.code||"reload"},e).catch(()=>{}).then(()=>{f.isRefresh=!1}))}},O=({$event:e})=>{v?v.triggerZoomEvent(e):Hl("vxe.error.notProp",["[toolbar] zoom"])},i=()=>{var e;a()&&(e=x.connectTable,e)&&e.importData()},A=()=>{var e;a()&&(e=x.connectTable,e)&&e.openImport()},s=()=>{var e;a()&&(e=x.connectTable,e)&&e.exportData()},$=()=>{var e;a()&&(e=x.connectTable,e)&&e.openExport()},d=()=>{var e;a()&&(e=x.connectTable,e)&&e.print()},L=()=>{var e;a()&&(e=x.connectTable,e)&&e.openPrint()},n=(e,t,r)=>{switch(t.code){case"print":d();break;case"open_print":L();break;case"custom":D(e);break;case"export":s();break;case"open_export":$();break;case"import":i();break;case"open_import":A();break;case"zoom":O(e);break;case"refresh":k(e);break;default:r()}},H=(e,r)=>{let l=e.$event;var t=x.connectTable;let o=t,a=r.code;a&&n(e,r,()=>{var e,t;v?v.triggerToolbarBtnEvent(r,l):(t=it.get(a),e={code:a,button:r,$table:o,$grid:g,$gantt:h,$event:l},t&&((t=t.tableCommandMethod||t.commandMethod)?t(e):_l("vxe.error.notCommands",["[toolbar] "+a])),C.dispatchEvent("button-click",e,l))})},_=(e,r)=>{let l=e.$event;var t=x.connectTable;let o=t,a=r.code;a&&n(e,r,()=>{var e,t;v?v.triggerToolbarTolEvent(r,l):(t=it.get(a),e={code:a,button:null,tool:r,$table:o,$grid:g,$gantt:h,$event:l},t&&((t=t.tableCommandMethod||t.commandMethod)?t(e):_l("vxe.error.notCommands",["[toolbar] "+a])),C.dispatchEvent("tool-click",e,l))})};Object.assign(C,{dispatchEvent:(e,t,r)=>{l(e,st(r,{$toolbar:C},t))},syncUpdate(e){x.connectTable=e.$table,f.columns=e.collectColumn,f.connectFlag++}});let P=(e,r)=>{e=e.dropdowns;return e?e.map((t,e)=>!1!==t.visible&&p?(0,co.h)(p,{key:e,...Object.assign({},t,{content:t.content||t.name,options:void 0}),onClick:e=>(r?H:_)(e,t)}):(0,co.createCommentVNode)()):[]};return C.renderVN=()=>{var{perfect:e,loading:t,refresh:r,zoom:l,custom:o,className:a}=c,n=x.connectTable,i=m.value,s=u.tools,d=u.buttons;return(0,co.h)("div",{ref:b,class:["vxe-toolbar",a?oo().isFunction(a)?a({$toolbar:C}):a:"",{["size--"+i]:i,"is--perfect":e,"is--loading":t}]},[(0,co.h)("div",{class:"vxe-buttons--wrapper"},d?d({$grid:g,$gantt:h,$table:n}):(()=>{var e=c.buttons,t=x.connectTable;let i=t;var t=u.buttonPrefix||u["button-prefix"],r=u.buttonSuffix||u["button-suffix"];let s=[];return t&&s.push(...Eo(t({buttons:e||[],$grid:g,$gantt:h,$table:i}))),e&&e.forEach((t,e)=>{var r,l,o,{dropdowns:a,buttonRender:n}=t;!1!==t.visible&&(r=n?nt.get(n.name):null,n&&r&&r.renderToolbarButton?(l=r.toolbarButtonClassName,o={$grid:g,$gantt:h,$table:i,button:t},s.push((0,co.h)("span",{key:"br"+(t.code||e),class:["vxe-button--item",l?oo().isFunction(l)?l(o):l:""]},Eo(r.renderToolbarButton(n,o))))):p&&s.push((0,co.h)(p,{key:"bd"+(t.code||e),...Object.assign({},t,{content:t.content||t.name,options:void 0}),onClick:e=>H(e,t)},a&&a.length?{dropdowns:()=>P(t,!0)}:{})))}),r&&s.push(...Eo(r({buttons:e||[],$grid:g,$gantt:h,$table:i}))),s})()),(0,co.h)("div",{class:"vxe-tools--wrapper"},s?s({$grid:g,$gantt:h,$table:n}):(()=>{var e=c.tools,t=x.connectTable;let s=t;var t=u.toolPrefix||u["tool-prefix"],r=u.toolSuffix||u["tool-suffix"];let d=[];return t&&d.push(...Eo(t({tools:e||[],$grid:g,$gantt:h,$table:s}))),e&&e.forEach((t,e)=>{var r,l,o,a,{dropdowns:n,toolRender:i}=t;!1!==t.visible&&(r=i?i.name:null,l=i?nt.get(r):null,i&&l&&l.renderToolbarTool?(o=l.toolbarToolClassName,a={$grid:g,$gantt:h,$table:s,tool:t},d.push((0,co.h)("span",{key:r,class:["vxe-tool--item",o?oo().isFunction(o)?o(a):o:""]},Eo(l.renderToolbarTool(i,a))))):p&&d.push((0,co.h)(p,{key:e,...Object.assign({},t,{content:t.content||t.name,options:void 0}),onClick:e=>_(e,t)},n&&n.length?{dropdowns:()=>P(t,!1)}:{})))}),r&&d.push(...Eo(r({tools:e||[],$grid:g,$gantt:h,$table:s}))),d})()),(0,co.h)("div",{class:"vxe-tools--operate"},[c.import&&(a=y.value,p)?(0,co.h)(p,{key:"import",circle:!0,icon:a.icon||V().TOOLBAR_TOOLS_IMPORT,title:N("vxe.toolbar.import"),onClick:A}):(0,co.createCommentVNode)(),c.export&&(i=T.value,p)?(0,co.h)(p,{key:"export",circle:!0,icon:i.icon||V().TOOLBAR_TOOLS_EXPORT,title:N("vxe.toolbar.export"),onClick:$}):(0,co.createCommentVNode)(),c.print&&(e=E.value,p)?(0,co.h)(p,{key:"print",circle:!0,icon:e.icon||V().TOOLBAR_TOOLS_PRINT,title:N("vxe.toolbar.print"),onClick:L}):(0,co.createCommentVNode)(),r&&(t=w.value,p)?(0,co.h)(p,{key:"refresh",circle:!0,icon:f.isRefresh?t.iconLoading||V().TOOLBAR_TOOLS_REFRESH_LOADING:t.icon||V().TOOLBAR_TOOLS_REFRESH,title:N("vxe.toolbar.refresh"),onClick:k}):(0,co.createCommentVNode)(),l&&v&&(d=R.value,v)&&p?(0,co.h)(p,{key:"zoom",circle:!0,icon:v.isMaximized()?d.iconOut||V().TOOLBAR_TOOLS_MINIMIZE:d.iconIn||V().TOOLBAR_TOOLS_FULLSCREEN,title:N("vxe.toolbar.zoom"+(v.isMaximized()?"Out":"In")),onClick:O}):(0,co.createCommentVNode)(),o&&(s=S.value,n=F.value,a={},"manual"!==n&&("hover"===n?(a.onMouseenter=I,a.onMouseleave=M):a.onClick=D),p)?(0,co.h)(p,{key:"custom",circle:!0,icon:s.icon||V().TOOLBAR_TOOLS_CUSTOM,title:N("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target",...a}):(0,co.createCommentVNode)()])])},(0,co.nextTick)(()=>{var e=w.value,e=e.queryMethod||e.query,e=(!c.refresh||v||e||Hl("vxe.error.notFunc",["[toolbar] queryMethod"]),oo().isPlainObject(c.custom)&&Hl("vxe.error.delProp",["[toolbar] custom={...}","custom=boolean & custom-options={...}"]),oo().isPlainObject(c.print)&&Hl("vxe.error.delProp",["[toolbar] print={...}","print=boolean & print-options={...}"]),oo().isPlainObject(c.export)&&Hl("vxe.error.delProp",["[toolbar] export={...}","export=boolean & export-options={...}"]),oo().isPlainObject(c.import)&&Hl("vxe.error.delProp",["[toolbar] import={...}","import=boolean & import-options={...}"]),oo().isPlainObject(c.refresh)&&Hl("vxe.error.delProp",["[toolbar] refresh={...}","refresh=boolean & refresh-options={...}"]),oo().isPlainObject(c.refresh)&&Hl("vxe.error.delProp",["[toolbar] zoom={...}","zoom=boolean & zoom-options={...}"]),S.value);e.isFooter&&Hl("vxe.error.delProp",["[toolbar] toolbar.custom.isFooter","table.custom-config.showFooter"]),e.showFooter&&Hl("vxe.error.delProp",["[toolbar] toolbar.custom.showFooter","table.custom-config.showFooter"]),e.immediate&&Hl("vxe.error.delProp",["[toolbar] toolbar.custom.immediate","table.custom-config.immediate"]),e.trigger&&Hl("vxe.error.delProp",["[toolbar] toolbar.custom.trigger","table.custom-config.trigger"]),(c.refresh||c.import||c.export||c.print||c.zoom)&&!p&&_l("vxe.error.reqComp",["vxe-button"])}),(0,co.onUnmounted)(()=>{oo().assign(x,va())}),C},render(){return this.renderVN()}});let{getConfig:Ee,getI18n:Re,commands:ct,hooks:ut,useFns:pt,createEvent:gt,globalEvents:ht,GLOBAL_EVENT_KEYS:vt,renderEmptyElement:Se}=lo.VxeUI,mt=Object.keys(Gl),ft=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeRowChildren","getTreeRowLevel","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","recalcRowHeight","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","setFilterByEvent","sort","setSort","setSortByEvent","clearSort","clearSortByEvent","isSort","getSortColumns","closeFilter","isFilter","clearFilterByEvent","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","getScrollData","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","setMergeHeaderCells","removeMergeHeaderCells","getMergeHeaderCells","clearMergeHeaderCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","setRowGroupExpand","setRowGroupExpandByField","setAllRowGroupExpand","clearRowGroupExpand","isRowGroupExpandByRow","isRowGroupRecord","isAggregateRecord","isAggregateExpandByRow","getAggregateContentByRow","getAggregateRowChildren","setRowGroups","clearRowGroups","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect","connectToolbar"];var fa=It({name:"VxeGrid",props:br,emits:xr,setup(u,e){let{slots:p,emit:l}=e;var t=oo().uniqueId();let n=lo.VxeUI.getComponent("VxeForm"),a=lo.VxeUI.getComponent("VxePager"),F=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],D=pt.useSize(u).computeSize,A=(0,co.reactive)({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:Ee().pager?.pageSize||10,currentPage:1}}),r={},c=(0,co.ref)(),$=(0,co.ref)(),i=(0,co.ref)(),d=(0,co.ref)(),s=(0,co.ref)(),g=(0,co.ref)(),h=(0,co.ref)(),v=(0,co.ref)(),m=(0,co.ref)(),f=(0,co.ref)(),x=(0,co.ref)();var o=e=>{let t={};return e.forEach(r=>{t[r]=(...e)=>{var t=$.value;if(t&&t[r])return t[r](...e)}}),t};let b=o(ft),L=(ft.forEach(r=>{b[r]=(...e)=>{var t=$.value;if(t&&t[r])return t&&t[r](...e)}}),(0,co.computed)(()=>oo().merge({},oo().clone(Ee().grid.proxyConfig,!0),u.proxyConfig))),z=(0,co.computed)(()=>{var e=L.value;return!!(oo().isBoolean(e.message)?e.message:e.showResponseMsg)}),H=(0,co.computed)(()=>{var e=L.value;return oo().isBoolean(e.showActionMsg)?e.showActionMsg:!!e.showActiveMsg}),_=(0,co.computed)(()=>Object.assign({},Ee().grid.pagerConfig,u.pagerConfig)),C=(0,co.computed)(()=>Object.assign({},Ee().grid.formConfig,u.formConfig)),P=(0,co.computed)(()=>Object.assign({},Ee().grid.toolbarConfig,u.toolbarConfig)),w=(0,co.computed)(()=>Object.assign({},Ee().grid.zoomConfig,u.zoomConfig)),I=(0,co.computed)(()=>{var{height:e,maxHeight:t}=u,{isZMax:r,tZindex:l}=A,o={};return r?o.zIndex=l:(e&&(o.height="auto"===e||"100%"===e?"100%":Ao(e)),t&&(o.maxHeight="auto"===t||"100%"===t?"100%":Ao(t))),o}),M=(0,co.computed)(()=>{let t={};return mt.forEach(e=>{t[e]=u[e]}),t}),k=(0,co.computed)(()=>{var{seqConfig:e,pagerConfig:t,editConfig:r,proxyConfig:l}=u,{isZMax:o,tablePage:a}=A,n=M.value,i=L.value,s=_.value,d=W.value,c=Object.assign({},n);return o&&(n.maxHeight?c.maxHeight="100%":c.height="100%"),l&&ao(i)&&(c.loading=d,t)&&i.seq&&ao(s)&&(c.seqConfig=Object.assign({},e,{startIndex:(a.currentPage-1)*a.pageSize})),r&&(c.editConfig=Object.assign({},r)),c}),O=(0,co.computed)(()=>{var e=u.layouts;let t=[],r=[],l=[],o=[];return(t=e&&e.length?e:Ee().grid.layouts||F).length&&(oo().isArray(t[0])?(r=t[0],l=t[1]||[],o=t[2]||[]):l=t),{headKeys:r,bodyKeys:l,footKeys:o}});var j=(0,co.computed)(()=>_.value.currentPage),G=(0,co.computed)(()=>_.value.pageSize),U=(0,co.computed)(()=>_.value.total);let y=(0,co.computed)(()=>{var e=A.tablePage;return Math.max(Math.ceil(e.total/e.pageSize),1)}),W=(0,co.computed)(()=>{var{loading:e,proxyConfig:t}=u,r=A.tableLoading,l=L.value,o=l.showLoading;return e||r&&o&&t&&ao(l)}),q={refElem:c,refTable:$,refForm:i,refToolbar:d,refPager:s,refPopupContainerElem:g},X={computeProxyOpts:L,computePagerOpts:_,computeFormOpts:C,computeToolbarOpts:P,computeZoomOpts:w},B={xID:t,props:u,context:e,reactData:A,internalData:r,getRefMaps:()=>q,getComputeMaps:()=>X},K=()=>{var e=P.value;u.toolbarConfig&&ao(e)&&(0,co.nextTick)(()=>{var e=$.value,t=d.value;e&&t&&e.connectToolbar(t)})},V=()=>{var e=u.proxyConfig,t=A.formData,r=L.value,l=C.value;return e&&ao(r)&&r.form?t:l.data},T=e=>{var t=A.tablePage,r=u.pagerConfig,l=_.value;r&&ao(l)&&(e?l[e]&&(t[e]=oo().toNumber(l[e])):({currentPage:r,pageSize:e,total:l}=l,r&&(t.currentPage=r),e&&(t.pageSize=e),l&&(t.total=l)))},N=(e,t)=>{var r=L.value,r=(r.response||r.props||{}).message,l=$.value;let o;return(o=e&&r?oo().isFunction(r)?r({data:e,$table:l,$grid:B,$gantt:null}):oo().get(e,r):o)||Re(t)},Y=(e,t,r)=>{var l=H.value,o=B.getCheckboxRecords();if(l)if(o.length){if(lo.VxeUI.modal)return lo.VxeUI.modal.confirm({id:"cfm_"+e,content:Re(t),escClosable:!0}).then(e=>{if("confirm"===e)return r()})}else lo.VxeUI.modal&&lo.VxeUI.modal.message({id:"msg_"+e,content:Re("vxe.grid.selectOneRecord"),status:"warning"});else o.length&&r();return Promise.resolve()},Z=e=>{var t=u.proxyConfig,r=A.tablePage;let{$event:l,currentPage:o,pageSize:a}=e;var n=L.value;r.currentPage=o,r.pageSize=a,B.dispatchEvent("page-change",e,l),t&&ao(n)&&B.commitProxy("query").then(e=>{B.dispatchEvent("proxy-query",e,l)})},Q=t=>{var e,r=$.value,l=u.proxyConfig;r&&(r=r.getComputeMaps().computeSortOpts,e=L.value,r.value.remote)&&(A.sortData=t.sortList,l)&&ao(e)&&(A.tablePage.currentPage=1,B.commitProxy("query").then(e=>{B.dispatchEvent("proxy-query",e,t.$event)}))},J=e=>{Q(e),B.dispatchEvent("sort-change",e,e.$event)},ee=e=>{Q(e),B.dispatchEvent("clear-all-sort",e,e.$event)},te=t=>{var e,r=$.value,l=u.proxyConfig;r&&(r=r.getComputeMaps().computeFilterOpts,e=L.value,r.value.remote)&&(A.filterData=t.filterList,l)&&ao(e)&&(A.tablePage.currentPage=1,B.commitProxy("query").then(e=>{B.dispatchEvent("proxy-query",e,t.$event)}))},re=e=>{te(e),B.dispatchEvent("filter-change",e,e.$event)},le=e=>{te(e),B.dispatchEvent("clear-all-filter",e,e.$event)},oe=t=>{var e=u.proxyConfig,r=L.value;A.tableLoading||(e&&ao(r)&&B.commitProxy("reload").then(e=>{B.dispatchEvent("proxy-query",{...e,isReload:!0},t.$event)}),B.dispatchEvent("form-submit",t,t.$event))},ae=e=>{var t=$.value,r=u.proxyConfig;let l=e.$event;var o=L.value;r&&ao(o)&&(t&&t.clearScroll(),B.commitProxy("reload").then(e=>{B.dispatchEvent("proxy-query",{...e,isReload:!0},l)})),B.dispatchEvent("form-reset",e,l)},ne=e=>{B.dispatchEvent("form-submit-invalid",e,e.$event)},ie=e=>{var t=e.$event;B.dispatchEvent("form-toggle-collapse",e,t),B.dispatchEvent("form-collapse",e,t)},se=e=>{var t=A.isZMax;return(e?!t:t)&&(A.isZMax=!t,A.tZindex<So())&&(A.tZindex=Ro()),(0,co.nextTick)().then(()=>B.recalculate(!0)).then(()=>(setTimeout(()=>B.recalculate(!0),15),A.isZMax))},E=(e,t)=>{e=e[t];if(e){if(!oo().isString(e))return e;if(p[e])return p[e];_l("vxe.error.notSlot",["[grid] "+e])}return null},de=e=>{let r={};return oo().objectMap(e,(e,t)=>{e&&(oo().isString(e)?p[e]?r[t]=p[e]:_l("vxe.error.notSlot",["[grid] "+e]):r[t]=e)}),r},ce=()=>{var{formConfig:e,proxyConfig:r}=u,l=A.formData,o=L.value,a=C.value;if(e&&ao(a)||p.form){let e=[];if(p.form)e=p.form({$grid:B,$gantt:null});else if(a.items){let t={};if(!a.inited){a.inited=!0;let t=o.beforeItem;o&&t&&a.items.forEach(e=>{t({$grid:B,$gantt:null,item:e})})}a.items.forEach(e=>{oo().each(e.slots,e=>{oo().isFunction(e)||p[e]&&(t[e]=p[e])})}),n&&e.push((0,co.h)(n,{ref:i,...Object.assign({},a,{data:r&&ao(o)&&o.form?l:a.data}),onSubmit:oe,onReset:ae,onSubmitInvalid:ne,onCollapse:ie},t))}return(0,co.h)("div",{ref:h,key:"form",class:"vxe-grid--form-wrapper"},e)}return Se(B)},ue=()=>{var t,r,l,o,a,n=u.toolbarConfig,i=P.value,s=p.toolbar;if(n&&ao(i)||s){let e=[];return s?e=s({$grid:B,$gantt:null}):(n={},(s=i.slots)&&(t=E(s,"buttons"),r=E(s,"buttonPrefix"),l=E(s,"buttonSuffix"),o=E(s,"tools"),a=E(s,"toolPrefix"),s=E(s,"toolSuffix"),t&&(n.buttons=t),r&&(n.buttonPrefix=r),l&&(n.buttonSuffix=l),o&&(n.tools=o),a&&(n.toolPrefix=a),s)&&(n.toolSuffix=s),e.push((0,co.h)(ma,{ref:d,...i,slots:void 0},n))),(0,co.h)("div",{ref:v,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},e)}return Se(B)},pe=()=>{var e=p.top;return e?(0,co.h)("div",{ref:m,key:"top",class:"vxe-grid--top-wrapper"},e({$grid:B,$gantt:null})):Se(B)},ge=()=>{var e=p.left;return e?(0,co.h)("div",{class:"vxe-grid--left-wrapper"},e({$grid:B,$gantt:null})):Se(B)},he=()=>{var e=p.right;return e?(0,co.h)("div",{class:"vxe-grid--right-wrapper"},e({$grid:B,$gantt:null})):Se(B)},ve=()=>{var e=u.proxyConfig,t=k.value,r=L.value,l=Object.assign({},xe),o=p.empty,a=p.loading,n=p.rowDragIcon||p["row-drag-icon"],i=p.columnDragIcon||p["column-drag-icon"],s=p.headerTooltip||p["header-tooltip"],d=p.tooltip,c=p.footerTooltip||p["footer-tooltip"],e=(e&&ao(r)&&(r.sort&&(l.onSortChange=J,l.onClearAllSort=ee),r.filter)&&(l.onFilterChange=re,l.onClearAllFilter=le),{});return o&&(e.empty=o),a&&(e.loading=a),n&&(e.rowDragIcon=n),i&&(e.columnDragIcon=i),s&&(e.headerTooltip=s),d&&(e.tooltip=d),c&&(e.footerTooltip=c),(0,co.h)("div",{class:"vxe-grid--table-wrapper"},[(0,co.h)(ha,{ref:$,...t,...l},e)])},me=()=>p.bottom?(0,co.h)("div",{ref:f,key:"bottom",class:"vxe-grid--bottom-wrapper"},p.bottom({$grid:B,$gantt:null})):Se(B),fe=()=>{var{proxyConfig:e,pagerConfig:t}=u,r=L.value,l=_.value,o=p.pager;return t&&ao(l)||p.pager?(0,co.h)("div",{ref:x,key:"pager",class:"vxe-grid--pager-wrapper"},o?o({$grid:B,$gantt:null}):[a?(0,co.h)(a,{ref:s,...l,...e&&ao(r)?A.tablePage:{},onPageChange:Z},de(l.slots)):Se(B)]):Se(B)},R=e=>{let t=[];return e.forEach(e=>{switch(e){case"Form":t.push(ce());break;case"Toolbar":t.push(ue());break;case"Top":t.push(pe());break;case"Table":t.push((0,co.h)("div",{key:"table",class:"vxe-grid--table-container"},[ge(),ve(),he()]));break;case"Bottom":t.push(me());break;case"Pager":t.push(fe());break;default:_l("vxe.error.notProp",["[grid] layouts -> "+e])}}),t},xe={},be=(Fe.forEach(t=>{var e=oo().camelCase("on-"+t);xe[e]=(...e)=>l(t,...e)}),()=>{var e=C.value;if(e.items){let n={};return e.items.forEach(t=>{var r,l,{field:o,itemRender:a}=t;if(o){let e=null;a&&({startField:a,endField:r,defaultValue:l}=a,oo().isFunction(l)?e=l({item:t}):oo().isUndefined(l)||(e=l),a)&&r&&(oo().set(n,a,null),oo().set(n,r,null)),n[o]=e}}),n}return{}}),Ce=()=>{var{proxyConfig:e,formConfig:t}=u,r=A.proxyInited,l=L.value,o=C.value;e&&ao(l)&&(t&&ao(o)&&l.form&&o.items&&(A.formData=be()),r||!(A.proxyInited=!0)!==l.autoLoad&&(0,co.nextTick)().then(()=>B.commitProxy("initial")).then(e=>{ye("proxy-query",{...e,isInited:!0},new Event("initial"))}))},we=e=>{var t=w.value;ht.hasKey(e,vt.ESCAPE)&&A.isZMax&&!1!==t.escRestore&&B.triggerZoomEvent(e)},ye=(e,t,r)=>{l(e,gt(r,{$grid:B,$gantt:null},t))};t={dispatchEvent:ye,getEl(){return c.value},commitProxy(t,...g){let{proxyConfig:i,toolbarConfig:e,pagerConfig:s,editRules:h,validConfig:v}=u,d=A.tablePage,m=H.value,f=z.value;var x=L.value;let b=_.value;var r=P.value;let{beforeQuery:C,afterQuery:w,beforeDelete:n,afterDelete:y,beforeSave:T,afterSave:E,ajax:R={}}=x,S=x.response||x.props||{},F=$.value;if(F){let c=V(),u=null,p=null;p=oo().isString(t)?(l=r.buttons,r=e&&ao(r)&&l?oo().findTree(l,e=>e.code===t,{children:"dropdowns"}):null,u=r?r.item:null,t):(u=t).code;var l,o=u?u.params:null;switch(p){case"insert":return F.insert({});case"insert_edit":return F.insert({}).then(({row:e})=>F.setEditRow(e,!0));case"insert_actived":return F.insert({}).then(({row:e})=>F.setEditRow(e,!0));case"mark_cancel":k=p,M=H.value,D=$.value,(I=D?D.getCheckboxRecords():[]).length?(D&&D.togglePendingRow(I),B.clearCheckboxRow()):M&&lo.VxeUI.modal&&lo.VxeUI.modal.message({id:k,content:Re("vxe.grid.selectOneRecord"),status:"warning"});break;case"remove":return Y(p,"vxe.grid.removeSelectRecord",()=>F.removeCheckboxRow());case"import":F.importData(o);break;case"open_import":F.openImport(o);break;case"export":F.exportData(o);break;case"open_export":F.openExport(o);break;case"reset_custom":return F.resetCustom(!0);case"initial":case"reload":case"query":{var D=R.query;let n=R.querySuccess,l=R.queryError;if(D){var I="initial"===p,M="reload"===p;if(!I&&A.tableLoading)return(0,co.nextTick)();let e=null,r=[],o=[],t={};if(s&&((I||M)&&(d.currentPage=1),ao(b))&&(t={...d}),I){if(i&&ao(x)&&x.form&&(c=be(),A.formData=c),F){let{tableFullColumn:e,fullColumnFieldData:l}=F.internalData;var k=F.getComputeMaps().computeSortOpts;let t=k.value.defaultSort;e.forEach(e=>{e.order=null}),t&&(oo().isArray(t)||(t=[t]),r=t.map(e=>{var{field:e,order:t}=e,r=l[e];return r&&(r=r.column)&&(r.order=t),{field:e,property:e,order:t}})),o=F.getCheckedFilters()}}else F&&(M?e=F.clearAll():(r=F.getSortColumns(),o=F.getCheckedFilters()));let a={$table:F,$grid:B,$gantt:null,code:p,button:u,isInited:I,isReload:M,page:t,sort:r.length?r[0]:{},sorts:r,filters:o,form:c,options:D};return A.sortData=r,A.filterData=o,A.tableLoading=!0,Promise.all([Promise.resolve((C||D)(a,...g)),e]).then(([e])=>{let t=[];var r,l;return A.tableLoading=!1,e&&(s&&ao(b)?(l=S.total,l=(oo().isFunction(l)?l({data:e,$table:F,$grid:B,$gantt:null}):oo().get(e,l||"page.total"))||0,d.total=oo().toNumber(l),r=S.result,t=(oo().isFunction(r)?r({data:e,$table:F,$grid:B,$gantt:null}):oo().get(e,r||"result"))||[],r=Math.max(Math.ceil(l/d.pageSize),1),d.currentPage>r&&(d.currentPage=r)):(l=S.list,t=(l?oo().isFunction(l)?l({data:e,$table:F,$grid:B,$gantt:null}):oo().get(e,l):e)||[])),F?F.loadData(t):(0,co.nextTick)(()=>{var e=$.value;e&&e.loadData(t)}),w&&w(a,...g),n&&n({...a,response:e}),{status:!0}}).catch(e=>(A.tableLoading=!1,l&&l({...a,response:e}),{status:!1}))}_l("vxe.error.notFunc",["[grid] proxy-config.ajax.query"]);break}case"delete":{let l=R.delete,o=R.deleteSuccess,a=R.deleteError;if(l){let e=B.getCheckboxRecords(),t=e.filter(e=>!F.isInsertByRow(e));var O={removeRecords:t};let r={$table:F,$grid:B,$gantt:null,code:p,button:u,body:O,form:c,options:l};if(e.length)return Y(p,"vxe.grid.deleteSelectRecord",()=>t.length?(A.tableLoading=!0,Promise.resolve((n||l)(r,...g)).then(e=>(A.tableLoading=!1,F.setPendingRow(t,!1),f&&lo.VxeUI.modal&&lo.VxeUI.modal.message({content:N(e,"vxe.grid.delSuccess"),status:"success"}),y?y(r,...g):B.commitProxy("query"),o&&o({...r,response:e}),{status:!0})).catch(e=>(A.tableLoading=!1,f&&lo.VxeUI.modal&&lo.VxeUI.modal.message({id:p,content:N(e,"vxe.grid.operError"),status:"error"}),a&&a({...r,response:e}),{status:!1}))):F.remove(e));m&&lo.VxeUI.modal&&lo.VxeUI.modal.message({id:p,content:Re("vxe.grid.selectOneRecord"),status:"warning"})}else _l("vxe.error.notFunc",["[grid] proxy-config.ajax.delete"]);break}case"save":{let i=R.save,s=R.saveSuccess,d=R.saveError;if(i){let t=F.getRecordset(),{insertRecords:r,removeRecords:l,updateRecords:o,pendingRecords:a}=t,n={$table:F,$grid:B,$gantt:null,code:p,button:u,body:t,form:c,options:i},e=(r.length&&(t.pendingRecords=a.filter(e=>-1===F.findRowIndexOf(r,e))),a.length&&(t.insertRecords=r.filter(e=>-1===F.findRowIndexOf(a,e))),Promise.resolve());return(e=h?F[v&&"full"===v.msgMode?"fullValidate":"validate"](t.insertRecords.concat(o)):e).then(e=>{if(!e)return t.insertRecords.length||l.length||o.length||t.pendingRecords.length?(A.tableLoading=!0,Promise.resolve((T||i)(n,...g)).then(e=>(A.tableLoading=!1,F.clearPendingRow(),f&&lo.VxeUI.modal&&lo.VxeUI.modal.message({content:N(e,"vxe.grid.saveSuccess"),status:"success"}),E?E(n,...g):B.commitProxy("query"),s&&s({...n,response:e}),{status:!0})).catch(e=>(A.tableLoading=!1,f&&lo.VxeUI.modal&&lo.VxeUI.modal.message({id:p,content:N(e,"vxe.grid.operError"),status:"error"}),d&&d({...n,response:e}),{status:!1}))):void(m&&lo.VxeUI.modal&&lo.VxeUI.modal.message({id:p,content:Re("vxe.grid.dataUnchanged"),status:"info"}))})}_l("vxe.error.notFunc",["[grid] proxy-config.ajax.save"]);break}default:var O=ct.get(p);O&&((O=O.tableCommandMethod||O.commandMethod)?O({code:p,button:u,$grid:B,$table:F,$gantt:null},...g):_l("vxe.error.notCommands",["[grid] "+p]))}}return(0,co.nextTick)()},getParams(){return u.params},zoom(){return A.isZMax?B.revert():B.maximize()},isMaximized(){return A.isZMax},maximize(){return se(!0)},revert(){return se()},getFormData:V,getFormItems(e){var t=C.value,r=u.formConfig,l=t.items;let o=[];return oo().eachTree(r&&ao(t)&&l?l:[],e=>{o.push(e)},{children:"children"}),oo().isUndefined(e)?o:o[e]},resetForm(){var e=i.value;return e?e.reset():(0,co.nextTick)()},validateForm(){var e=i.value;return e?e.validate():(0,co.nextTick)()},validateFormField(e){var t=i.value;return t?t.validateField(e):(0,co.nextTick)()},clearFormValidate(e){var t=i.value;return t?t.clearValidate(e):(0,co.nextTick)()},homePage(){var e=A.tablePage;return e.currentPage=1,(0,co.nextTick)()},homePageByEvent(e){var t=s.value;t&&t.homePageByEvent(e)},endPage(){var e=A.tablePage,t=y.value;return e.currentPage=t,(0,co.nextTick)()},endPageByEvent(e){var t=s.value;t&&t.endPageByEvent(e)},getCurrentPage(){var e=A.tablePage;return e.currentPage},setCurrentPage(e){var t=A.tablePage,r=y.value;return t.currentPage=Math.min(r,Math.max(1,oo().toNumber(e))),(0,co.nextTick)()},setCurrentPageByEvent(e,t){var r=s.value;r&&r.setCurrentPageByEvent(e,t)},getPageSize(){var e=A.tablePage;return e.pageSize},setPageSize(e){var t=A.tablePage;return t.pageSize=Math.max(1,oo().toNumber(e)),(0,co.nextTick)()},setPageSizeByEvent(e,t){var r=s.value;r&&r.setPageSizeByEvent(e,t)},getProxyInfo(){var e,t=$.value;return u.proxyConfig?(e=A.sortData,{data:t?t.getFullData():[],filter:A.filterData,form:V(),sort:e.length?e[0]:{},sorts:e,pager:A.tablePage,pendingRecords:t?t.getPendingRecords():[]}):null}};let Te={extendTableMethods:o,callSlot(e,t){return e&&(oo().isString(e)&&(e=p[e]||null),oo().isFunction(e))?Eo(e(t)):[]},getExcludeHeight(){var t=u.height,r=A.isZMax,l=c.value;if(l){var o=h.value,a=v.value,n=m.value,i=f.value,s=x.value,d=l.parentElement;let e=0;return(e=!d||"100%"!==t&&"auto"!==t?e:r?0:$o(d))+$o(l)+Tr(o)+Tr(a)+Tr(n)+Tr(i)+Tr(s)}return 0},getParentHeight(){var e=c.value;return e?(e=e.parentElement,(A.isZMax?yr().visibleHeight:e?oo().toNumber(getComputedStyle(e).height):0)-Te.getExcludeHeight()):0},triggerToolbarCommitEvent(e,t){let r=e.code;return B.commitProxy(e,t).then(e=>{r&&e&&e.status&&["query","reload","delete","save"].includes(r)&&B.dispatchEvent("delete"===r||"save"===r?"proxy-"+r:"proxy-query",{...e,isReload:"reload"===r},t)})},triggerToolbarBtnEvent(e,t){B.triggerToolbarCommitEvent(e,t),B.dispatchEvent("toolbar-button-click",{code:e.code,button:e},t)},triggerToolbarTolEvent(e,t){B.triggerToolbarCommitEvent(e,t),B.dispatchEvent("toolbar-tool-click",{code:e.code,tool:e},t)},triggerZoomEvent(e){B.zoom(),B.dispatchEvent("zoom",{type:A.isZMax?"max":"revert"},e)}};Object.assign(B,b,t,Te,{loadColumn(e){var t=$.value;return oo().eachTree(e,e=>{e.slots&&oo().each(e.slots,e=>{oo().isFunction(e)||p[e]||_l("vxe.error.notSlot",["[grid] "+e])})}),t?t.loadColumn(e):(0,co.nextTick)()},reloadColumn(e){return B.clearAll(),B.loadColumn(e)}});let S=(0,co.ref)(0);return(0,co.watch)(()=>u.columns?u.columns.length:-1,()=>{S.value++}),(0,co.watch)(()=>u.columns,()=>{S.value++}),(0,co.watch)(S,()=>{(0,co.nextTick)(()=>B.loadColumn(u.columns||[]))}),(0,co.watch)(()=>u.toolbarConfig,()=>{K()}),(0,co.watch)(j,()=>{T("currentPage")}),(0,co.watch)(G,()=>{T("pageSize")}),(0,co.watch)(U,()=>{T("total")}),(0,co.watch)(()=>u.proxyConfig,()=>{Ce()}),ut.forEach(e=>{var e=e.setupGrid;e&&(e=e(B))&&oo().isObject(e)&&Object.assign(B,e)}),T(),(0,co.onMounted)(()=>{(0,co.nextTick)(()=>{var e=u.columns,t=L.value;u.formConfig&&!n&&_l("vxe.error.reqComp",["vxe-form"]),u.pagerConfig&&!a&&_l("vxe.error.reqComp",["vxe-pager"]),t.props&&Hl("vxe.error.delProp",["[grid] proxy-config.props","proxy-config.response"]),e&&e.length&&B.loadColumn(e),K(),Ce()}),ht.on(B,"keydown",we)}),(0,co.onUnmounted)(()=>{ht.off(B,"keydown"),oo().assign(r,{})}),B.renderVN=()=>{var e=D.value,t=I.value,r=W.value;return(0,co.h)("div",{ref:c,class:["vxe-grid",{["size--"+e]:e,"is--animat":!!u.animat,"is--round":u.round,"is--maximize":A.isZMax,"is--loading":r}],style:t},(()=>{var{headKeys:e,bodyKeys:t,footKeys:r}=O.value,l=p.asideLeft||p["aside-left"],o=p.asideRight||p["aside-right"];return[(0,co.h)("div",{class:"vxe-grid--layout-header-wrapper"},R(e)),(0,co.h)("div",{class:"vxe-grid--layout-body-wrapper"},[l?(0,co.h)("div",{class:"vxe-grid--layout-aside-left-wrapper"},l({})):Se(B),(0,co.h)("div",{class:"vxe-grid--layout-body-content-wrapper"},R(t)),o?(0,co.h)("div",{class:"vxe-grid--layout-aside-right-wrapper"},o({})):Se(B)]),(0,co.h)("div",{class:"vxe-grid--layout-footer-wrapper"},R(r)),(0,co.h)("div",{ref:g})]})())},(0,co.provide)("$xeGrid",B),(0,co.provide)("$xeGantt",null),B},render(){return this.renderVN()}});let wt=Object.assign({},fa,{install(e){e.component(fa.name,fa)}}),yt=(lo.VxeUI.dynamicApp&&lo.VxeUI.dynamicApp.component(fa.name,fa),lo.VxeUI.component(fa),wt),Tt=Object.assign({},ha,{install(e){e.component(ha.name,ha)}}),Et=(ol={useCellView:function(l){var e=(0,co.computed)(()=>{var e=l.renderParams;return e.column}),t=(0,co.computed)(()=>{var e=l.renderParams;return e.row}),r=(0,co.computed)(()=>{var e=l.renderOpts;return e.props||{}});return{currColumn:e,currRow:t,cellModel:(0,co.computed)({get(){var e=l.renderParams,{row:e,column:t}=e;return oo().get(e,t.field)},set(e){var t=l.renderParams,{row:t,column:r}=t;return oo().set(t,r.field,e)}}),cellOptions:r}}},lo.VxeUI.dynamicApp&&lo.VxeUI.dynamicApp.component(ha.name,ha),lo.VxeUI.component(ha),lo.VxeUI.tableHandle=ol,Tt),Rt=Object.assign({},ma,{install(e){e.component(ma.name,ma)}}),St=(lo.VxeUI.dynamicApp&&lo.VxeUI.dynamicApp.component(ma.name,ma),lo.VxeUI.component(ma),Rt),Ft=[ie,de,wt,Tt,Rt];function xa(t,e){lo.VxeUI.setConfig(e),Ft.forEach(e=>e.install(t))}lo.VxeUI.hasLanguage("zh-CN")||(lo.VxeUI.setI18n("zh-CN",{vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',modelConflicts:'绑定的字段值 "{0}" 与 "{1}" 存在冲突，将会出现错误',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',reqSupportProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',noGroup:'数据分组后不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',repeatProp:'参数重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误",useNew:"不建议使用 {0}，请使用 {1}",errorVersion:"版本不匹配，当前版本 {0}，最低支持版本为 {1}"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",maxGroupCol:"最大分组字段的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素",rowGroupContentTotal:"{0}（{1}）",menuLoading:"加载中..."},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{clear:"清除",allChecked:"全选",total:"{0} / {1}",search:"搜索",loadingText:"加载中",emptyText:"暂无数据",maxSize:"最大可选择的数量不能超过 {0} 个",overSizeErr:"已超出最大可选数量 {0} 个，超出部分将被忽略！",searchEmpty:"未匹配到数据！"},tree:{searchEmpty:"未匹配到数据！"},treeSelect:{clearChecked:"清除",allChecked:"全选",allExpand:"全部展开",clearExpand:"全部收起",total:"已选 {0}",search:"搜索",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整顺序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},dateRangePicker:{pleaseRange:"请选择开始日期与结束日期"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",manualUpload:"点击上传",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}",hex:"十六进制"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},gantt:{tFullFormat:{year:"{yy}年",quarter:"{yy}年第{q}季度",month:"{yy}年{M}月",week:"{yy}年第{W}周",day:"{yy}年{M}月{E}日",date:"{yy}年{M}月{d}日",hour:"{yy}年 {M}月{d}日{H}时",minute:"{yy}年{M}月{d}日{H}时{m}分"},tSimpleFormat:{year:"{yy}年",quarter:"{q}季度",month:"{M}月",week:"{W}周",day:"{d}",date:"{d}",hour:"{H}时",minute:"{m}分"},dayss:{w0:"日",w1:"一",w2:"二",w3:"三",w4:"四",w5:"五",w6:"六"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},extendPivotTable:{aggregation:{grouping:"分组",values:"值",groupPlaceholder:"拖至此处进行分组",valuesPlaceholder:"拖至此处进行聚合",dragExistCol:"该列已存在",sortHelpTip:"点击并拖动图标可以调整顺序"},aggFuncs:{sum:"求和",count:"计数",avg:"平均值",min:"最小值",max:"最大值",first:"首个值",last:"末尾值"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}}),lo.VxeUI.setLanguage("zh-CN")),lo.VxeUI.setTheme("light"),"undefined"!=typeof window&&window.Vue&&!window.VXETable&&(window.VXETable=Kt);var ba=Kt;return Xt}});